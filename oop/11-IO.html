<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java IOæµç³»ç»Ÿè¯¦è§£</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/IO.css">
    <link rel="stylesheet" href="../prism/prism.css">
</head>
<body>

    <main id="presentation">
        <!-- Slide 1: Title -->
        <section class="slide title-slide active">
            <h1>Java IOæµç³»ç»Ÿ</h1>
            <p>é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ï¼ˆJavaï¼‰</p>
            <strong>æŒæ¡æ–‡ä»¶æ“ä½œä¸æ•°æ®æµå¤„ç†ï¼Œæ„å»ºå®Œæ•´çš„è¾“å…¥è¾“å‡ºä½“ç³»</strong>
        </section>

        <!-- Slide 2: File Class Basics -->
        <section class="slide">
            <div class="slide-content">
                <h2>Fileç±»åŸºç¡€æ¦‚å¿µ</h2>
                <p><code>File</code> ç±»æ˜¯Javaä¸­ç”¨äºè¡¨ç¤ºæ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶æˆ–ç›®å½•è·¯å¾„åçš„æŠ½è±¡è¡¨ç¤ºã€‚å®ƒæä¾›äº†ä¸€ä¸ªä¸å¹³å°æ— å…³çš„æ–¹å¼æ¥å¤„ç†æ–‡ä»¶å’Œç›®å½•ã€‚</p>
                <img src="images/11-IO-file.jpg" alt="Fileç±»å±‚æ¬¡ç»“æ„" style="width: 80%; margin: 0 auto;" >
                <h3>ğŸ—ï¸ æ„é€ æ–¹æ³•</h3>
                <pre><code class="language-java">// 1. ä½¿ç”¨å®Œæ•´è·¯å¾„
File file1 = new File("D:\\workspace\\test.txt");

// 2. ä½¿ç”¨çˆ¶ç›®å½•å’Œå­è·¯å¾„
File file2 = new File("D:\\workspace", "test.txt");

// 3. ä½¿ç”¨Fileå¯¹è±¡å’Œå­è·¯å¾„
File parent = new File("D:\\workspace");
File file3 = new File(parent, "test.txt");

// 4. è·¯å¾„åˆ†éš”ç¬¦çš„è·¨å¹³å°å¤„ç†
String path = "docs" + File.separator + "data" + File.separator + "config.txt";</code></pre>

                <h3>âš ï¸ é‡è¦æ¦‚å¿µ</h3>
                <ul>
                    <li><strong>æŠ½è±¡è¡¨ç¤º</strong>ï¼šFileå¯¹è±¡ä¸ä¸€å®šå¯¹åº”çœŸå®å­˜åœ¨çš„æ–‡ä»¶</li>
                    <li><strong>è·¯å¾„åˆ†éš”ç¬¦</strong>ï¼šWindowsä½¿ç”¨<code>\</code>ï¼ŒLinux/macOSä½¿ç”¨<code>/</code></li>
                    <li><strong>ç›¸å¯¹è·¯å¾„</strong> vs <strong>ç»å¯¹è·¯å¾„</strong>ï¼šç›¸å¯¹äºå½“å‰å·¥ä½œç›®å½• vs ä»æ ¹ç›®å½•å¼€å§‹</li>
                    <li><strong>è§„èŒƒè·¯å¾„</strong>ï¼šè§£æ<code>.</code>å’Œ<code>..</code>åçš„æ ‡å‡†è·¯å¾„</li>
                </ul>

                <p class="conclusion">Fileç±»åªæ˜¯è·¯å¾„çš„æŠ½è±¡ï¼Œä¸åˆ›å»ºå®é™…æ–‡ä»¶ã€‚çœŸæ­£çš„æ–‡ä»¶æ“ä½œéœ€è¦å…¶ä»–IOç±»é…åˆã€‚</p>
            </div>
        </section>

        <!-- Slide 3: File Path and Name Methods -->
        <section class="slide">
            <div class="slide-content">
                <h2>Fileç±»è·¯å¾„å’Œåç§°æ–¹æ³•</h2>
                <p>Fileç±»æä¾›äº†ä¸°å¯Œçš„æ–¹æ³•æ¥è·å–è·¯å¾„ä¿¡æ¯å’Œæ–‡ä»¶åç§°ã€‚</p>
                <img src="images/11-IO-file-path.jpg" alt="Fileç±»è·¯å¾„å’Œåç§°æ–¹æ³•" style="width: 100%; margin: 0 auto;" >

                <pre><code class="language-java">public static void main(String[] args) throws IOException {
    // åˆ›å»ºæµ‹è¯•æ–‡ä»¶
    File file = new File("./test/../docs/data.txt");
    file.getParentFile().mkdirs();
    file.createNewFile();

    // è·¯å¾„ç›¸å…³æ–¹æ³•
    // "data.txt"
    System.out.println("getName(): " + file.getName());  
    // "./test/../docs/data.txt" 
    System.out.println("getPath(): " + file.getPath());   
    // å®Œæ•´ç»å¯¹è·¯å¾„
    System.out.println("getAbsolutePath(): " + file.getAbsolutePath()); 
    // è§„èŒƒåŒ–è·¯å¾„
    System.out.println("getCanonicalPath(): " + file.getCanonicalPath()); 

    // çˆ¶ç›®å½•ç›¸å…³
    // "./test/../docs"
    System.out.println("getParent(): " + file.getParent());       
    File parent = file.getParentFile();
    // "docs"
    System.out.println("çˆ¶ç›®å½•å: " + parent.getName());           

    // ç£ç›˜ç©ºé—´ä¿¡æ¯
    File root = new File("C:");
    long toGB = 1024 * 1024 * 1024;
    System.out.println("æ€»ç©ºé—´: " + root.getTotalSpace() / toGB + " GB");
    System.out.println("å¯ç”¨ç©ºé—´: " + root.getFreeSpace() / toGB + " GB");
    System.out.println("å¯ç”¨ç©ºé—´: " + root.getUsableSpace() / toGB + " GB");
}</code></pre>

                <h3>ğŸ”„ è·¯å¾„è½¬æ¢å¯¹æ¯”</h3>
                <table class="table-standard">
                    <thead>
                        <tr>
                            <th>æ–¹æ³•</th>
                            <th>ç‰¹ç‚¹</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>getPath()</td>
                            <td>è¿”å›åˆ›å»ºæ—¶çš„åŸå§‹è·¯å¾„</td>
                        </tr>
                        <tr>
                            <td>getAbsolutePath()</td>
                            <td>è½¬æ¢ä¸ºç»å¯¹è·¯å¾„ï¼Œä½†ä¸è§£æ..</td>
                        </tr>
                        <tr>
                            <td>getCanonicalPath()</td>
                            <td>è§£æ..å’Œ.ï¼Œè¿”å›è§„èŒƒè·¯å¾„ï¼ˆæ¨èï¼‰</td>
                        </tr>
                    </tbody>
                </table>

                <p class="conclusion"><strong>æé—®</strong>ï¼šä»€ä¹ˆæ—¶å€™éœ€è¦ä½¿ç”¨getCanonicalPath()è€Œä¸æ˜¯getAbsolutePath()ï¼Ÿ</p>
            </div>
        </section>

        <!-- Slide 4: File Status and Attribute Methods -->
        <section class="slide">
            <div class="slide-content">
                <h2>Fileç±»çŠ¶æ€å’Œå±æ€§æ–¹æ³•</h2>
                <p>æ£€æŸ¥æ–‡ä»¶çŠ¶æ€ã€è·å–æ–‡ä»¶å±æ€§æ˜¯æ–‡ä»¶æ“ä½œçš„ç¬¬ä¸€æ­¥ã€‚</p>
                <img src="images/11-IO-file-method.jpg" alt="Fileç±»çŠ¶æ€å’Œå±æ€§æ–¹æ³•" style="width: 100%; margin: 0 auto;" >

                <pre><code class="language-java">public static void analyzeFile(String filePath) {
    File file = new File(filePath);

    // å­˜åœ¨æ€§æ£€æŸ¥
    if (!file.exists()) {
        System.out.println("æ–‡ä»¶ä¸å­˜åœ¨: " + filePath);
        return;
    }

    // ç±»å‹åˆ¤æ–­
    System.out.println("æ˜¯æ–‡ä»¶: " + file.isFile());
    System.out.println("æ˜¯ç›®å½•: " + file.isDirectory());
    System.out.println("æ˜¯ç»å¯¹è·¯å¾„: " + file.isAbsolute());
    System.out.println("æ˜¯éšè—æ–‡ä»¶: " + file.isHidden());

    // æƒé™æ£€æŸ¥
    System.out.println("å¯è¯»: " + file.canRead());
    System.out.println("å¯å†™: " + file.canWrite());
    System.out.println("å¯æ‰§è¡Œ: " + file.canExecute());

    // æ–‡ä»¶å±æ€§
    System.out.println("æ–‡ä»¶å¤§å°: " + file.length() + " å­—èŠ‚");

    // æ—¶é—´æˆ³å¤„ç†
    long lastModified = file.lastModified();
    Date date = new Date(lastModified);
    System.out.println("æœ€åä¿®æ”¹æ—¶é—´: " + 
        new SimpleDateFormat("yyyy-MM-dd HH:mm:ss").format(date));

    // å¦‚æœæ˜¯ç›®å½•ï¼Œæ˜¾ç¤ºæ–‡ä»¶æ•°é‡
    if (file.isDirectory()) {
        String[] files = file.list();
        System.out.println("ç›®å½•ä¸‹çš„æ–‡ä»¶æ•°é‡: " 
            + (files != null ? files.length : 0));
    }
}</code></pre>

                <h3>âš¡ å®é™…åº”ç”¨åœºæ™¯</h3>
                <ul>
                    <li><strong>æ–‡ä»¶å¤‡ä»½å‰æ£€æŸ¥</strong>ï¼šéªŒè¯æ–‡ä»¶å­˜åœ¨æ€§å’Œå¯è¯»æ€§</li>
                    <li><strong>ç£ç›˜ç©ºé—´ç®¡ç†</strong>ï¼šå¤§æ–‡ä»¶å¤„ç†å‰æ£€æŸ¥å‰©ä½™ç©ºé—´</li>
                    <li><strong>æ–‡ä»¶ç›‘æ§</strong>ï¼šé€šè¿‡æ—¶é—´æˆ³æ£€æµ‹æ–‡ä»¶å˜åŒ–</li>
                    <li><strong>æƒé™éªŒè¯</strong>ï¼šç¡®ä¿ç¨‹åºæœ‰è¶³å¤Ÿæƒé™æ“ä½œæ–‡ä»¶</li>
                </ul>

                <p class="conclusion"><strong>æç¤º</strong>ï¼šåœ¨æ‰§è¡Œæ–‡ä»¶æ“ä½œå‰ï¼Œä¸€å®šè¦å…ˆè°ƒç”¨exists()ç­‰æ–¹æ³•æ£€æŸ¥æ–‡ä»¶çŠ¶æ€ï¼</p>
            </div>
        </section>

        <!-- Slide 5: File Operation Methods -->
        <section class="slide">
            <div class="slide-content">
                <h2>Fileç±»æ“ä½œæ–¹æ³•</h2>
                <p>Fileç±»æä¾›äº†åˆ›å»ºã€åˆ é™¤ã€é‡å‘½åç­‰æ–‡ä»¶æ“ä½œæ–¹æ³•ã€‚</p>

                <h3>ğŸ“ åˆ›å»ºå’Œåˆ é™¤æ“ä½œ</h3>
                <pre><code class="language-java">public static void fileOperationsDemo() throws IOException {
    // 1. åˆ›å»ºæ–‡ä»¶
    File file = new File("temp.txt");
    if (file.createNewFile()) {
        System.out.println("æ–‡ä»¶åˆ›å»ºæˆåŠŸ: " + file.getName());
    } else {
        System.out.println("æ–‡ä»¶å·²å­˜åœ¨æˆ–åˆ›å»ºå¤±è´¥");
    }

    // 2. åˆ›å»ºç›®å½•
    File dir = new File("mydir");
    if (dir.mkdir()) {
        System.out.println("å•çº§ç›®å½•åˆ›å»ºæˆåŠŸ");
    }

    // 3. åˆ›å»ºå¤šçº§ç›®å½•
    File multiDir = new File("path/to/deep/directory");
    if (multiDir.mkdirs()) {
        System.out.println("å¤šçº§ç›®å½•åˆ›å»ºæˆåŠŸ");
    }

    // 4. åˆ é™¤æ–‡ä»¶
    if (file.delete()) {
        System.out.println("æ–‡ä»¶åˆ é™¤æˆåŠŸ");
    }

    // 5. ç¨‹åºé€€å‡ºæ—¶åˆ é™¤
    File tempFile = File.createTempFile("temp", ".txt");
    tempFile.deleteOnExit(); // JVMé€€å‡ºæ—¶è‡ªåŠ¨åˆ é™¤

    // 6. é‡å‘½å/ç§»åŠ¨æ–‡ä»¶
    File oldFile = new File("old.txt");
    File newFile = new File("new.txt");
    if (oldFile.renameTo(newFile)) {
        System.out.println("æ–‡ä»¶é‡å‘½åæˆåŠŸ");
    }
}</code></pre>

                <h3>ğŸ” ç›®å½•éå†å’Œè¿‡æ»¤</h3>
                <pre><code class="language-java">// 7. åˆ—å‡ºç›®å½•å†…å®¹
File directory = new File(".");
String[] files = directory.list();
File[] fileObjects = directory.listFiles();

// 8. ä½¿ç”¨è¿‡æ»¤å™¨
// åªæ˜¾ç¤º.txtæ–‡ä»¶
String[] txtFiles = directory.list((dir, name) -> name.endsWith(".txt"));

// åªæ˜¾ç¤ºç›®å½•
File[] dirsOnly = directory.listFiles(File::isDirectory);

// è‡ªå®šä¹‰è¿‡æ»¤å™¨ï¼šæ˜¾ç¤ºå¤§äº1MBçš„æ–‡ä»¶
File[] largeFiles = directory.listFiles(file ->
    file.isFile() && file.length() > 1024 * 1024
);</code></pre>

                <h3>âš ï¸ å¸¸è§é™·é˜±</h3>
                <ul>
                    <li><strong>delete()ä¸èƒ½åˆ é™¤éç©ºç›®å½•</strong>ï¼Œéœ€è¦é€’å½’åˆ é™¤</li>
                    <li><strong>renameTo()ä¸èƒ½è·¨æ–‡ä»¶ç³»ç»Ÿ</strong>ç§»åŠ¨æ–‡ä»¶</li>
                    <li><strong>listFiles()å¯èƒ½è¿”å›null</strong>ï¼Œéœ€è¦ç©ºå€¼æ£€æŸ¥</li>
                </ul>

                <p class="conclusion">Fileç±»æä¾›äº†æ–‡ä»¶ç³»ç»Ÿæ“ä½œçš„åŸºç¡€ï¼Œä½†å®é™…çš„æ–‡ä»¶è¯»å†™éœ€è¦ä½¿ç”¨IOæµç±»ã€‚</p>
            </div>
        </section>

        <!-- Slide 6: IO Stream Overview - Basic Concepts -->
        <section class="slide">
            <div class="slide-content">
                <h2>IOæµæ¦‚è¿° - åŸºæœ¬æ¦‚å¿µ</h2>
                <p>Java IOé‡‡ç”¨<strong>æµ(Stream)</strong>çš„æ¦‚å¿µæ¥å¤„ç†æ•°æ®çš„è¾“å…¥è¾“å‡ºã€‚</p>
                <p>æµå°±åƒæ•°æ®ä¼ è¾“çš„ç®¡é“ï¼Œæ•°æ®ä»æºå¤´æµå‘ç›®çš„åœ°ã€‚</p>
                <img src="images/11-IO-water-metaphor.jpg" alt="IOæµå±‚æ¬¡ç»“æ„" style="width: 100%; margin: 0 auto;" >
                <h3>ğŸŒŠ æµçš„åŸºæœ¬æ¦‚å¿µ</h3>
                <ul>
                    <li><strong>å•å‘æ€§</strong>ï¼šè¾“å…¥æµåªèƒ½è¯»å–ï¼Œè¾“å‡ºæµåªèƒ½å†™å…¥</li>
                    <li><strong>é¡ºåºæ€§</strong>ï¼šæ•°æ®æŒ‰é¡ºåºä¼ è¾“ï¼Œæ”¯æŒéšæœºè®¿é—®çš„ç‰¹æ®Šç±»é™¤å¤–</li>
                    <li><strong>ç¼“å†²æœºåˆ¶</strong>ï¼šæé«˜I/Oæ•ˆç‡çš„å…³é”®</li>
                    <li><strong>è£…é¥°å™¨æ¨¡å¼</strong>ï¼šé€šè¿‡ç»„åˆå¢å¼ºåŠŸèƒ½</li>
                </ul>

                <h3>ğŸ’§ æµçš„æ¯”å–»ç†è§£</h3>
                <div class="flow-diagram">
                    <div class="flow-container">
                        <div class="flow-item">
                            <div class="emoji font-size-3rem">ğŸš°</div>
                            <p><strong>æ•°æ®æº</strong><br>æ–‡ä»¶ã€ç½‘ç»œã€å†…å­˜</p>
                        </div>
                        <div class="flow-arrow font-size-2rem">â†’</div>
                        <div class="flow-item">
                            <div class="emoji font-size-3rem">ğŸš¿</div>
                            <p><strong>è¾“å…¥æµ</strong><br>è¯»å–æ•°æ®</p>
                        </div>
                        <div class="flow-arrow font-size-2rem">â†’</div>
                        <div class="flow-item">
                            <div class="emoji font-size-3rem">ğŸ”„</div>
                            <p><strong>ç¨‹åºå¤„ç†</strong><br>è½¬æ¢æ•°æ®</p>
                        </div>
                        <div class="flow-arrow font-size-2rem">â†’</div>
                        <div class="flow-item">
                            <div class="emoji font-size-3rem">ğŸš¿</div>
                            <p><strong>è¾“å‡ºæµ</strong><br>å†™å…¥æ•°æ®</p>
                        </div>
                        <div class="flow-arrow font-size-2rem">â†’</div>
                        <div class="flow-item">
                            <div class="emoji font-size-3rem">ğŸª£</div>
                            <p><strong>ç›®çš„åœ°</strong><br>æ–‡ä»¶ã€ç½‘ç»œã€å†…å­˜</p>
                        </div>
                    </div>
                </div>

                <h3>ğŸ“Š æµçš„åŸºæœ¬æ“ä½œ</h3>
                <pre><code class="language-java">// è¾“å…¥æµçš„åŸºæœ¬æ“ä½œæ¨¡å¼
try (InputStream input = new FileInputStream("source.txt")) {
    int data;
    while ((data = input.read()) != -1) {  // è¯»å–æ•°æ®
        process(data);                     // å¤„ç†æ•°æ®
    }
} // è‡ªåŠ¨å…³é—­æµ

// è¾“å‡ºæµçš„åŸºæœ¬æ“ä½œæ¨¡å¼
try (OutputStream output = new FileOutputStream("target.txt")) {
    byte[] data = "Hello World".getBytes();
    output.write(data);                    // å†™å…¥æ•°æ®
    output.flush();                        // åˆ·æ–°ç¼“å†²åŒº
} // è‡ªåŠ¨å…³é—­æµ</code></pre>


                <p class="conclusion">æµæ˜¯Java IOçš„æ ¸å¿ƒæ¦‚å¿µï¼Œç†è§£æµçš„ç‰¹æ€§å’Œåˆ†ç±»æ˜¯æŒæ¡Java IOä½“ç³»çš„åŸºç¡€ã€‚å­—èŠ‚æµå’Œå­—ç¬¦æµçš„é€‰æ‹©å–å†³äºæ•°æ®ç±»å‹ï¼šæ–‡æœ¬æ•°æ®ä½¿ç”¨å­—ç¬¦æµ(Text IO)ï¼ŒäºŒè¿›åˆ¶æ•°æ®ä½¿ç”¨å­—èŠ‚æµ(Binary IO)ï¼Œå¯¹è±¡çŠ¶æ€ä¿å­˜ä½¿ç”¨åºåˆ—åŒ–(Object IO)ã€‚</p>
            </div>
        </section>

        <!-- Slide 7: IO Stream Hierarchy -->
        <section class="slide">
            <div class="slide-content">
                <h2>IOæµå±‚æ¬¡ç»“æ„</h2>
                <p>Java IOå››å¤§æŠ½è±¡ç±»æ„æˆäº†å®Œæ•´çš„æµä½“ç³»ï¼Œé€šè¿‡ç»§æ‰¿å’Œè£…é¥°å™¨æ¨¡å¼å®ç°ä¸°å¯ŒåŠŸèƒ½ã€‚</p>

                
                <h3>ğŸ—ï¸ å››å¤§æŠ½è±¡ç±»ä½“ç³»æ¦‚è§ˆ</h3>
                <div class="abstract-classes">
                    <div class="classes-grid">
                        <div class="class-card input-stream-card">
                            <h4 class="input-stream-title">å­—èŠ‚è¾“å…¥æµ</h4>
                            <strong class="class-name">InputStream</strong>
                            <p class="class-description">æ‰€æœ‰å­—èŠ‚è¾“å…¥æµçš„æŠ½è±¡åŸºç±»</p>
                        </div>
                        <div class="class-card output-stream-card">
                            <h4 class="output-stream-title">å­—èŠ‚è¾“å‡ºæµ</h4>
                            <strong class="class-name">OutputStream</strong>
                            <p class="class-description">æ‰€æœ‰å­—èŠ‚è¾“å‡ºæµçš„æŠ½è±¡åŸºç±»</p>
                        </div>
                        <div class="class-card reader-card">
                            <h4 class="reader-title">å­—ç¬¦è¾“å…¥æµ</h4>
                            <strong class="class-name">Reader</strong>
                            <p class="class-description">æ‰€æœ‰å­—ç¬¦è¾“å…¥æµçš„æŠ½è±¡åŸºç±»</p>
                        </div>
                        <div class="class-card writer-card">
                            <h4 class="writer-title">å­—ç¬¦è¾“å‡ºæµ</h4>
                            <strong class="class-name">Writer</strong>
                            <p class="class-description">æ‰€æœ‰å­—ç¬¦è¾“å‡ºæµçš„æŠ½è±¡åŸºç±»</p>
                        </div>
                    </div>
                </div>


            </div>
        </section>

        <!-- Slide 8: Byte Stream Hierarchy and Comparison -->
        <section class="slide">
            <div class="slide-content">
                <h2>å­—èŠ‚æµå±‚æ¬¡ç»“æ„</h2>
                <p>å­—èŠ‚æµæ˜¯Java IOçš„åŸºç¡€ï¼Œç›´æ¥å¤„ç†äºŒè¿›åˆ¶æ•°æ®</p>
                <p>æ‰€æœ‰å…¶ä»–æµç±»å‹éƒ½æ˜¯åœ¨å­—èŠ‚æµåŸºç¡€ä¸Šæ„å»ºçš„ã€‚</p>
                <img src="images/11-IO-byte-stream-structure.jpg" alt="å­—èŠ‚æµå±‚æ¬¡ç»“æ„" style="width: 100%; margin: 0 auto;" >

                <h3>ğŸŒ³ InputStream å±‚æ¬¡ç»“æ„</h3>
                <div class="io-hierarchy">
                    <div class="hierarchy-section">
                        <div class="tree-container">
                            <div class="tree-node">
                                <span class="tree-root">InputStream</span>
                                <span class="tree-description">(å­—èŠ‚è¾“å…¥æµ)</span>
                            </div>
                            <div class="tree-children">
                                <div class="tree-node">
                                    <span class="tree-connector">â”œâ”€â”€ </span>
                                    <code class="stream-code">FileInputStream</code>
                                    <span class="tree-desc">- æ–‡ä»¶å­—èŠ‚è¾“å…¥æµ</span>
                                </div>
                                <div class="tree-node">
                                    <span class="tree-connector">â”œâ”€â”€ </span>
                                    <code class="stream-code">BufferedInputStream</code>
                                    <span class="tree-desc">- ç¼“å†²å­—èŠ‚è¾“å…¥æµ</span>
                                </div>
                                <div class="tree-node">
                                    <span class="tree-connector">â”œâ”€â”€ </span>
                                    <code class="stream-code">DataInputStream</code>
                                    <span class="tree-desc">- åŸºæœ¬æ•°æ®ç±»å‹è¾“å…¥æµ</span>
                                </div>
                                <div class="tree-node">
                                    <span class="tree-connector">â”œâ”€â”€ </span>
                                    <code class="stream-code">ObjectInputStream</code>
                                    <span class="tree-desc">- å¯¹è±¡è¾“å…¥æµ</span>
                                </div>
                                <div class="tree-node">
                                    <span class="tree-connector">â””â”€â”€ </span>
                                    <code class="stream-code">ByteArrayInputStream</code>
                                    <span class="tree-desc">- å­—èŠ‚æ•°ç»„è¾“å…¥æµ</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <h3>ğŸŒŠ OutputStream å±‚æ¬¡ç»“æ„</h3>
                <div class="io-hierarchy">
                    <div class="hierarchy-section">
                        <div class="tree-container">
                            <div class="tree-node">
                                <span class="tree-root">OutputStream</span>
                                <span class="tree-description">(å­—èŠ‚è¾“å‡ºæµ)</span>
                            </div>
                            <div class="tree-children">
                                <div class="tree-node">
                                    <span class="tree-connector">â”œâ”€â”€ </span>
                                    <code class="stream-code output-stream-code">FileOutputStream</code>
                                    <span class="tree-desc">- æ–‡ä»¶å­—èŠ‚è¾“å‡ºæµ</span>
                                </div>
                                <div class="tree-node">
                                    <span class="tree-connector">â”œâ”€â”€ </span>
                                    <code class="stream-code output-stream-code">BufferedOutputStream</code>
                                    <span class="tree-desc">- ç¼“å†²å­—èŠ‚è¾“å‡ºæµ</span>
                                </div>
                                <div class="tree-node">
                                    <span class="tree-connector">â”œâ”€â”€ </span>
                                    <code class="stream-code output-stream-code">DataOutputStream</code>
                                    <span class="tree-desc">- åŸºæœ¬æ•°æ®ç±»å‹è¾“å‡ºæµ</span>
                                </div>
                                <div class="tree-node">
                                    <span class="tree-connector">â”œâ”€â”€ </span>
                                    <code class="stream-code output-stream-code">ObjectOutputStream</code>
                                    <span class="tree-desc">- å¯¹è±¡è¾“å‡ºæµ</span>
                                </div>
                                <div class="tree-node">
                                    <span class="tree-connector">â””â”€â”€ </span>
                                    <code class="stream-code output-stream-code">ByteArrayOutputStream</code>
                                    <span class="tree-desc">- å­—èŠ‚æ•°ç»„è¾“å‡ºæµ</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

               
            </div>
        </section>

        <!-- Slide 9: Character Stream Hierarchy and Comparison -->
        <section class="slide">
            <div class="slide-content">
                <h2>å­—ç¬¦æµå±‚æ¬¡ç»“æ„</h2>
                <p>å­—ç¬¦æµä¸“é—¨ç”¨äºå¤„ç†æ–‡æœ¬æ•°æ®ï¼Œè‡ªåŠ¨å¤„ç†å­—ç¬¦ç¼–ç è½¬æ¢ï¼Œæ˜¯å¤„ç†æ–‡æœ¬çš„ç†æƒ³é€‰æ‹©ã€‚</p>
                <img src="images/11-IO-char-stream-structure.jpg" alt="å­—ç¬¦æµå±‚æ¬¡ç»“æ„" style="width: 100%; margin: 0 auto;" >

                <h3>ğŸ“– Reader å±‚æ¬¡ç»“æ„</h3>
                <div class="io-hierarchy">
                    <div class="hierarchy-section">
                        <div class="tree-container">
                            <div class="tree-node">
                                <span class="tree-root">Reader</span>
                                <span class="tree-description">(å­—ç¬¦è¾“å…¥æµ)</span>
                            </div>
                            <div class="tree-children">
                                <div class="tree-node">
                                    <span class="tree-connector">â”œâ”€â”€ </span>
                                    <code class="stream-code reader-code">FileReader</code>
                                    <span class="tree-desc">- æ–‡ä»¶å­—ç¬¦è¾“å…¥æµ</span>
                                </div>
                                <div class="tree-node">
                                    <span class="tree-connector">â”œâ”€â”€ </span>
                                    <code class="stream-code reader-code">BufferedReader</code>
                                    <span class="tree-desc">- ç¼“å†²å­—ç¬¦è¾“å…¥æµ</span>
                                </div>
                                <div class="tree-node">
                                    <span class="tree-connector">â”œâ”€â”€ </span>
                                    <code class="stream-code reader-code">InputStreamReader</code>
                                    <span class="tree-desc">- å­—èŠ‚æµåˆ°å­—ç¬¦æµçš„æ¡¥æ¢</span>
                                </div>
                                <div class="tree-node">
                                    <span class="tree-connector">â”œâ”€â”€ </span>
                                    <code class="stream-code reader-code">StringReader</code>
                                    <span class="tree-desc">- å­—ç¬¦ä¸²è¾“å…¥æµ</span>
                                </div>
                                <div class="tree-node">
                                    <span class="tree-connector">â””â”€â”€ </span>
                                    <code class="stream-code reader-code">CharArrayReader</code>
                                    <span class="tree-desc">- å­—ç¬¦æ•°ç»„è¾“å…¥æµ</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <h3>âœï¸ Writer å±‚æ¬¡ç»“æ„</h3>
                <div class="io-hierarchy">
                    <div class="hierarchy-section">
                        <div class="tree-container">
                            <div class="tree-node">
                                <span class="tree-root">Writer</span>
                                <span class="tree-description">(å­—ç¬¦è¾“å‡ºæµ)</span>
                            </div>
                            <div class="tree-children">
                                <div class="tree-node">
                                    <span class="tree-connector">â”œâ”€â”€ </span>
                                    <code class="stream-code writer-code">FileWriter</code>
                                    <span class="tree-desc">- æ–‡ä»¶å­—ç¬¦è¾“å‡ºæµ</span>
                                </div>
                                <div class="tree-node">
                                    <span class="tree-connector">â”œâ”€â”€ </span>
                                    <code class="stream-code writer-code">BufferedWriter</code>
                                    <span class="tree-desc">- ç¼“å†²å­—ç¬¦è¾“å‡ºæµ</span>
                                </div>
                                <div class="tree-node">
                                    <span class="tree-connector">â”œâ”€â”€ </span>
                                    <code class="stream-code writer-code">OutputStreamWriter</code>
                                    <span class="tree-desc">- å­—ç¬¦æµåˆ°å­—èŠ‚æµçš„æ¡¥æ¢</span>
                                </div>
                                <div class="tree-node">
                                    <span class="tree-connector">â”œâ”€â”€ </span>
                                    <code class="stream-code writer-code">StringWriter</code>
                                    <span class="tree-desc">- å­—ç¬¦ä¸²è¾“å‡ºæµ</span>
                                </div>
                                <div class="tree-node">
                                    <span class="tree-connector">â””â”€â”€ </span>
                                    <code class="stream-code writer-code">PrintWriter</code>
                                    <span class="tree-desc">- æ ¼å¼åŒ–å­—ç¬¦è¾“å‡ºæµ</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- Slide 10: Byte Stream vs Character Stream Comparison -->
        <section class="slide">
            <div class="slide-content">
                <h2>å­—èŠ‚æµä¸å­—ç¬¦æµå¯¹æ¯”</h2>
                <p>æ·±å…¥ç†è§£å­—èŠ‚æµå’Œå­—ç¬¦æµçš„åŒºåˆ«ä¸è”ç³»ï¼Œæ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©åˆé€‚çš„æµç±»å‹ã€‚</p>
                <img src="images/11-IO-char-vs-byte.jpg" alt="å­—èŠ‚æµä¸å­—ç¬¦æµå¯¹æ¯”" style="width: 100%; margin: 0 auto;" >
                
                <h3>ğŸ¯ å­—èŠ‚æµ vs å­—ç¬¦æµå¯¹æ¯”</h3>
                <table class="table-standard">
                    <thead>
                        <tr >
                            <th >ç‰¹æ€§</th>
                            <th >å­—èŠ‚æµ</th>
                            <th >å­—ç¬¦æµ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td ><strong>å¤„ç†å•ä½</strong></td>
                            <td >å­—èŠ‚(8ä½)</td>
                            <td >å­—ç¬¦(16ä½)</td>
                        </tr>
                        <tr>
                            <td ><strong>é€‚ç”¨åœºæ™¯</strong></td>
                            <td >äºŒè¿›åˆ¶æ–‡ä»¶(å›¾ç‰‡ã€éŸ³è§†é¢‘)</td>
                            <td >æ–‡æœ¬æ–‡ä»¶(.txt, .csv, .json)</td>
                        </tr>
                        <tr>
                            <td ><strong>ç¼–ç å¤„ç†</strong></td>
                            <td >æ— éœ€è€ƒè™‘</td>
                            <td >éœ€è¦å¤„ç†å­—ç¬¦ç¼–ç </td>
                        </tr>
                        <tr>
                            <td ><strong>å…¸å‹å­ç±»</strong></td>
                            <td >FileInputStream, BufferedInputStream</td>
                            <td >FileReader, BufferedReader</td>
                        </tr>
                    </tbody>
                </table>


                <p class="conclusion">å­—èŠ‚æµæ˜¯Java IOçš„åŸºç¡€ï¼Œå­—ç¬¦æµæ˜¯å­—èŠ‚æµçš„å°è£…ã€‚</p>
            </div>
        </section>

        <!-- Slide 11: Application Scenarios and Stream Selection -->
        <section class="slide">
            <div class="slide-content">
                <h2>åº”ç”¨åœºæ™¯ä¸æµç±»å‹é€‰æ‹©</h2>
                <p>ç†è§£å­—èŠ‚æµä¸å­—ç¬¦æµçš„åº”ç”¨åœºæ™¯ï¼Œæ ¹æ®æ•°æ®ç±»å‹é€‰æ‹©åˆé€‚çš„IOå·¥å…·ã€‚</p>

                <h3>ğŸŒŠ æµç±»å‹ä¸åº”ç”¨åœºæ™¯æ˜ å°„</h3>
                <div class="abstract-classes">
                    <div class="three-column-grid">
                        <div class="class-card input-stream-card">
                            <h4 class="input-stream-title">Text IO</h4>
                            <p class="card-paragraph"><strong>ä¸»è¦ä½¿ç”¨</strong>ï¼šå­—ç¬¦æµ</p>
                            <p class="card-paragraph"><strong>åº•å±‚å®ç°</strong>ï¼šå­—èŠ‚æµ+ç¼–ç è½¬æ¢</p>
                            <p class="card-paragraph"><strong>å…¸å‹ç±»</strong>ï¼šFileReader, BufferedReader</p>
                        </div>
                        <div class="class-card output-stream-card">
                            <h4 class="output-stream-title">Binary IO</h4>
                            <p class="card-paragraph"><strong>ä¸»è¦ä½¿ç”¨</strong>ï¼šå­—èŠ‚æµ</p>
                            <p class="card-paragraph"><strong>åº•å±‚å®ç°</strong>ï¼šç›´æ¥å­—èŠ‚æ“ä½œ</p>
                            <p class="card-paragraph"><strong>å…¸å‹ç±»</strong>ï¼šFileInputStream, DataInputStream</p>
                        </div>
                        <div class="class-card reader-card">
                            <h4 class="reader-title">Object IO</h4>
                            <p class="card-paragraph"><strong>åŸºäº</strong>ï¼šå­—èŠ‚æµ</p>
                            <p class="card-paragraph"><strong>å®ç°æœºåˆ¶</strong>ï¼šåºåˆ—åŒ–</p>
                            <p class="card-paragraph"><strong>å…¸å‹ç±»</strong>ï¼šObjectOutputStream, ObjectInputStream</p>
                        </div>
                    </div>
                </div>


                <h3>ğŸ¯ é€‰æ‹©å†³ç­–æ ‘</h3>
                <div class="decision-tree">
                    <p class="margin-bottom-0-5rem"><strong>ç¬¬ä¸€æ­¥ï¼šç¡®å®šæ•°æ®ç±»å‹</strong></p>
                    <ul class="decision-paragraph">
                        <li>æ–‡æœ¬æ•°æ® â†’ è€ƒè™‘å­—ç¬¦æµ</li>
                        <li>äºŒè¿›åˆ¶æ•°æ® â†’ ä½¿ç”¨å­—èŠ‚æµ</li>
                        <li>Javaå¯¹è±¡ â†’ è€ƒè™‘åºåˆ—åŒ–</li>
                    </ul>
                    <p class="margin-bottom-0-5rem"><strong>ç¬¬äºŒæ­¥ï¼šé€‰æ‹©å…·ä½“å®ç°</strong></p>
                    <ul class="decision-list-last">
                        <li>æ–‡æœ¬æ–‡ä»¶ â†’ FileReader/BufferedReader</li>
                        <li>äºŒè¿›åˆ¶æ–‡ä»¶ â†’ FileInputStream/DataInputStream</li>
                        <li>å¯¹è±¡ä¿å­˜ â†’ ObjectOutputStream/ObjectInputStream</li>
                    </ul>
                </div>

                <p class="conclusion"><strong>æ ¸å¿ƒç†è§£</strong>ï¼šå­—ç¬¦æµå’Œå­—èŠ‚æµæ˜¯Java IOçš„åŸºç¡€åˆ†ç±»ï¼ŒText/Binary/Object IOæ˜¯å®ƒä»¬åœ¨ä¸åŒåº”ç”¨åœºæ™¯çš„å…·ä½“ä½“ç°ã€‚<br>å­—ç¬¦æµæœ¬è´¨ä¸Šæ˜¯å­—èŠ‚æµ+ç¼–ç è½¬æ¢ï¼ŒObject IOæœ¬è´¨ä¸Šæ˜¯å­—èŠ‚æµçš„åºåˆ—åŒ–åº”ç”¨ã€‚</p>
            </div>
        </section>

        <!-- Slide 12: Byte Stream Basics -->
        <!-- Slide 12: Byte Stream Basics - InputStream -->
        <section class="slide">
            <div class="slide-content">
                <h2>å­—èŠ‚æµåŸºç¡€ - InputStream</h2>
                <p><code>InputStream</code> æ˜¯æ‰€æœ‰å­—èŠ‚è¾“å…¥æµçš„æŠ½è±¡åŸºç±»ï¼Œå®šä¹‰äº†è¯»å–å­—èŠ‚æ•°æ®çš„åŸºæœ¬è§„èŒƒã€‚</p>

                <h3>ğŸ“¥ InputStream æ ¸å¿ƒæ–¹æ³•</h3>
                <pre><code class="language-java">public abstract class InputStream {
    /**
     * è¯»å–å•ä¸ªå­—èŠ‚
     * @return è¯»å–çš„å­—èŠ‚å€¼ (0-255)ï¼Œå¦‚æœåˆ°è¾¾æµæœ«å°¾åˆ™è¿”å› -1
     * @throws IOException å½“å‘ç”ŸI/Oé”™è¯¯æ—¶æŠ›å‡º
     * @apiNote è¿™æ˜¯æœ€åŸºç¡€çš„è¯»å–æ–¹æ³•ï¼Œæ•ˆç‡è¾ƒä½ï¼Œé€šå¸¸ç”¨äºè¯»å–å°‘é‡æ•°æ®
     */
    public abstract int read() throws IOException;

    /**
     * è¯»å–å­—èŠ‚æ•°ç»„
     * @param b ç”¨äºå­˜å‚¨è¯»å–æ•°æ®çš„å­—èŠ‚æ•°ç»„
     * @return å®é™…è¯»å–çš„å­—èŠ‚æ•°ï¼Œå¦‚æœåˆ°è¾¾æµæœ«å°¾åˆ™è¿”å› -1
     * @throws IOException å½“å‘ç”ŸI/Oé”™è¯¯æ—¶æŠ›å‡º
     * @apiNote æ‰¹é‡è¯»å–ï¼Œæ¯”å•å­—èŠ‚è¯»å–æ•ˆç‡æ›´é«˜ï¼Œä¼šå¡«å……æ•´ä¸ªæ•°ç»„æˆ–ç›´åˆ°æµæœ«å°¾
     */
    public int read(byte[] b) throws IOException;

    /**
     * è¯»å–æŒ‡å®šé•¿åº¦çš„å­—èŠ‚æ•°ç»„
     * @param b ç”¨äºå­˜å‚¨è¯»å–æ•°æ®çš„å­—èŠ‚æ•°ç»„
     * @param off æ•°ç»„ä¸­å¼€å§‹å­˜å‚¨æ•°æ®çš„åç§»ä½ç½®
     * @param len è¦è¯»å–çš„æœ€å¤§å­—èŠ‚æ•°
     * @return å®é™…è¯»å–çš„å­—èŠ‚æ•°ï¼Œå¦‚æœåˆ°è¾¾æµæœ«å°¾åˆ™è¿”å› -1
     * @throws IOException å½“å‘ç”ŸI/Oé”™è¯¯æ—¶æŠ›å‡º
     * @throws IndexOutOfBoundsException å½“offæˆ–lenå‚æ•°æ— æ•ˆæ—¶æŠ›å‡º
     * @apiNote ç²¾ç¡®æ§åˆ¶è¯»å–ä½ç½®å’Œé•¿åº¦ï¼Œå¸¸ç”¨äºå¤„ç†åè®®æ•°æ®æˆ–æ–‡ä»¶æ ¼å¼
     */
    public int read(byte[] b, int off, int len) throws IOException;

    /**
     * è·³è¿‡æŒ‡å®šå­—èŠ‚æ•°
     * @param n è¦è·³è¿‡çš„å­—èŠ‚æ•°
     * @return å®é™…è·³è¿‡çš„å­—èŠ‚æ•°ï¼Œå¯èƒ½å°äºn
     * @throws IOException å½“å‘ç”ŸI/Oé”™è¯¯æ—¶æŠ›å‡º
     * @apiNote ç”¨äºå¿«é€Ÿè·³è¿‡ä¸éœ€è¦çš„æ•°æ®ï¼Œæ¯”è¯»å–å¹¶ä¸¢å¼ƒæ›´é«˜æ•ˆ
     */
    public long skip(long n) throws IOException;

    /**
     * è¿”å›å¯è¯»å–çš„å­—èŠ‚æ•°
     * @return å½“å‰å¯æ— é˜»å¡è¯»å–çš„å­—èŠ‚æ•°ä¼°è®¡å€¼
     * @throws IOException å½“å‘ç”ŸI/Oé”™è¯¯æ—¶æŠ›å‡º
     * @apiNote ä»…æ˜¯ä¼°è®¡å€¼ï¼Œä¸åº”ä¾èµ–å…¶ç²¾ç¡®æ€§ï¼Œç”¨äºä¼˜åŒ–è¯»å–ç­–ç•¥
     */
    public int available() throws IOException;

    /**
     * å…³é—­æµï¼Œé‡Šæ”¾ç³»ç»Ÿèµ„æº
     * @throws IOException å½“å‘ç”ŸI/Oé”™è¯¯æ—¶æŠ›å‡º
     * @apiNote å¿…é¡»è°ƒç”¨æ­¤æ–¹æ³•é‡Šæ”¾æ–‡ä»¶å¥æŸ„ç­‰èµ„æºï¼Œå»ºè®®ä½¿ç”¨try-with-resources
     */
    public void close() throws IOException;

    /**
     * æ ‡è®°å½“å‰ä½ç½®ï¼Œæ”¯æŒåç»­é‡ç½®
     * @param readlimit æ ‡è®°åæœ€å¤šå¯è¯»å–çš„å­—èŠ‚æ•°ï¼Œè¶…è¿‡æ­¤æ•°æ ‡è®°å¯èƒ½å¤±æ•ˆ
     * @apiNote å¹¶éæ‰€æœ‰æµéƒ½æ”¯æŒæ ‡è®°åŠŸèƒ½ï¼Œä½¿ç”¨å‰åº”è°ƒç”¨markSupported()æ£€æŸ¥
     */
    public void mark(int readlimit);
    
    /**
     * é‡ç½®åˆ°æœ€åä¸€æ¬¡mark()çš„ä½ç½®
     * @throws IOException å½“å‘ç”ŸI/Oé”™è¯¯æˆ–æµä¸æ”¯æŒé‡ç½®æ—¶æŠ›å‡º
     * @apiNote å¦‚æœæ²¡æœ‰è°ƒç”¨è¿‡mark()æˆ–æ ‡è®°å·²å¤±æ•ˆï¼Œä¼šæŠ›å‡ºIOException
     */
    public void reset() throws IOException;
}</code></pre>

                <h3>ğŸ’¡ æ ‡å‡†è¯»å–æ¨¡å¼</h3>
                <pre><code class="language-java">// ä½¿ç”¨ try-with-resources è‡ªåŠ¨ç®¡ç†èµ„æº
try (InputStream is = new FileInputStream("data.bin")) {
    byte[] buffer = new byte[1024]; // ç¼“å†²åŒº
    int bytesRead;
    // å¾ªç¯è¯»å–ç›´åˆ°æ–‡ä»¶æœ«å°¾
    while ((bytesRead = is.read(buffer)) != -1) {
        // å¤„ç†è¯»å–åˆ°çš„æ•°æ®ï¼ˆæ³¨æ„è¦ä½¿ç”¨å®é™…è¯»å–é•¿åº¦ bytesReadï¼‰
        processData(buffer, bytesRead);
    }
} // è‡ªåŠ¨è°ƒç”¨ close() æ–¹æ³•</code></pre>
            </div>
        </section>

        <!-- Slide 13: Byte Stream Basics - OutputStream -->
        <section class="slide">
            <div class="slide-content">
                <h2>å­—èŠ‚æµåŸºç¡€ - OutputStream</h2>
                <p><code>OutputStream</code> æ˜¯æ‰€æœ‰å­—èŠ‚è¾“å‡ºæµçš„æŠ½è±¡åŸºç±»ï¼Œè´Ÿè´£å°†å­—èŠ‚æ•°æ®å†™å…¥ç›®çš„åœ°ã€‚</p>

                <h3>ğŸ“¤ OutputStream æ ¸å¿ƒæ–¹æ³•</h3>
                <pre><code class="language-java">public abstract class OutputStream {
    /**
     * å†™å…¥å•ä¸ªå­—èŠ‚
     * @param b è¦å†™å…¥çš„å­—èŠ‚ï¼ˆå–ä½8ä½ï¼‰
     * @throws IOException å½“å‘ç”ŸI/Oé”™è¯¯æ—¶æŠ›å‡º
     * @apiNote æœ€åŸºç¡€çš„å†™å…¥æ–¹æ³•ï¼Œæ¯æ¬¡åªå†™ä¸€ä¸ªå­—èŠ‚ï¼Œæ•ˆç‡è¾ƒä½
     */
    public abstract void write(int b) throws IOException;

    /**
     * å†™å…¥å­—èŠ‚æ•°ç»„
     * @param b è¦å†™å…¥çš„æ•°æ®æ•°ç»„
     * @throws IOException å½“å‘ç”ŸI/Oé”™è¯¯æ—¶æŠ›å‡º
     * @apiNote å°†æ•´ä¸ªæ•°ç»„å†…å®¹å†™å…¥ï¼Œç­‰åŒäº write(b, 0, b.length)
     */
    public void write(byte[] b) throws IOException;

    /**
     * å†™å…¥å­—èŠ‚æ•°ç»„çš„ä¸€éƒ¨åˆ†
     * @param b æ•°æ®æºæ•°ç»„
     * @param off å¼€å§‹åç§»é‡
     * @param len è¦å†™å…¥çš„å­—èŠ‚æ•°
     * @throws IOException å½“å‘ç”ŸI/Oé”™è¯¯æ—¶æŠ›å‡º
     * @apiNote ç²¾ç¡®æ§åˆ¶å†™å…¥å†…å®¹ï¼Œå¸¸ç”¨äºåˆ†å—å†™å…¥å¤§æ–‡ä»¶
     */
    public void write(byte[] b, int off, int len) throws IOException;

    /**
     * åˆ·æ–°ç¼“å†²åŒºï¼Œå¼ºåˆ¶å†™å…¥
     * @throws IOException å½“å‘ç”ŸI/Oé”™è¯¯æ—¶æŠ›å‡º
     * @apiNote å¯¹äºå¸¦ç¼“å†²çš„æµï¼ˆå¦‚BufferedOutputStreamï¼‰éå¸¸é‡è¦ï¼Œç¡®ä¿æ•°æ®çœŸæ­£è½ç›˜
     */
    public void flush() throws IOException;

    /**
     * å…³é—­æµï¼Œé‡Šæ”¾èµ„æº
     * @throws IOException å½“å‘ç”ŸI/Oé”™è¯¯æ—¶æŠ›å‡º
     * @apiNote å…³é—­å‰é€šå¸¸ä¼šè‡ªåŠ¨è°ƒç”¨flush()ï¼Œä½†å»ºè®®æ˜¾ç¤ºè°ƒç”¨flush()
     */
    public void close() throws IOException;
}</code></pre>

                <h3>ğŸ’¡ æ ‡å‡†å†™å…¥æ¨¡å¼</h3>
                <pre><code class="language-java">// ä½¿ç”¨ try-with-resources è‡ªåŠ¨ç®¡ç†èµ„æº
try (OutputStream os = new FileOutputStream("output.bin")) {
    byte[] data = "Hello World".getBytes();
    os.write(data);
    os.flush(); // è‰¯å¥½çš„ä¹ æƒ¯ï¼šå…³é”®èŠ‚ç‚¹å¼ºåˆ¶åˆ·æ–°
} // è‡ªåŠ¨å…³é—­æµ</code></pre>

                <p class="conclusion">å­—èŠ‚æµæ˜¯Java IOçš„åŸºç¡€ï¼Œæ‰€æœ‰å…¶ä»–æµç±»å‹éƒ½æ˜¯åœ¨å­—èŠ‚æµåŸºç¡€ä¸Šæ„å»ºçš„ã€‚å­—èŠ‚æµç›´æ¥ç”¨äºäºŒè¿›åˆ¶æ•°æ®å¤„ç†ï¼Œä¹Ÿæ˜¯å­—ç¬¦æµå’Œå¯¹è±¡åºåˆ—åŒ–çš„åº•å±‚åŸºç¡€ã€‚</p>
            </div>
        </section>

        <!-- Slide 13: File Byte Streams -->
        <section class="slide">
            <div class="slide-content">
                <h2>æ–‡ä»¶å­—èŠ‚æµ</h2>
                <p><code>FileInputStream</code> å’Œ <code>FileOutputStream</code> æ˜¯ç”¨äºæ–‡ä»¶è¯»å†™å­—èŠ‚æ•°æ®çš„åŸºç¡€æµç±»ï¼Œæ˜¯å­—èŠ‚æµä½“ç³»ä¸­çš„èŠ‚ç‚¹æµã€‚</p>

                <h3>ğŸ“¥ FileInputStream æ–‡ä»¶è¯»å–</h3>
                <pre><code class="language-java">public static void readFileBytes(String filePath) {
    try (FileInputStream fis = new FileInputStream(filePath)) {
        byte[] buffer = new byte[1024];
        int bytesRead;

        System.out.println("å¼€å§‹è¯»å–æ–‡ä»¶: " + filePath);

        while ((bytesRead = fis.read(buffer)) != -1) {
            // å¤„ç†è¯»å–åˆ°çš„å­—èŠ‚
            System.out.println("è¯»å–äº† " + bytesRead + " å­—èŠ‚");

            // ç¤ºä¾‹ï¼šå°†å­—èŠ‚è½¬æ¢ä¸ºåå…­è¿›åˆ¶æ˜¾ç¤º
            for (int i = 0; i < bytesRead; i++) {
                System.out.printf("%02X ", buffer[i]);
                if ((i + 1) % 16 == 0) {
                    System.out.println();
                }
            }
        }
    } catch (IOException e) {
        System.err.println("è¯»å–æ–‡ä»¶å¤±è´¥: " + e.getMessage());
    }
}</code></pre>

                <h3>ğŸ“¤ FileOutputStream æ–‡ä»¶å†™å…¥</h3>
                <pre><code class="language-java">public static void writeFileBytes(String filePath) {
    try (FileOutputStream fos = new FileOutputStream(filePath)) {
        // å†™å…¥å­—ç¬¦ä¸²æ•°æ®
        String text = "Hello, Java IO!";
        fos.write(text.getBytes());

        // å†™å…¥äºŒè¿›åˆ¶æ•°æ®
        byte[] binaryData = {
            (byte) 0xCA, (byte) 0xFE, (byte) 0xBA, (byte) 0xBE, // é­”æ•°
            0x01, 0x02, 0x03, 0x04,                           // ç‰ˆæœ¬ä¿¡æ¯
            0x42, 0x42, 0x42, 0x42                            // ç¤ºä¾‹æ•°æ®
        };
        fos.write(binaryData);

        System.out.println("æ–‡ä»¶å†™å…¥å®Œæˆ: " + filePath);
    } catch (IOException e) {
        System.err.println("å†™å…¥æ–‡ä»¶å¤±è´¥: " + e.getMessage());
    }
}</code></pre>

                <h3>ğŸ”§ å¸¸ç”¨æ„é€ æ–¹æ³•</h3>
                <pre><code class="language-java">// 1. ä½¿ç”¨æ–‡ä»¶è·¯å¾„
FileInputStream fis1 = new FileInputStream("data.txt");

// 2. ä½¿ç”¨Fileå¯¹è±¡
File file = new File("data.txt");
FileInputStream fis2 = new FileInputStream(file);

// 3. FileOutputStreamè¿½åŠ æ¨¡å¼
FileOutputStream fos1 = new FileOutputStream("log.txt", true); // è¿½åŠ 
FileOutputStream fos2 = new FileOutputStream("output.txt");   // è¦†ç›–</code></pre>

                <h3>âš¡ æ€§èƒ½è€ƒè™‘</h3>
                <ul>
                    <li><strong>ç¼“å†²åŒºå¤§å°</strong>ï¼šåˆé€‚çš„ç¼“å†²åŒºå¤§å°(é€šå¸¸1024-8192å­—èŠ‚)èƒ½æ˜¾è‘—æå‡æ€§èƒ½</li>
                    <li><strong>ç›´æ¥å†…å­˜è®¿é—®</strong>ï¼šå¯¹äºå¤§æ–‡ä»¶ï¼Œè€ƒè™‘ä½¿ç”¨NIOçš„FileChannel</li>
                    <li><strong>æ‰¹é‡æ“ä½œ</strong>ï¼šä½¿ç”¨byte[]æ•°ç»„è€Œéå•å­—èŠ‚æ“ä½œ</li>
                </ul>

                <h3>ğŸ¯ å®é™…åº”ç”¨ç¤ºä¾‹</h3>
                <pre><code class="language-java">// æ–‡ä»¶å¤åˆ¶å·¥å…·
public static void copyFile(String source, String destination) {
    try (FileInputStream fis = new FileInputStream(source);
         FileOutputStream fos = new FileOutputStream(destination)) {

        byte[] buffer = new byte[4096]; // 4KBç¼“å†²åŒº
        int bytesRead;
        long totalBytes = 0;

        while ((bytesRead = fis.read(buffer)) != -1) {
            fos.write(buffer, 0, bytesRead);
            totalBytes += bytesRead;
        }

        System.out.println("å¤åˆ¶å®Œæˆï¼Œå…± " + totalBytes + " å­—èŠ‚");
    } catch (IOException e) {
        System.err.println("æ–‡ä»¶å¤åˆ¶å¤±è´¥: " + e.getMessage());
    }
}</code></pre>

                <p class="conclusion">æ–‡ä»¶å­—èŠ‚æµæ˜¯æ–‡ä»¶IOçš„åŸºç¡€ï¼Œé€‚ç”¨äºå¤„ç†äºŒè¿›åˆ¶æ–‡ä»¶å’Œéœ€è¦ç²¾ç¡®æ§åˆ¶å­—èŠ‚çš„åœºæ™¯ã€‚å¯¹äºæ–‡æœ¬æ–‡ä»¶ï¼Œå»ºè®®ä½¿ç”¨å­—ç¬¦æµä»¥è·å¾—æ›´å¥½çš„ç¼–ç æ”¯æŒã€‚</p>
            </div>
        </section>

        <!-- Slide 14: Buffered Byte Streams - Principles -->
        <section class="slide">
            <div class="slide-content">
                <h2>ç¼“å†²å­—èŠ‚æµ - åŸç†ä¸æ€§èƒ½</h2>
                <p><code>BufferedInputStream</code> å’Œ <code>BufferedOutputStream</code> é€šè¿‡å†…éƒ¨ç¼“å†²åŒºå¤§å¹…æå‡IOæ€§èƒ½ï¼Œæ˜¯è£…é¥°å™¨æ¨¡å¼çš„å…¸å‹åº”ç”¨ã€‚</p>

                <img src="images/11-IO-buffer-mechanism.png" alt="ç¼“å†²å­—èŠ‚æµæœºåˆ¶" style="width: 100%; margin: 0 auto;" >

                <h3>ğŸ“Š æ€§èƒ½å¯¹æ¯”ç¤ºä¾‹</h3>
                <pre><code class="language-java">public static void performanceTest(String filePath) {
    int iterations = 1000;

    // æµ‹è¯•1ï¼šä¸ä½¿ç”¨ç¼“å†²æµ
    long startTime = System.currentTimeMillis();
    for (int i = 0; i < iterations; i++) {
        try (FileInputStream fis = new FileInputStream(filePath)) {
            while (fis.read() != -1) {} // é€å­—èŠ‚è¯»å–
        }
    }
    long noBufferTime = System.currentTimeMillis() - startTime;

    // æµ‹è¯•2ï¼šä½¿ç”¨ç¼“å†²æµ
    startTime = System.currentTimeMillis();
    for (int i = 0; i < iterations; i++) {
        try (BufferedInputStream bis = new BufferedInputStream(
                 new FileInputStream(filePath))) {
            while (bis.read() != -1) {} // é€å­—èŠ‚è¯»å–ï¼ˆä»ç¼“å†²åŒºï¼‰
        }
    }
    long bufferTime = System.currentTimeMillis() - startTime;

    System.out.println("æ— ç¼“å†²æµ: " + noBufferTime + "ms");
    System.out.println("ç¼“å†²æµ: " + bufferTime + "ms");
    System.out.println("æ€§èƒ½æå‡: " + (noBufferTime / bufferTime) + "å€");
}</code></pre>

                <h3>ğŸ”§ è‡ªå®šä¹‰ç¼“å†²åŒºå¤§å°</h3>
                <pre><code class="language-java">// é»˜è®¤ç¼“å†²åŒºå¤§å°(é€šå¸¸8KB)
BufferedInputStream bis1 = new BufferedInputStream(
    new FileInputStream("data.txt"));

// è‡ªå®šä¹‰ç¼“å†²åŒºå¤§å°
BufferedInputStream bis2 = new BufferedInputStream(
    new FileInputStream("data.txt"), 32768); // 32KBç¼“å†²åŒº

BufferedOutputStream bos = new BufferedOutputStream(
    new FileOutputStream("output.txt"), 16384); // 16KBç¼“å†²åŒº

// ç¼“å†²åŒºå¤§å°é€‰æ‹©å»ºè®®ï¼š
// - å°æ–‡ä»¶(1MBä»¥ä¸‹)ï¼š4KB - 8KB
// - ä¸­ç­‰æ–‡ä»¶(1MB-100MB)ï¼š8KB - 32KB
// - å¤§æ–‡ä»¶(100MBä»¥ä¸Š)ï¼š32KB - 64KB
// - ç½‘ç»œIOï¼š64KB - 128KB</code></pre>

                <h3>âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹</h3>
                <ul>
                    <li><strong>åŠæ—¶åˆ·æ–°</strong>ï¼šå¯¹äºBufferedOutputStreamï¼Œå…³é”®æ•°æ®è¦è°ƒç”¨flush()</li>
                    <li><strong>ç¼“å†²åŒºå¤§å°æƒè¡¡</strong>ï¼šè¿‡å¤§å ç”¨å†…å­˜ï¼Œè¿‡å°å½±å“æ€§èƒ½</li>
                    <li><strong>è£…é¥°å™¨é¡ºåº</strong>ï¼šç¼“å†²æµåº”è¯¥è£…é¥°å…¶ä»–æµï¼Œè€Œä¸æ˜¯è¢«è£…é¥°</li>
                </ul>

                <p class="conclusion">ç¼“å†²æµæ˜¯æå‡Java IOæ€§èƒ½çš„<strong>å…³é”®å·¥å…·</strong>ã€‚é€šè¿‡å‡å°‘ç£ç›˜IOæ¬¡æ•°ï¼Œå¯ä»¥å¸¦æ¥æ•°å€ç”šè‡³æ•°åå€çš„æ€§èƒ½æå‡ã€‚</p>
            </div>
        </section>

        <!-- Slide 15: Buffered Byte Streams - Best Practices -->
        <section class="slide">
            <div class="slide-content">
                <h2>ç¼“å†²å­—èŠ‚æµ - æœ€ä½³å®è·µ</h2>
                <p>æŒæ¡ç¼“å†²æµçš„æ­£ç¡®ä½¿ç”¨æ–¹æ³•å’Œæ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼Œè®©ç¨‹åºè·å¾—æœ€ä½³çš„IOæ€§èƒ½ã€‚</p>

                <h3>ğŸ¯ å®é™…åº”ç”¨ï¼šé«˜æ•ˆæ–‡ä»¶å¤åˆ¶</h3>
                <pre><code class="language-java">public static void efficientFileCopy(String source, String target) {
    try (BufferedInputStream bis = new BufferedInputStream(
             new FileInputStream(source), 65536); // 64KBè¯»å–ç¼“å†²åŒº
         BufferedOutputStream bos = new BufferedOutputStream(
             new FileOutputStream(target), 65536)) { // 64KBå†™å…¥ç¼“å†²åŒº

        byte[] buffer = new byte[8192]; // 8KBå·¥ä½œç¼“å†²åŒº
        int bytesRead;
        long totalBytes = 0;

        while ((bytesRead = bis.read(buffer)) != -1) {
            bos.write(buffer, 0, bytesRead);
            totalBytes += bytesRead;
        }

        bos.flush(); // ç¡®ä¿æ‰€æœ‰ç¼“å†²æ•°æ®å†™å…¥ç£ç›˜
        System.out.println("å¤åˆ¶å®Œæˆ: " + totalBytes + " å­—èŠ‚");

    } catch (IOException e) {
        System.err.println("æ–‡ä»¶å¤åˆ¶å¤±è´¥: " + e.getMessage());
    }
}</code></pre>

                <h3>ğŸ’¡ ç¼“å†²æµæœ€ä½³å®è·µ</h3>
                <table class="table-standard">
                    <thead>
                        <tr >
                            <th >åœºæ™¯</th>
                            <th >å»ºè®®</th>
                            <th >ç¼“å†²åŒºå¤§å°</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td >å°æ–‡ä»¶å¤„ç†</td>
                            <td >ä½¿ç”¨é»˜è®¤ç¼“å†²åŒº</td>
                            <td >8KB</td>
                        </tr>
                        <tr>
                            <td >å¤§æ–‡ä»¶å¤åˆ¶</td>
                            <td >å¤§ç¼“å†²åŒº+æ‰¹é‡æ“ä½œ</td>
                            <td >32KB-64KB</td>
                        </tr>
                        <tr>
                            <td >ç½‘ç»œIO</td>
                            <td >è¾ƒå¤§ç¼“å†²åŒº</td>
                            <td >64KB-128KB</td>
                        </tr>
                        <tr>
                            <td >å®æ—¶æ•°æ®æµ</td>
                            <td >è¾ƒå°ç¼“å†²åŒºï¼ŒåŠæ—¶flush</td>
                            <td >4KB-8KB</td>
                        </tr>
                    </tbody>
                </table>

                <h3>ğŸ” ç¼“å†²æµæ€§èƒ½åˆ†æ</h3>
                <pre><code class="language-java">// æ€§èƒ½æµ‹è¯•å·¥å…·ç±»
public class BufferPerformanceAnalyzer {

    public static void compareBufferSizes(String filePath) {
        int[] sizes = {1024, 4096, 8192, 16384, 32768, 65536};

        System.out.println("ç¼“å†²åŒºå¤§å°æ€§èƒ½å¯¹æ¯”:");
        System.out.println("å¤§å°\t\tæ—¶é—´(ms)\tååé‡(MB/s)");

        for (int size : sizes) {
            long startTime = System.nanoTime();

            try (BufferedInputStream bis = new BufferedInputStream(
                     new FileInputStream(filePath), size)) {

                byte[] buffer = new byte[8192];
                long totalBytes = 0;

                while (bis.read(buffer) != -1) {
                    totalBytes += buffer.length;
                }

                long endTime = System.nanoTime();
                long timeMs = (endTime - startTime) / 1_000_000;
                double throughput = (totalBytes / 1_048_576.0) / (timeMs / 1000.0);

                System.out.printf("%d\t\t%d\t\t%.2f%n", size, timeMs, throughput);

            } catch (IOException e) {
                System.err.println("æµ‹è¯•å¤±è´¥: " + e.getMessage());
            }
        }
    }
}</code></pre>

                <h3>ğŸš¨ å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ</h3>
                <div class="warning-box">
                    <h4 class="margin-0">é™·é˜±1ï¼šå¿˜è®°flush()</h4>
                    <p><strong>é—®é¢˜</strong>ï¼šä½¿ç”¨BufferedOutputStreamæ—¶ï¼Œæ•°æ®å¯èƒ½è¿˜åœ¨ç¼“å†²åŒºä¸­æœªå†™å…¥ç£ç›˜</p>
                    <p><strong>è§£å†³</strong>ï¼šå…³é”®æ•°æ®åè°ƒç”¨flush()ï¼Œæˆ–åœ¨try-with-resourcesç»“æŸæ—¶è‡ªåŠ¨flush</p>
                </div>

                <div class="error-box">
                    <h4 class="margin-0">é™·é˜±2ï¼šç¼“å†²åŒºè¿‡å¤§</h4>
                    <p><strong>é—®é¢˜</strong>ï¼šè¿‡å¤§çš„ç¼“å†²åŒºå ç”¨è¿‡å¤šå†…å­˜ï¼Œå¯èƒ½å¯¼è‡´GCå‹åŠ›</p>
                    <p><strong>è§£å†³</strong>ï¼šæ ¹æ®æ–‡ä»¶å¤§å°å’Œç³»ç»Ÿå†…å­˜åˆç†é€‰æ‹©ç¼“å†²åŒºå¤§å°</p>
                </div>

                <div class="success-box">
                    <h4 class="margin-0">é™·é˜±3ï¼šè£…é¥°å™¨é¡ºåºé”™è¯¯</h4>
                    <p><strong>é—®é¢˜</strong>ï¼šé”™è¯¯çš„è£…é¥°å™¨é¡ºåºå¯èƒ½å¯¼è‡´ç¼“å†²å¤±æ•ˆ</p>
                    <p><strong>è§£å†³</strong>ï¼šç¡®ä¿ç¼“å†²æµè£…é¥°åŸºç¡€æµï¼Œè€Œä¸æ˜¯è¢«å…¶ä»–æµè£…é¥°</p>
                </div>

                <p class="conclusion">æ­£ç¡®ä½¿ç”¨ç¼“å†²æµå¯ä»¥æ˜¾è‘—æå‡IOæ€§èƒ½ã€‚å…³é”®æ˜¯é€‰æ‹©åˆé€‚çš„ç¼“å†²åŒºå¤§å°ï¼Œå…»æˆè‰¯å¥½çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œé¿å…å¸¸è§é™·é˜±ã€‚</p>
            </div>
        </section>

        <!-- Slide 16: Character Stream Basics -->
        <!-- Slide 16: Character Stream Basics - Reader -->
        <section class="slide">
            <div class="slide-content">
                <h2>å­—ç¬¦æµåŸºç¡€ - Reader</h2>
                <p><code>Reader</code> æ˜¯æ‰€æœ‰å­—ç¬¦è¾“å…¥æµçš„æŠ½è±¡åŸºç±»ï¼Œä¸“é—¨ç”¨äºè¯»å–æ–‡æœ¬æ•°æ®ï¼Œè‡ªåŠ¨å¤„ç†å­—ç¬¦ç¼–ç è½¬æ¢ã€‚</p>

                <h3>ğŸ“– Reader æ ¸å¿ƒæ–¹æ³•</h3>
                <pre><code class="language-java">public abstract class Reader {
    /**
     * è¯»å–å•ä¸ªå­—ç¬¦
     * @return è¯»å–çš„å­—ç¬¦ (0-65535)ï¼Œå¦‚æœåˆ°è¾¾æµæœ«å°¾åˆ™è¿”å› -1
     * @throws IOException å½“å‘ç”ŸI/Oé”™è¯¯æ—¶æŠ›å‡º
     * @apiNote åŸºç¡€è¯»å–æ–¹æ³•ï¼Œæ¯æ¬¡è¯»å–ä¸€ä¸ªUnicodeå­—ç¬¦
     */
    public int read() throws IOException;

    /**
     * è¯»å–å­—ç¬¦åˆ°æ•°ç»„
     * @param cbuf ç›®æ ‡å­—ç¬¦æ•°ç»„
     * @return å®é™…è¯»å–çš„å­—ç¬¦æ•°
     * @throws IOException å½“å‘ç”ŸI/Oé”™è¯¯æ—¶æŠ›å‡º
     */
    public int read(char[] cbuf) throws IOException;

    /**
     * è¯»å–æŒ‡å®šé•¿åº¦çš„å­—ç¬¦åˆ°æ•°ç»„
     * @param cbuf ç›®æ ‡å­—ç¬¦æ•°ç»„
     * @param off å¼€å§‹å­˜å‚¨çš„åç§»é‡
     * @param len æœ€å¤§è¯»å–å­—ç¬¦æ•°
     * @return å®é™…è¯»å–çš„å­—ç¬¦æ•°ï¼Œå¦‚æœåˆ°è¾¾æµæœ«å°¾åˆ™è¿”å› -1
     * @throws IOException å½“å‘ç”ŸI/Oé”™è¯¯æ—¶æŠ›å‡º
     */
    public abstract int read(char[] cbuf, int off, int len) throws IOException;

    /**
     * è·³è¿‡æŒ‡å®šæ•°é‡çš„å­—ç¬¦
     * @param n è¦è·³è¿‡çš„å­—ç¬¦æ•°
     * @return å®é™…è·³è¿‡çš„å­—ç¬¦æ•°
     */
    public long skip(long n) throws IOException;

    /**
     * å…³é—­æµ
     * @throws IOException å½“å‘ç”ŸI/Oé”™è¯¯æ—¶æŠ›å‡º
     */
    public abstract void close() throws IOException;
    
    // æ ‡è®°ç›¸å…³æ–¹æ³•
    public boolean markSupported();
    public void mark(int readAheadLimit) throws IOException;
    public void reset() throws IOException;
}</code></pre>

                <h3>ğŸ’¡ æ ‡å‡†è¯»å–æ¨¡å¼</h3>
                <pre><code class="language-java">// è¯»å–UTF-8ç¼–ç çš„æ–‡ä»¶ï¼ˆæ¨èæ–¹å¼ï¼‰
try (Reader reader = new InputStreamReader(
         new FileInputStream("utf8.txt"), StandardCharsets.UTF_8)) {
    char[] buffer = new char[1024];
    int charsRead;
    // å¾ªç¯è¯»å–å­—ç¬¦æ•°æ®
    while ((charsRead = reader.read(buffer)) != -1) {
        // å°†å­—ç¬¦æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¤„ç†
        String text = new String(buffer, 0, charsRead);
        System.out.println("è¯»å–å†…å®¹: " + text);
    }
} catch (IOException e) {
    e.printStackTrace();
}</code></pre>
            </div>
        </section>

        <!-- Slide 17: Character Stream Basics - Writer -->
        <section class="slide">
            <div class="slide-content">
                <h2>å­—ç¬¦æµåŸºç¡€ - Writer</h2>
                <p><code>Writer</code> æ˜¯æ‰€æœ‰å­—ç¬¦è¾“å‡ºæµçš„æŠ½è±¡åŸºç±»ï¼Œç”¨äºå°†å­—ç¬¦æ•°æ®å†™å…¥ç›®æ ‡ï¼Œåº•å±‚é€šå¸¸æ¶‰åŠå­—ç¬¦åˆ°å­—èŠ‚çš„ç¼–ç è½¬æ¢ã€‚</p>

                <h3>âœï¸ Writer æ ¸å¿ƒæ–¹æ³•</h3>
                <pre><code class="language-java">public abstract class Writer {
    /**
     * å†™å…¥å•ä¸ªå­—ç¬¦
     * @param c è¦å†™å…¥çš„å­—ç¬¦ï¼ˆåŒ…å«ä½16ä½ï¼‰
     */
    public void write(int c) throws IOException;

    /**
     * å†™å…¥å­—ç¬¦æ•°ç»„
     * @param cbuf æºå­—ç¬¦æ•°ç»„
     */
    public void write(char[] cbuf) throws IOException;

    /**
     * å†™å…¥å­—ç¬¦æ•°ç»„çš„ä¸€éƒ¨åˆ†
     * @param cbuf æºå­—ç¬¦æ•°ç»„
     * @param off å¼€å§‹åç§»é‡
     * @param len å†™å…¥é•¿åº¦
     */
    public abstract void write(char[] cbuf, int off, int len) throws IOException;

    /**
     * å†™å…¥å­—ç¬¦ä¸²
     * @param str è¦å†™å…¥çš„å­—ç¬¦ä¸²
     */
    public void write(String str) throws IOException;

    /**
     * åˆ·æ–°ç¼“å†²åŒº
     * @throws IOException å½“å‘ç”ŸI/Oé”™è¯¯æ—¶æŠ›å‡º
     * @apiNote å¼ºåˆ¶å°†ç¼“å†²åŒºçš„å­—ç¬¦ç¼–ç å¹¶å†™å…¥åº•å±‚æµ
     */
    public abstract void flush() throws IOException;

    /**
     * å…³é—­æµ
     * @throws IOException å½“å‘ç”ŸI/Oé”™è¯¯æ—¶æŠ›å‡º
     * @apiNote å…³é—­å‰ä¼šè‡ªåŠ¨åˆ·æ–°
     */
    public abstract void close() throws IOException;
}</code></pre>

                <h3>ğŸ’¡ æ ‡å‡†å†™å…¥æ¨¡å¼</h3>
                <pre><code class="language-java">// å†™å…¥GBKç¼–ç çš„æ–‡ä»¶ï¼ˆæŒ‡å®šç¼–ç ï¼‰
try (Writer writer = new OutputStreamWriter(
         new FileOutputStream("gbk.txt"), "GBK")) {
    writer.write("ä¸­æ–‡å­—ç¬¦ç¼–ç ç¤ºä¾‹"); // ç›´æ¥å†™å…¥å­—ç¬¦ä¸²
    writer.append("\næ¢è¡Œè¿½åŠ å†…å®¹"); // è¿½åŠ æ¨¡å¼
    writer.flush(); // ç¡®ä¿å†™å…¥
} catch (IOException e) {
    e.printStackTrace();
}</code></pre>

                <h3>ğŸ”¤ å­—ç¬¦æµ vs å­—èŠ‚æµå¯¹æ¯”</h3>
                <table class="table-standard">
                    <thead>
                        <tr>
                            <th>ç‰¹æ€§</th>
                            <th>å­—ç¬¦æµ (Reader/Writer)</th>
                            <th>å­—èŠ‚æµ (InputStream/OutputStream)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>å¤„ç†å•ä½</strong></td>
                            <td>å­—ç¬¦ (16ä½ Unicode)</td>
                            <td>å­—èŠ‚ (8ä½)</td>
                        </tr>
                        <tr>
                            <td><strong>ç¼–ç å¤„ç†</strong></td>
                            <td>è‡ªåŠ¨å¤„ç†ç¼–ç è½¬æ¢</td>
                            <td>ä¸å¤„ç†ï¼Œç›´æ¥æ“ä½œäºŒè¿›åˆ¶</td>
                        </tr>
                        <tr>
                            <td><strong>é€‚ç”¨åœºæ™¯</strong></td>
                            <td>æ–‡æœ¬æ–‡ä»¶ (txt, xml, json, code)</td>
                            <td>äºŒè¿›åˆ¶æ–‡ä»¶ (å›¾ç‰‡, éŸ³é¢‘, è§†é¢‘)</td>
                        </tr>
                    </tbody>
                </table>

                <p class="conclusion">å­—ç¬¦æµæ˜¯å¤„ç†æ–‡æœ¬æ•°æ®çš„<strong>æœ€ä½³é€‰æ‹©</strong>ï¼Œè‡ªåŠ¨å¤„ç†ç¼–ç è½¬æ¢ï¼Œæ”¯æŒUnicodeå­—ç¬¦ã€‚å®ƒæœ¬è´¨ä¸Šæ˜¯"å­—èŠ‚æµ + ç¼–ç è¡¨"çš„å°è£…ï¼Œä¸“é—¨ç”¨äºText IOåœºæ™¯ã€‚</p>
            </div>
        </section>

        <!-- Slide 17: File Character Streams -->
        <section class="slide">
            <div class="slide-content">
                <h2>æ–‡ä»¶å­—ç¬¦æµ</h2>
                <p><code>FileReader</code> å’Œ <code>FileWriter</code> æ˜¯ä¸“é—¨ç”¨äºæ–‡ä»¶è¯»å†™å­—ç¬¦æ•°æ®çš„ä¾¿æ·ç±»ï¼Œæ˜¯å­—ç¬¦æµä½“ç³»ä¸­çš„èŠ‚ç‚¹æµã€‚</p>

                <h3>ğŸ“– FileReader æ–‡ä»¶è¯»å–</h3>
                <pre><code class="language-java">public static void readTextFile(String filePath) {
    try (FileReader reader = new FileReader(filePath)) {
        char[] buffer = new char[1024];
        int charsRead;
        StringBuilder content = new StringBuilder();

        System.out.println("å¼€å§‹è¯»å–æ–‡æœ¬æ–‡ä»¶: " + filePath);

        while ((charsRead = reader.read(buffer)) != -1) {
            // å°†è¯»å–çš„å­—ç¬¦è¿½åŠ åˆ°StringBuilder
            content.append(buffer, 0, charsRead);
            System.out.println("è¯»å–äº† " + charsRead + " ä¸ªå­—ç¬¦");
        }

        System.out.println("æ–‡ä»¶å†…å®¹:");
        System.out.println(content.toString());

    } catch (IOException e) {
        System.err.println("è¯»å–æ–‡ä»¶å¤±è´¥: " + e.getMessage());
    }
}</code></pre>

                <h3>âœï¸ FileWriter æ–‡ä»¶å†™å…¥</h3>
                <pre><code class="language-java">public static void writeTextFile(String filePath) {
    try (FileWriter writer = new FileWriter(filePath)) {
        // å†™å…¥å•è¡Œæ–‡æœ¬
        writer.write("Java IOå­—ç¬¦æµç¤ºä¾‹\n");

        // å†™å…¥å¤šè¡Œæ–‡æœ¬
        writer.write("è¿™æ˜¯ç¬¬äºŒè¡Œå†…å®¹\n");
        writer.write("ä¸­æ–‡å­—ç¬¦æµ‹è¯•ï¼šä½ å¥½ä¸–ç•Œï¼\n");

        // å†™å…¥å­—ç¬¦æ•°ç»„
        char[] charArray = {'H', 'e', 'l', 'l', 'o', ' ', 'C', 'h', 'a', 'r', 's'};
        writer.write(charArray);

        // å†™å…¥å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†
        String longText = "è¿™æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬åªå†™å…¥å…¶ä¸­çš„ä¸€éƒ¨åˆ†å†…å®¹";
        writer.write(longText, 0, 10); // åªå†™å…¥å‰10ä¸ªå­—ç¬¦

        writer.flush(); // ç¡®ä¿æ•°æ®å†™å…¥æ–‡ä»¶
        System.out.println("æ–‡ä»¶å†™å…¥å®Œæˆ: " + filePath);

    } catch (IOException e) {
        System.err.println("å†™å…¥æ–‡ä»¶å¤±è´¥: " + e.getMessage());
    }
}</code></pre>

                <h3>ğŸ”§ å¸¸ç”¨æ„é€ æ–¹æ³•</h3>
                <pre><code class="language-java">// FileReaderæ„é€ æ–¹æ³•
FileReader fr1 = new FileReader("input.txt");              // ä½¿ç”¨æ–‡ä»¶è·¯å¾„
FileReader fr2 = new FileReader(new File("input.txt"));     // ä½¿ç”¨Fileå¯¹è±¡

// FileWriteræ„é€ æ–¹æ³•
FileWriter fw1 = new FileWriter("output.txt");              // è¦†ç›–æ¨¡å¼
FileWriter fw2 = new FileWriter("output.txt", true);        // è¿½åŠ æ¨¡å¼
FileWriter fw3 = new FileWriter(new File("output.txt"));    // ä½¿ç”¨Fileå¯¹è±¡
FileWriter fw4 = new FileWriter(new File("output.txt"), true); // è¿½åŠ æ¨¡å¼</code></pre>

                <h3>ğŸŒ ç¼–ç æ³¨æ„äº‹é¡¹</h3>
                <pre><code class="language-java">// FileReader/FileWriterçš„ç¼–ç é™åˆ¶
try {
    // é—®é¢˜ï¼šFileReaderä½¿ç”¨ç³»ç»Ÿé»˜è®¤ç¼–ç ï¼Œå¯èƒ½ä¸å‡†ç¡®
    FileReader reader = new FileReader("chinese.txt"); // Windowså¯èƒ½ç”¨GBKï¼ŒLinuxå¯èƒ½ç”¨UTF-8

    // è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨InputStreamReader/OutputStreamWriteræŒ‡å®šç¼–ç 
    Reader reader = new InputStreamReader(
        new FileInputStream("chinese.txt"), StandardCharsets.UTF_8);

    Writer writer = new OutputStreamWriter(
        new FileOutputStream("output.txt"), "UTF-8");

} catch (IOException e) {
    e.printStackTrace();
}</code></pre>

                <h3>ğŸ¯ å®é™…åº”ç”¨ç¤ºä¾‹</h3>
                <pre><code class="language-java">// æ–‡æœ¬æ–‡ä»¶å¤åˆ¶å·¥å…·
public static void copyTextFile(String source, String destination) {
    try (FileReader reader = new FileReader(source);
         FileWriter writer = new FileWriter(destination)) {

        char[] buffer = new char[2048]; // 2KBå­—ç¬¦ç¼“å†²åŒº
        int charsRead;
        long totalChars = 0;

        while ((charsRead = reader.read(buffer)) != -1) {
            writer.write(buffer, 0, charsRead);
            totalChars += charsRead;
        }

        writer.flush();
        System.out.println("æ–‡æœ¬æ–‡ä»¶å¤åˆ¶å®Œæˆï¼Œå…± " + totalChars + " ä¸ªå­—ç¬¦");

    } catch (IOException e) {
        System.err.println("æ–‡æœ¬æ–‡ä»¶å¤åˆ¶å¤±è´¥: " + e.getMessage());
    }
}

// é…ç½®æ–‡ä»¶è¯»å–å™¨
public static Map<String, String> readConfigFile(String configPath) {
    Map<String, String> config = new HashMap<>();

    try (FileReader reader = new FileReader(configPath)) {
        char[] buffer = new char[1024];
        StringBuilder content = new StringBuilder();

        // è¯»å–æ•´ä¸ªæ–‡ä»¶å†…å®¹
        int charsRead;
        while ((charsRead = reader.read(buffer)) != -1) {
            content.append(buffer, 0, charsRead);
        }

        // è§£æé…ç½®é¡¹
        String[] lines = content.toString().split("\n");
        for (String line : lines) {
            line = line.trim();
            if (line.contains("=") && !line.startsWith("#")) {
                String[] parts = line.split("=", 2);
                config.put(parts[0].trim(), parts[1].trim());
            }
        }

    } catch (IOException e) {
        System.err.println("è¯»å–é…ç½®æ–‡ä»¶å¤±è´¥: " + e.getMessage());
    }

    return config;
}</code></pre>

                <h3>âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹</h3>
                <ul>
                    <li><strong>ç¼–ç é—®é¢˜</strong>ï¼šFileReaderä½¿ç”¨ç³»ç»Ÿé»˜è®¤ç¼–ç ï¼Œè·¨å¹³å°å¯èƒ½ä¸ä¸€è‡´</li>
                    <li><strong>ç¼“å†²åŒºå¤§å°</strong>ï¼šåˆé€‚çš„å­—ç¬¦ç¼“å†²åŒºèƒ½æå‡æ€§èƒ½(é€šå¸¸1024-8192å­—ç¬¦)</li>
                    <li><strong>æ–‡ä»¶è¿½åŠ </strong>ï¼šFileWriteræ„é€ æ—¶æŒ‡å®štrueå‚æ•°å¯ç”¨è¿½åŠ æ¨¡å¼</li>
                    <li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šå§‹ç»ˆä½¿ç”¨try-with-resourcesç¡®ä¿æµæ­£ç¡®å…³é—­</li>
                </ul>

                <p class="conclusion">FileReaderå’ŒFileWriteræ˜¯å¤„ç†æ–‡æœ¬æ–‡ä»¶çš„<strong>ä¾¿æ·é€‰æ‹©</strong>ã€‚å¯¹äºéœ€è¦ç‰¹å®šç¼–ç çš„åœºæ™¯ï¼Œå»ºè®®ä½¿ç”¨InputStreamReaderå’ŒOutputStreamWriterã€‚</p>
            </div>
        </section>

        <!-- Slide 18: Buffered Character Streams - Core Functions -->
        <section class="slide">
            <div class="slide-content">
                <h2>ç¼“å†²å­—ç¬¦æµ - æ ¸å¿ƒåŠŸèƒ½</h2>
                <p><code>BufferedReader</code> å’Œ <code>BufferedWriter</code> ä¸ºå­—ç¬¦IOæä¾›ç¼“å†²åŠŸèƒ½ï¼Œå¤§å¹…æå‡æ–‡æœ¬å¤„ç†æ€§èƒ½ï¼Œå¹¶æ”¯æŒä¾¿æ·çš„æŒ‰è¡Œæ“ä½œã€‚</p>

                <h3>ğŸ“– BufferedReader æ ¸å¿ƒåŠŸèƒ½</h3>
                <pre><code class="language-java">public static void bufferedReaderDemo() {
    try (BufferedReader reader = new BufferedReader(
             new FileReader("multilines.txt"))) {

        String line;
        int lineNumber = 0;

        // æŒ‰è¡Œè¯»å–ï¼šBufferedReaderçš„æ ¸å¿ƒä¼˜åŠ¿
        while ((line = reader.readLine()) != null) {
            lineNumber++;
            System.out.println("ç¬¬" + lineNumber + "è¡Œ: " + line);
        }

        System.out.println("æ€»å…±è¯»å–äº† " + lineNumber + " è¡Œ");

    } catch (IOException e) {
        System.err.println("è¯»å–æ–‡ä»¶å¤±è´¥: " + e.getMessage());
    }
}</code></pre>

                <h3>âœï¸ BufferedWriter æ ¸å¿ƒåŠŸèƒ½</h3>
                <pre><code class="language-java">public static void bufferedWriterDemo() {
    try (BufferedWriter writer = new BufferedWriter(
             new FileWriter("output.txt"))) {

        // å†™å…¥å¤šè¡Œæ–‡æœ¬
        writer.write("ç¬¬ä¸€è¡Œå†…å®¹");
        writer.newLine(); // æ¢è¡Œç¬¦ï¼Œè·¨å¹³å°å…¼å®¹

        writer.write("ç¬¬äºŒè¡Œå†…å®¹");
        writer.newLine();

        // æ‰¹é‡å†™å…¥
        String[] lines = {
            "Java IOç¼“å†²å­—ç¬¦æµç¤ºä¾‹",
            "æ”¯æŒå¤šç§å†™å…¥æ–¹å¼",
            "è‡ªåŠ¨å¤„ç†æ¢è¡Œç¬¦"
        };

        for (String line : lines) {
            writer.write(line);
            writer.newLine();
        }

        writer.flush(); // ç¡®ä¿æ•°æ®å†™å…¥æ–‡ä»¶
        System.out.println("æ–‡ä»¶å†™å…¥å®Œæˆ");

    } catch (IOException e) {
        System.err.println("å†™å…¥æ–‡ä»¶å¤±è´¥: " + e.getMessage());
    }
}</code></pre>

                <h3>ğŸ”§ æ ‡è®°ä¸é‡ç½®åŠŸèƒ½</h3>
                <pre><code class="language-java">public static void markAndResetDemo() {
    try (BufferedReader reader = new BufferedReader(
             new FileReader("sample.txt"))) {

        // è¯»å–ç¬¬ä¸€è¡Œ
        String line1 = reader.readLine();
        System.out.println("ç¬¬ä¸€è¡Œ: " + line1);

        // æ ‡è®°å½“å‰ä½ç½®
        reader.mark(1024); // æ ‡è®°ï¼Œå…è®¸è¯»å–1024å­—ç¬¦åé‡ç½®

        // ç»§ç»­è¯»å–å‡ è¡Œ
        System.out.println("åç»­å†…å®¹:");
        for (int i = 0; i < 3 && reader.ready(); i++) {
            System.out.println("  " + reader.readLine());
        }

        // é‡ç½®åˆ°æ ‡è®°ä½ç½®
        reader.reset();
        System.out.println("é‡ç½®åé‡æ–°è¯»å–:");

        // å†æ¬¡è¯»å–æ ‡è®°åçš„å†…å®¹
        String line = reader.readLine();
        while (line != null) {
            System.out.println("  " + line);
            line = reader.readLine();
        }

    } catch (IOException e) {
        System.err.println("æ ‡è®°é‡ç½®æ“ä½œå¤±è´¥: " + e.getMessage());
    }
}</code></pre>

                <h3>ğŸš€ æ€§èƒ½å¯¹æ¯”ç¤ºä¾‹</h3>
                <pre><code class="language-java">public static void performanceComparison(String filePath) {
    int iterations = 100;

    // æµ‹è¯•1ï¼šä¸ä½¿ç”¨ç¼“å†²æµ
    long startTime = System.currentTimeMillis();
    for (int i = 0; i < iterations; i++) {
        try (FileReader reader = new FileReader(filePath)) {
            StringBuilder content = new StringBuilder();
            char[] buffer = new char[1024];
            int charsRead;
            while ((charsRead = reader.read(buffer)) != -1) {
                content.append(buffer, 0, charsRead);
            }
        }
    }
    long noBufferTime = System.currentTimeMillis() - startTime;

    // æµ‹è¯•2ï¼šä½¿ç”¨ç¼“å†²æµ
    startTime = System.currentTimeMillis();
    for (int i = 0; i < iterations; i++) {
        try (BufferedReader reader = new BufferedReader(
                 new FileReader(filePath))) {
            StringBuilder content = new StringBuilder();
            char[] buffer = new char[1024];
            int charsRead;
            while ((charsRead = reader.read(buffer)) != -1) {
                content.append(buffer, 0, charsRead);
            }
        }
    }
    long bufferTime = System.currentTimeMillis() - startTime;

    System.out.println("æ— ç¼“å†²å­—ç¬¦æµ: " + noBufferTime + "ms");
    System.out.println("ç¼“å†²å­—ç¬¦æµ: " + bufferTime + "ms");
    System.out.println("æ€§èƒ½æå‡: " + (noBufferTime / bufferTime) + "å€");
}</code></pre>

                <h3>âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹</h3>
                <ul>
                    <li><strong>æ¢è¡Œç¬¦å¤„ç†</strong>ï¼šä½¿ç”¨newLine()è€Œé"\n"ï¼Œç¡®ä¿è·¨å¹³å°å…¼å®¹</li>
                    <li><strong>åŠæ—¶åˆ·æ–°</strong>ï¼šBufferedWriteråœ¨å…³é”®æ•°æ®åè°ƒç”¨flush()</li>
                    <li><strong>æ ‡è®°é™åˆ¶</strong>ï¼šmark()åçš„è¯»å–é‡ä¸èƒ½è¶…è¿‡readAheadLimit</li>
                    <li><strong>æ€§èƒ½æƒè¡¡</strong>ï¼šç¼“å†²åŒºè¿‡å°å½±å“æ€§èƒ½ï¼Œè¿‡å¤§å ç”¨å†…å­˜</li>
                </ul>

                <p class="conclusion">ç¼“å†²å­—ç¬¦æµçš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºæŒ‰è¡Œè¯»å–å’Œæ ‡è®°é‡ç½®åŠŸèƒ½ï¼Œå¤§å¤§ç®€åŒ–äº†æ–‡æœ¬å¤„ç†é€»è¾‘ã€‚</p>
            </div>
        </section>

        <!-- Slide 19: Buffered Character Streams - Applications -->
        <section class="slide">
            <div class="slide-content">
                <h2>ç¼“å†²å­—ç¬¦æµ - å®é™…åº”ç”¨</h2>
                <p>æŒæ¡ç¼“å†²å­—ç¬¦æµåœ¨å®é™…é¡¹ç›®ä¸­çš„åº”ç”¨åœºæ™¯ï¼Œå¤„ç†æ—¥å¿—ã€é…ç½®ã€CSVç­‰æ–‡æœ¬æ–‡ä»¶çš„æœ€ä½³å®è·µã€‚</p>

                <h3>ğŸ¯ å®é™…åº”ç”¨ï¼šæ–‡ä»¶é€è¡Œå¤„ç†</h3>
                <pre><code class="language-java">// æ—¥å¿—æ–‡ä»¶åˆ†æå™¨
public static void analyzeLogFile(String logPath) {
    Map<String, Integer> logLevels = new HashMap<>();
    long totalLines = 0;

    try (BufferedReader reader = new BufferedReader(
             new FileReader(logPath))) {

        String line;
        while ((line = reader.readLine()) != null) {
            totalLines++;

            // åˆ†ææ—¥å¿—çº§åˆ«
            if (line.contains("ERROR")) {
                logLevels.merge("ERROR", 1, Integer::sum);
            } else if (line.contains("WARN")) {
                logLevels.merge("WARN", 1, Integer::sum);
            } else if (line.contains("INFO")) {
                logLevels.merge("INFO", 1, Integer::sum);
            } else if (line.contains("DEBUG")) {
                logLevels.merge("DEBUG", 1, Integer::sum);
            }

            // æå–æ—¶é—´æˆ³ï¼ˆç®€å•ç¤ºä¾‹ï¼‰
            if (line.matches("\\d{4}-\\d{2}-\\d{2}.*")) {
                // å¤„ç†åŒ…å«æ—¶é—´æˆ³çš„è¡Œ
                processTimestampLine(line);
            }
        }

    } catch (IOException e) {
        System.err.println("æ—¥å¿—åˆ†æå¤±è´¥: " + e.getMessage());
    }

    // è¾“å‡ºåˆ†æç»“æœ
    System.out.println("æ—¥å¿—åˆ†æç»“æœ:");
    System.out.println("æ€»è¡Œæ•°: " + totalLines);
    logLevels.forEach((level, count) ->
        System.out.println(level + ": " + count + " æ¬¡"));
}</code></pre>

                <h3>ğŸ“ é…ç½®æ–‡ä»¶å†™å…¥å™¨</h3>
                <pre><code class="language-java">public static void writeConfigFile(String configPath,
                                   Map<String, String> properties) {
    try (BufferedWriter writer = new BufferedWriter(
             new FileWriter(configPath))) {

        // å†™å…¥æ–‡ä»¶å¤´
        writer.write("# é…ç½®æ–‡ä»¶");
        writer.newLine();
        writer.write("# ç”Ÿæˆæ—¶é—´: " + new Date());
        writer.newLine();
        writer.newLine();

        // å†™å…¥é…ç½®é¡¹
        for (Map.Entry<String, String> entry : properties.entrySet()) {
            writer.write(entry.getKey() + " = " + entry.getValue());
            writer.newLine();
        }

        writer.flush();
        System.out.println("é…ç½®æ–‡ä»¶å†™å…¥å®Œæˆ: " + configPath);

    } catch (IOException e) {
        System.err.println("é…ç½®æ–‡ä»¶å†™å…¥å¤±è´¥: " + e.getMessage());
    }
}</code></pre>

                <h3>ğŸ’¡ ç¼“å†²å­—ç¬¦æµæœ€ä½³å®è·µ</h3>
                <table class="table-standard">
                    <thead>
                        <tr >
                            <th >åœºæ™¯</th>
                            <th >æ¨èåšæ³•</th>
                            <th >ç¼“å†²åŒºå¤§å°</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td >å¤§æ–‡ä»¶é€è¡Œå¤„ç†</td>
                            <td >BufferedReader + readLine()</td>
                            <td >8KB-16KB</td>
                        </tr>
                        <tr>
                            <td >æ‰¹é‡æ–‡æœ¬å†™å…¥</td>
                            <td >BufferedWriter + newLine()</td>
                            <td >8KB-32KB</td>
                        </tr>
                        <tr>
                            <td >éœ€è¦å›é€€è¯»å–</td>
                            <td >ä½¿ç”¨mark()å’Œreset()</td>
                            <td >é»˜è®¤å³å¯</td>
                        </tr>
                        <tr>
                            <td >ç½‘ç»œæ–‡æœ¬æµ</td>
                            <td >è¾ƒå¤§ç¼“å†²åŒº</td>
                            <td >16KB-64KB</td>
                        </tr>
                    </tbody>
                </table>

                <h3>ğŸ”§ é«˜çº§åº”ç”¨ï¼šCSVæ–‡ä»¶å¤„ç†</h3>
                <pre><code class="language-java">// CSVæ–‡ä»¶å¤„ç†å™¨
public static void processCSVFile(String csvPath) {
    try (BufferedReader reader = new BufferedReader(
             new FileReader(csvPath))) {

        String headerLine = reader.readLine(); // è¯»å–è¡¨å¤´
        String[] headers = headerLine.split(",");

        List<Map<String, String>> records = new ArrayList<>();
        String line;
        int lineNumber = 1;

        while ((line = reader.readLine()) != null) {
            lineNumber++;
            String[] values = line.split(",");

            if (values.length == headers.length) {
                Map<String, String> record = new HashMap<>();
                for (int i = 0; i < headers.length; i++) {
                    record.put(headers[i].trim(), values[i].trim());
                }
                records.add(record);
            } else {
                System.err.println("ç¬¬" + lineNumber + "è¡Œæ ¼å¼é”™è¯¯");
            }
        }

        System.out.println("æˆåŠŸè§£æ " + records.size() + " æ¡è®°å½•");

    } catch (IOException e) {
        System.err.println("CSVå¤„ç†å¤±è´¥: " + e.getMessage());
    }
}</code></pre>

                <h3>ğŸš¨ å¸¸è§åº”ç”¨é™·é˜±</h3>
                <div class="warning-box">
                    <h4 class="margin-0">é™·é˜±1ï¼šå¤§æ–‡ä»¶å†…å­˜æº¢å‡º</h4>
                    <p><strong>é—®é¢˜</strong>ï¼šä¸€æ¬¡æ€§è¯»å–å¤§æ–‡ä»¶åˆ°å†…å­˜å¯èƒ½å¯¼è‡´OutOfMemoryError</p>
                    <p><strong>è§£å†³</strong>ï¼šä½¿ç”¨BufferedReaderé€è¡Œå¤„ç†ï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½</p>
                </div>

                <div class="error-box">
                    <h4 class="margin-0">é™·é˜±2ï¼šç¼–ç ä¸ä¸€è‡´</h4>
                    <p><strong>é—®é¢˜</strong>ï¼šæ–‡ä»¶ç¼–ç ä¸è¯»å–ç¼–ç ä¸åŒ¹é…å¯¼è‡´ä¹±ç </p>
                    <p><strong>è§£å†³</strong>ï¼šä½¿ç”¨InputStreamReaderæŒ‡å®šæ­£ç¡®ç¼–ç </p>
                </div>

                <div class="success-box">
                    <h4 class="margin-0">é™·é˜±3ï¼šå¼‚å¸¸å¤„ç†ä¸å½“</h4>
                    <p><strong>é—®é¢˜</strong>ï¼šè¯»å–è¿‡ç¨‹ä¸­å¼‚å¸¸å¯èƒ½å¯¼è‡´èµ„æºæ³„æ¼</p>
                    <p><strong>è§£å†³</strong>ï¼šä½¿ç”¨try-with-resourcesç¡®ä¿æµæ­£ç¡®å…³é—­</p>
                </div>

                <p class="conclusion">ç¼“å†²å­—ç¬¦æµæ˜¯æ–‡æœ¬å¤„ç†çš„<strong>åˆ©å™¨</strong>ï¼ŒæŒ‰è¡Œè¯»å–åŠŸèƒ½å¤§å¤§ç®€åŒ–äº†æ–‡æœ¬å¤„ç†é€»è¾‘ï¼Œæ˜¯å¤„ç†æ—¥å¿—ã€é…ç½®ã€CSVç­‰æ–‡æœ¬æ–‡ä»¶çš„ç†æƒ³é€‰æ‹©ã€‚</p>
            </div>
        </section>

        <!-- Slide 20: Conversion Streams - Basic Usage -->
        <section class="slide">
            <div class="slide-content">
                <h2>* è½¬æ¢æµ - åŸºç¡€ç”¨æ³•</h2>
                <p><code>InputStreamReader</code> å’Œ <code>OutputStreamWriter</code> æ˜¯å­—èŠ‚æµä¸å­—ç¬¦æµä¹‹é—´çš„æ¡¥æ¢ï¼Œè´Ÿè´£ç¼–ç è½¬æ¢ï¼Œæ˜¯å¤„ç†ä¸åŒå­—ç¬¦ç¼–ç çš„å…³é”®ã€‚</p>
                <img src="images/11-IO-converter.png" alt="è½¬æ¢æµå·¥ä½œåŸç†" style="width: 100%; margin: 0 auto;" >

                <h3>ğŸ“– InputStreamReader å­—èŠ‚æµè½¬å­—ç¬¦æµ</h3>
                <pre><code class="language-java">// åŸºæœ¬ç”¨æ³•ï¼šæŒ‡å®šç¼–ç è¯»å–æ–‡ä»¶
public static void readWithEncoding(String filePath, String encoding) {
    try (InputStreamReader reader = new InputStreamReader(
             new FileInputStream(filePath), encoding)) {

        char[] buffer = new char[1024];
        int charsRead;
        StringBuilder content = new StringBuilder();

        while ((charsRead = reader.read(buffer)) != -1) {
            content.append(buffer, 0, charsRead);
        }

        System.out.println("ä½¿ç”¨ " + encoding + " ç¼–ç è¯»å–çš„å†…å®¹:");
        System.out.println(content.toString());

    } catch (IOException e) {
        System.err.println("è¯»å–å¤±è´¥: " + e.getMessage());
    }
}</code></pre>

                <h3>âœï¸ OutputStreamWriter å­—ç¬¦æµè½¬å­—èŠ‚æµ</h3>
                <pre><code class="language-java">// åŸºæœ¬ç”¨æ³•ï¼šæŒ‡å®šç¼–ç å†™å…¥æ–‡ä»¶
public static void writeWithEncoding(String filePath, String encoding) {
    try (OutputStreamWriter writer = new OutputStreamWriter(
             new FileOutputStream(filePath), encoding)) {

        writer.write("å¤šè¯­è¨€æ–‡æœ¬ç¤ºä¾‹\n");
        writer.write("English: Hello World\n");
        writer.write("ä¸­æ–‡: ä½ å¥½ä¸–ç•Œ\n");
        writer.write("æ—¥æœ¬èª: ã“ã‚“ã«ã¡ã¯ä¸–ç•Œ\n");
        writer.write("í•œêµ­ì–´: ì•ˆë…•í•˜ì„¸ìš” ì„¸ê³„\n");
        writer.write("EspaÃ±ol: Hola Mundo\n");

        writer.flush();
        System.out.println("ä½¿ç”¨ " + encoding + " ç¼–ç å†™å…¥å®Œæˆ");

    } catch (IOException e) {
        System.err.println("å†™å…¥å¤±è´¥: " + e.getMessage());
    }
}</code></pre>

                <h3>ğŸŒ å¸¸ç”¨ç¼–ç ç¤ºä¾‹</h3>
                <pre><code class="language-java">public static void encodingExamples() {
    String filePath = "multilang.txt";

    // UTF-8 ç¼–ç ï¼ˆæ¨èï¼‰
    readWithEncoding(filePath, StandardCharsets.UTF_8.name());

    // GBK ç¼–ç ï¼ˆä¸­æ–‡Windowså¸¸ç”¨ï¼‰
    readWithEncoding(filePath, "GBK");

    // ISO-8859-1 ç¼–ç ï¼ˆè¥¿æ¬§ï¼‰
    readWithEncoding(filePath, "ISO-8859-1");

    // UTF-16 ç¼–ç 
    readWithEncoding(filePath, "UTF-16");
}</code></pre>

                <h3>âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹</h3>
                <ul>
                    <li><strong>ç¼–ç ä¸€è‡´æ€§</strong>ï¼šè¯»å†™æ—¶ä½¿ç”¨ç›¸åŒçš„ç¼–ç ï¼Œé¿å…ä¹±ç </li>
                    <li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šç¼–ç å¯èƒ½ä¸æ”¯æŒï¼Œéœ€æ•è·UnsupportedEncodingException</li>
                    <li><strong>æ€§èƒ½è€ƒè™‘</strong>ï¼šè½¬æ¢æµä¼šè¿›è¡Œç¼–ç è½¬æ¢ï¼Œå½±å“æ€§èƒ½</li>
                    <li><strong>BOMå¤„ç†</strong>ï¼šæ³¨æ„å¤„ç†UTF-8/16çš„BOMæ ‡è®°</li>
                </ul>

                <p class="conclusion">è½¬æ¢æµæ˜¯å¤„ç†<strong>å­—ç¬¦ç¼–ç </strong>çš„æ ¸å¿ƒå·¥å…·ï¼Œæ­£ç¡®ä½¿ç”¨è½¬æ¢æµèƒ½ç¡®ä¿å­—ç¬¦æ•°æ®çš„å‡†ç¡®æ€§ã€‚</p>
            </div>
        </section>

        <!-- Slide 21: Conversion Streams - Encoding Detection -->
        <section class="slide">
            <div class="slide-content">
                <h2>* è½¬æ¢æµ - ç¼–ç æ£€æµ‹ä¸å¤„ç†</h2>
                <p>æŒæ¡æ–‡ä»¶ç¼–ç çš„è‡ªåŠ¨æ£€æµ‹æŠ€æœ¯å’Œæ™ºèƒ½è¯»å–æ–¹æ³•ï¼Œè§£å†³ä¸åŒç¼–ç æ–‡ä»¶çš„å…¼å®¹æ€§é—®é¢˜ã€‚</p>

                <h3>ğŸ” è‡ªåŠ¨æ£€æµ‹æ–‡ä»¶ç¼–ç </h3>
                <pre><code class="language-java">// è‡ªåŠ¨æ£€æµ‹æ–‡ä»¶ç¼–ç ï¼ˆç®€å•ç¤ºä¾‹ï¼‰
public static String detectEncoding(String filePath) {
    try (FileInputStream fis = new FileInputStream(filePath)) {
        byte[] bom = new byte[4];
        int bytesRead = fis.read(bom);

        if (bytesRead >= 3 && bom[0] == (byte) 0xEF &&
            bom[1] == (byte) 0xBB && bom[2] == (byte) 0xBF) {
            return "UTF-8";
        }

        if (bytesRead >= 2 && bom[0] == (byte) 0xFE &&
            bom[1] == (byte) 0xFF) {
            return "UTF-16BE";
        }

        if (bytesRead >= 2 && bom[0] == (byte) 0xFF &&
            bom[1] == (byte) 0xFE) {
            return "UTF-16LE";
        }

        // é»˜è®¤ä½¿ç”¨ç³»ç»Ÿç¼–ç æˆ–UTF-8
        return StandardCharsets.UTF_8.name();

    } catch (IOException e) {
        return StandardCharsets.UTF_8.name();
    }
}</code></pre>

                <h3>ğŸ§  æ™ºèƒ½ç¼–ç è¯»å–</h3>
                <pre><code class="language-java">// æ™ºèƒ½ç¼–ç è¯»å–
public static void smartRead(String filePath) {
    String detectedEncoding = detectEncoding(filePath);
    System.out.println("æ£€æµ‹åˆ°ç¼–ç : " + detectedEncoding);

    try (InputStreamReader reader = new InputStreamReader(
             new FileInputStream(filePath), detectedEncoding)) {

        BufferedReader bufferedReader = new BufferedReader(reader);
        String line;
        while ((line = bufferedReader.readLine()) != null) {
            System.out.println(line);
        }

    } catch (IOException e) {
        System.err.println("æ™ºèƒ½è¯»å–å¤±è´¥: " + e.getMessage());
    }
}</code></pre>

                <h3>ğŸ”„ ç¼–ç è½¬æ¢å·¥å…·</h3>
                <pre><code class="language-java">// æ–‡ä»¶ç¼–ç è½¬æ¢å·¥å…·
public static void convertEncoding(String sourceFile, String targetFile,
                                  String sourceEncoding, String targetEncoding) {
    try (InputStreamReader reader = new InputStreamReader(
             new FileInputStream(sourceFile), sourceEncoding);
         OutputStreamWriter writer = new OutputStreamWriter(
             new FileOutputStream(targetFile), targetEncoding)) {

        char[] buffer = new char[4096];
        int charsRead;

        System.out.println("å¼€å§‹ç¼–ç è½¬æ¢: " + sourceEncoding + " -> " + targetEncoding);

        while ((charsRead = reader.read(buffer)) != -1) {
            writer.write(buffer, 0, charsRead);
        }

        writer.flush();
        System.out.println("ç¼–ç è½¬æ¢å®Œæˆ: " + targetFile);

    } catch (IOException e) {
        System.err.println("ç¼–ç è½¬æ¢å¤±è´¥: " + e.getMessage());
    }
}</code></pre>

                <h3>ğŸ“¦ æ‰¹é‡ç¼–ç è½¬æ¢</h3>
                <pre><code class="language-java">// æ‰¹é‡ç¼–ç è½¬æ¢
public static void batchConvertEncoding(String sourceDir, String targetDir,
                                       String sourceEncoding, String targetEncoding) {
    File sourceDirectory = new File(sourceDir);
    File targetDirectory = new File(targetDir);

    if (!targetDirectory.exists()) {
        targetDirectory.mkdirs();
    }

    File[] files = sourceDirectory.listFiles((dir, name) ->
        name.endsWith(".txt") || name.endsWith(".csv"));

    if (files != null) {
        for (File file : files) {
            String sourcePath = file.getPath();
            String targetPath = new File(targetDir, file.getName()).getPath();

            convertEncoding(sourcePath, targetPath, sourceEncoding, targetEncoding);
        }
    }
}</code></pre>

                <h3>ğŸŒ å¸¸è§ç¼–ç é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
                <table class="table-standard">
                    <thead>
                        <tr >
                            <th >é—®é¢˜</th>
                            <th >åŸå› </th>
                            <th >è§£å†³æ–¹æ¡ˆ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td >ä¸­æ–‡ä¹±ç </td>
                            <td >ç¼–ç ä¸åŒ¹é…</td>
                            <td >æŒ‡å®šUTF-8æˆ–GBKç¼–ç </td>
                        </tr>
                        <tr>
                            <td >BOMå­—ç¬¦æ˜¾ç¤º</td>
                            <td >UTF-8 BOMå¤„ç†</td>
                            <td >è·³è¿‡å‰3ä¸ªå­—èŠ‚æˆ–ä½¿ç”¨UTF-8-sig</td>
                        </tr>
                        <tr>
                            <td >éƒ¨åˆ†å­—ç¬¦æ˜¾ç¤ºå¼‚å¸¸</td>
                            <td >å­—ç¬¦é›†ä¸åŒ…å«</td>
                            <td >ä½¿ç”¨Unicodeç¼–ç (UTF-8/16)</td>
                        </tr>
                        <tr>
                            <td >è·¨å¹³å°ç¼–ç é—®é¢˜</td>
                            <td >ç³»ç»Ÿé»˜è®¤ç¼–ç ä¸åŒ</td>
                            <td >å§‹ç»ˆæŒ‡å®šå…·ä½“ç¼–ç </td>
                        </tr>
                    </tbody>
                </table>

                <p class="conclusion">ç¼–ç æ£€æµ‹å’Œè½¬æ¢æ˜¯å¤„ç†<strong>å¤šè¯­è¨€æ–‡æœ¬</strong>çš„å…³é”®æŠ€æœ¯ï¼Œèƒ½æ˜¾è‘—æå‡ç¨‹åºçš„å…¼å®¹æ€§å’Œå¥å£®æ€§ã€‚</p>
            </div>
        </section>

        <!-- Slide 22: Conversion Streams - Best Practices -->
        <section class="slide">
            <div class="slide-content">
                <h2>* è½¬æ¢æµ - æœ€ä½³å®è·µ</h2>
                <p>æŒæ¡è½¬æ¢æµåœ¨å®é™…å¼€å‘ä¸­çš„æœ€ä½³å®è·µï¼Œå¤„ç†ç½‘ç»œæµã€æ–‡ä»¶æ“ä½œç­‰å¤æ‚åœºæ™¯ã€‚</p>

                <h3>ğŸ’¡ æ¨èçš„æ–‡æœ¬æ–‡ä»¶å¤„ç†æ¨¡å¼</h3>
                <pre><code class="language-java">public static void bestPracticeTextProcessing(String filePath) {
    // 1. æ£€æµ‹æˆ–æŒ‡å®šç¼–ç 
    String encoding = detectEncoding(filePath);

    // 2. ä½¿ç”¨è½¬æ¢æµ + ç¼“å†²æµçš„ç»„åˆ
    try (BufferedReader reader = new BufferedReader(
             new InputStreamReader(
                 new FileInputStream(filePath), encoding))) {

        String line;
        int lineNumber = 0;

        while ((line = reader.readLine()) != null) {
            lineNumber++;
            // å¤„ç†æ¯ä¸€è¡Œæ–‡æœ¬
            processTextLine(line, lineNumber);
        }

    } catch (IOException e) {
        System.err.println("æ–‡æœ¬å¤„ç†å¤±è´¥: " + e.getMessage());
    }
}</code></pre>

                <h3>ğŸŒ ç½‘ç»œæµçš„ç¼–ç å¤„ç†</h3>
                <pre><code class="language-java">public static void handleNetworkStream(InputStream inputStream, String encoding) {
    try (InputStreamReader reader = new InputStreamReader(inputStream, encoding);
         BufferedReader bufferedReader = new BufferedReader(reader)) {

        String response = bufferedReader.readLine();
        System.out.println("æœåŠ¡å™¨å“åº”: " + response);

        // å¤„ç†å¤šè¡Œå“åº”
        while ((response = bufferedReader.readLine()) != null) {
            if (response.trim().isEmpty()) break; // ç©ºè¡Œè¡¨ç¤ºå“åº”ç»“æŸ
            processResponseLine(response);
        }

    } catch (IOException e) {
        System.err.println("ç½‘ç»œæµå¤„ç†å¤±è´¥: " + e.getMessage());
    }
}</code></pre>

                <h3>ğŸ“ æ–‡ä»¶ç¼–ç è½¬æ¢å·¥å…·ç±»</h3>
                <pre><code class="language-java">public class EncodingConverter {

    public static void convertFileToUTF8(String sourcePath, String targetPath) {
        try {
            String sourceEncoding = detectEncoding(sourcePath);

            try (InputStreamReader reader = new InputStreamReader(
                     new FileInputStream(sourcePath), sourceEncoding);
                 OutputStreamWriter writer = new OutputStreamWriter(
                     new FileOutputStream(targetPath), "UTF-8")) {

                char[] buffer = new char[8192];
                int charsRead;

                while ((charsRead = reader.read(buffer)) != -1) {
                    writer.write(buffer, 0, charsRead);
                }

                writer.flush();
                System.out.println("æ–‡ä»¶å·²è½¬æ¢ä¸ºUTF-8: " + targetPath);
            }
        } catch (IOException e) {
            System.err.println("è½¬æ¢å¤±è´¥: " + e.getMessage());
        }
    }

    public static void convertDirectoryToUTF8(String sourceDir, String targetDir) {
        File source = new File(sourceDir);
        File target = new File(targetDir);

        if (!target.exists()) {
            target.mkdirs();
        }

        File[] files = source.listFiles();
        if (files != null) {
            for (File file : files) {
                if (file.isFile()) {
                    String targetPath = new File(targetDir, file.getName()).getPath();
                    convertFileToUTF8(file.getPath(), targetPath);
                }
            }
        }
    }
}</code></pre>

                <h3>ğŸš¨ å¸¸è§é™·é˜±ä¸è§£å†³æ–¹æ¡ˆ</h3>
                <div class="warning-box">
                    <h4 class="margin-0">é™·é˜±1ï¼šç¼–ç è½¬æ¢å¤±è´¥</h4>
                    <p><strong>é—®é¢˜</strong>ï¼šæŸäº›å­—ç¬¦åœ¨ç›®æ ‡ç¼–ç ä¸­ä¸å­˜åœ¨</p>
                    <p><strong>è§£å†³</strong>ï¼šä½¿ç”¨Unicodeç¼–ç (UTF-8/16)ä½œä¸ºç›®æ ‡ç¼–ç </p>
                </div>

                <div class="error-box">
                    <h4 class="margin-0">é™·é˜±2ï¼šBOMå¤„ç†ä¸å½“</h4>
                    <p><strong>é—®é¢˜</strong>ï¼šUTF-8 BOMåœ¨å‰ç«¯æ˜¾ç¤ºä¸ºä¹±ç </p>
                    <p><strong>è§£å†³</strong>ï¼šæ£€æµ‹å¹¶è·³è¿‡BOMå­—èŠ‚ï¼Œæˆ–ä½¿ç”¨æ— BOMçš„UTF-8</p>
                </div>

                <div class="success-box">
                    <h4 class="margin-0">é™·é˜±3ï¼šæ€§èƒ½é—®é¢˜</h4>
                    <p><strong>é—®é¢˜</strong>ï¼šå¤§æ–‡ä»¶ç¼–ç è½¬æ¢æ€§èƒ½è¾ƒå·®</p>
                    <p><strong>è§£å†³</strong>ï¼šä½¿ç”¨å¤§ç¼“å†²åŒºå’Œæ‰¹é‡å¤„ç†</p>
                </div>

                <h3>ğŸ¯ å®é™…åº”ç”¨åœºæ™¯</h3>
                <div class="scenarios-grid margin-bottom-1rem">
                    <div class="white-card">
                        <h4 class="input-stream-title">ğŸŒ å›½é™…åŒ–åº”ç”¨</h4>
                        <ul class="decision-list-last">
                            <li>å¤šè¯­è¨€ç•Œé¢æ˜¾ç¤º</li>
                            <li>æœ¬åœ°åŒ–æ–‡ä»¶å¤„ç†</li>
                            <li>å­—ç¬¦é›†è‡ªåŠ¨é€‚é…</li>
                        </ul>
                    </div>
                    <div class="white-card">
                        <h4 class="error-title">ğŸ“¡ ç½‘ç»œç¼–ç¨‹</h4>
                        <ul class="decision-list-last">
                            <li>HTTPå“åº”å¤„ç†</li>
                            <li>Socketé€šä¿¡ç¼–ç </li>
                            <li>åè®®æ•°æ®è§£æ</li>
                        </ul>
                    </div>
                    <div class="white-card">
                        <h4 class="reader-title">ğŸ“ æ–‡ä»¶å¤„ç†</h4>
                        <ul class="decision-list-last">
                            <li>å†å²æ–‡ä»¶è¿ç§»</li>
                            <li>ç¼–ç æ ¼å¼ç»Ÿä¸€</li>
                            <li>æ‰¹é‡æ–‡ä»¶è½¬æ¢</li>
                        </ul>
                    </div>
                    <div class="white-card">
                        <h4 class="output-stream-title">ğŸ”§ æ•°æ®å¤„ç†</h4>
                        <ul class="decision-list-last">
                            <li>CSVæ–‡ä»¶å¯¼å…¥</li>
                            <li>XML/JSONè§£æ</li>
                            <li>æ•°æ®åº“å­—ç¬¦é›†å¤„ç†</li>
                        </ul>
                    </div>
                </div>

                <p class="conclusion">è½¬æ¢æµæ˜¯å¤„ç†<strong>å¤šè¯­è¨€æ–‡æœ¬</strong>å’Œ<strong>ç¼–ç è½¬æ¢</strong>çš„æ ¸å¿ƒå·¥å…·ã€‚åœ¨ç½‘ç»œç¼–ç¨‹ã€æ–‡ä»¶å¤„ç†ç­‰åœºæ™¯ä¸­ï¼Œæ­£ç¡®ä½¿ç”¨è½¬æ¢æµèƒ½ç¡®ä¿å­—ç¬¦æ•°æ®çš„å‡†ç¡®æ€§ã€‚</p>
            </div>
        </section>

        <!-- Slide 23: Decorator Pattern - Core Concepts -->
        <section class="slide">
            <div class="slide-content">
                <h2>è£…é¥°å™¨æ¨¡å¼ - æ ¸å¿ƒæ¦‚å¿µ</h2>
                <p>Java IOä½“ç³»æ˜¯<strong>è£…é¥°å™¨æ¨¡å¼</strong>çš„ç»å…¸å®ç°ã€‚</p>
                <p>å±‚å±‚åŒ…è£…æµå¯¹è±¡ï¼ŒåŠ¨æ€æ·»åŠ åŠŸèƒ½ï¼Œè€Œä¸æ”¹å˜åŸæœ‰ç±»çš„ç»“æ„ã€‚</p>

                <img src="images/11-IO-decorate-pattern.png" alt="è£…é¥°å™¨æ¨¡å¼å›¾è¡¨" style="width: 100%; margin: 0 auto;" >

                <h3>ğŸ”„ IOæµçš„å±‚å±‚è£…é¥°</h3>
                <pre><code class="language-java">// è£…é¥°å™¨æ¨¡å¼çš„å…¸å‹åº”ç”¨ï¼šå¤šå±‚åŒ…è£…
public static void decoratorPatternExample() {
    // åŸºç¡€ç»„ä»¶ï¼šæ–‡ä»¶å­—èŠ‚æµ
    FileInputStream fileStream = new FileInputStream("data.txt");

    // ç¬¬ä¸€å±‚è£…é¥°ï¼šç¼“å†²åŠŸèƒ½
    BufferedInputStream bufferedStream = new BufferedInputStream(fileStream);

    // ç¬¬äºŒå±‚è£…é¥°ï¼šæ•°æ®ç±»å‹è½¬æ¢
    DataInputStream dataStream = new DataInputStream(bufferedStream);

    // ç¬¬ä¸‰å±‚è£…é¥°ï¼šå¦‚æœéœ€è¦ï¼Œè¿˜å¯ä»¥ç»§ç»­åŒ…è£…
    // PushbackInputStream pushbackStream = new PushbackInputStream(dataStream);

    // ç°åœ¨å¯ä»¥ä½¿ç”¨æ‰€æœ‰è£…é¥°è¿‡çš„åŠŸèƒ½
    int intValue = dataStream.readInt();     // DataInputStreamçš„åŠŸèƒ½
    bufferedStream.mark(1000);              // BufferedInputStreamçš„åŠŸèƒ½
    fileStream.available();                 // FileInputStreamçš„åŠŸèƒ½
}</code></pre>

                <h3>ğŸ—ï¸ è£…é¥°å™¨æ¨¡å¼çš„ç‰¹ç‚¹</h3>
                <div class="scenarios-grid margin-bottom-1rem">
                    <div class="class-card input-stream-card">
                        <h4 class="input-stream-title">ğŸ”„ åŠ¨æ€ç»„åˆ</h4>
                        <p>è¿è¡Œæ—¶åŠ¨æ€æ·»åŠ åŠŸèƒ½ï¼Œæ— éœ€ä¿®æ”¹åŸæœ‰ä»£ç </p>
                    </div>
                    <div class="class-card writer-card">
                        <h4 class="margin-0">ğŸ‘ï¸ é€æ˜æ€§</h4>
                        <p>è£…é¥°åçš„å¯¹è±¡ä»å¯å½“ä½œåŸç±»å‹ä½¿ç”¨</p>
                    </div>
                    <div class="class-card reader-card">
                        <h4 class="margin-0">ğŸ”§ åŠŸèƒ½å¢å¼º</h4>
                        <p>ä¸ä¿®æ”¹åŸæœ‰ç±»ç»“æ„ï¼Œé€šè¿‡åŒ…è£…å¢å¼ºåŠŸèƒ½</p>
                    </div>
                    <div class="class-card output-stream-card">
                        <h4 class="margin-0">ğŸ“¦ å¯ç»„åˆæ€§</h4>
                        <p>å¤šä¸ªè£…é¥°å™¨å¯ä»¥ä»»æ„ç»„åˆä½¿ç”¨</p>
                    </div>
                </div>

                <h3>ğŸ¯ Java IOä¸­çš„è£…é¥°å™¨ä½“ç³»</h3>
                <table class="table-standard">
                    <thead>
                        <tr >
                            <th >ç±»å‹</th>
                            <th >æŠ½è±¡è£…é¥°å™¨</th>
                            <th >å…·ä½“è£…é¥°å™¨</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td ><strong>å­—èŠ‚è¾“å…¥</strong></td>
                            <td >FilterInputStream</td>
                            <td >BufferedInputStream, DataInputStream</td>
                        </tr>
                        <tr>
                            <td ><strong>å­—èŠ‚è¾“å‡º</strong></td>
                            <td >FilterOutputStream</td>
                            <td >BufferedOutputStream, DataOutputStream</td>
                        </tr>
                        <tr>
                            <td ><strong>å­—ç¬¦è¾“å…¥</strong></td>
                            <td >FilterReader</td>
                            <td >BufferedReader, PushbackReader</td>
                        </tr>
                        <tr>
                            <td ><strong>å­—ç¬¦è¾“å‡º</strong></td>
                            <td >FilterWriter</td>
                            <td >BufferedWriter, PrintWriter</td>
                        </tr>
                    </tbody>
                </table>

                <p class="conclusion">è£…é¥°å™¨æ¨¡å¼æ˜¯Java IOä½“ç³»çš„æ ¸å¿ƒè®¾è®¡æ€æƒ³ï¼Œç†è§£å®ƒæœ‰åŠ©äºæ›´å¥½åœ°ä½¿ç”¨IOæµå’Œè®¾è®¡çµæ´»çš„ç¨‹åºæ¶æ„ã€‚</p>
            </div>
        </section>

        <!-- Slide 24: Decorator Pattern - Custom Decorators -->
        <section class="slide">
            <div class="slide-content">
                <h2>è£…é¥°å™¨æ¨¡å¼ - è‡ªå®šä¹‰è£…é¥°å™¨</h2>
                <p>å­¦ä¹ å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰è£…é¥°å™¨ï¼Œä¸ºIOæµæ·»åŠ ç‰¹å®šåŠŸèƒ½ï¼Œæ‰©å±•Java IOçš„èƒ½åŠ›ã€‚</p>

                <h3>ğŸ—ï¸ è‡ªå®šä¹‰è£…é¥°å™¨ç¤ºä¾‹</h3>
                <pre><code class="language-java">// è‡ªå®šä¹‰è£…é¥°å™¨ï¼šç»Ÿè®¡è¯»å–çš„å­—èŠ‚æ•°
public class CountingInputStream extends FilterInputStream {
    private long bytesRead = 0;

    public CountingInputStream(InputStream in) {
        super(in);
    }

    @Override
    public int read() throws IOException {
        int data = super.read();
        if (data != -1) {
            bytesRead++;
        }
        return data;
    }

    @Override
    public int read(byte[] b, int off, int len) throws IOException {
        int count = super.read(b, off, len);
        if (count != -1) {
            bytesRead += count;
        }
        return count;
    }

    public long getBytesRead() {
        return bytesRead;
    }

    public void resetCount() {
        bytesRead = 0;
    }
}</code></pre>

                <h3>ğŸ’¡ æ›´å¤šè‡ªå®šä¹‰è£…é¥°å™¨ç¤ºä¾‹</h3>
                <pre><code class="language-java">// 1. åŠ å¯†è£…é¥°å™¨
public class EncryptingOutputStream extends FilterOutputStream {
    private final byte[] key;

    public EncryptingOutputStream(OutputStream out, String key) {
        super(out);
        this.key = key.getBytes(StandardCharsets.UTF_8);
    }

    @Override
    public void write(int b) throws IOException {
        byte encrypted = (byte) (b ^ key[0]);
        super.write(encrypted);
    }

    @Override
    public void write(byte[] b, int off, int len) throws IOException {
        for (int i = 0; i < len; i++) {
            write(b[off + i]);
        }
    }
}

// 2. å‹ç¼©è£…é¥°å™¨
public class CompressingOutputStream extends FilterOutputStream {
    private ByteArrayOutputStream buffer = new ByteArrayOutputStream();

    public CompressingOutputStream(OutputStream out) {
        super(out);
    }

    @Override
    public void write(byte[] b, int off, int len) throws IOException {
        buffer.write(b, off, len);
    }

    @Override
    public void flush() throws IOException {
        byte[] compressed = compress(buffer.toByteArray());
        super.write(compressed);
        super.flush();
        buffer.reset();
    }

    private byte[] compress(byte[] data) {
        // ç®€å•çš„å‹ç¼©å®ç°ï¼ˆç¤ºä¾‹ï¼‰
        return data; // å®é™…åº”ç”¨ä¸­ä½¿ç”¨GZIPç­‰ç®—æ³•
    }
}</code></pre>

                <h3>ğŸ¯ ä½¿ç”¨è‡ªå®šä¹‰è£…é¥°å™¨</h3>
                <pre><code class="language-java">// ä½¿ç”¨ç»Ÿè®¡è£…é¥°å™¨
public static void useCountingDecorator() {
    try (CountingInputStream countingStream =
         new CountingInputStream(new FileInputStream("largefile.dat"))) {

        byte[] buffer = new byte[1024];
        while (countingStream.read(buffer) != -1) {
            // å¤„ç†æ•°æ®
        }

        System.out.println("æ€»å…±è¯»å–äº† " + countingStream.getBytesRead() + " å­—èŠ‚");

    } catch (IOException e) {
        e.printStackTrace();
    }
}

// ç»„åˆå¤šä¸ªè£…é¥°å™¨
public static void useMultipleDecorators(String filePath) {
    try (InputStream input = new CountingInputStream(
             new EncryptingInputStream(
                 new BufferedInputStream(
                     new FileInputStream(filePath))))) {

        byte[] buffer = new byte[1024];
        while (input.read(buffer) != -1) {
            // æ•°æ®ç»è¿‡ï¼šæ–‡ä»¶è¯»å– â†’ ç¼“å†² â†’ åŠ å¯† â†’ ç»Ÿè®¡
        }

    } catch (IOException e) {
        e.printStackTrace();
    }
}</code></pre>

                <h3>ğŸš¨ è‡ªå®šä¹‰è£…é¥°å™¨æ³¨æ„äº‹é¡¹</h3>
                <div class="warning-box">
                    <h4 class="margin-0">æ³¨æ„1ï¼šä¿æŒæ¥å£ä¸€è‡´æ€§</h4>
                    <p><strong>è¦ç‚¹</strong>ï¼šç¡®ä¿è£…é¥°å™¨ä¸ä¼šæ”¹å˜åŸæœ‰æ¥å£çš„è¡Œä¸ºçº¦å®š</p>
                </div>

                <div class="error-box">
                    <h4 class="margin-0">æ³¨æ„2ï¼šæ­£ç¡®å¤„ç†å¼‚å¸¸</h4>
                    <p><strong>è¦ç‚¹</strong>ï¼šè£…é¥°å™¨ä¸­çš„å¼‚å¸¸å¤„ç†åº”è¯¥ä¿æŒä¸€è‡´æ€§å’Œé€æ˜æ€§</p>
                </div>

                <div class="success-box">
                    <h4 class="margin-0">æ³¨æ„3ï¼šèµ„æºç®¡ç†</h4>
                    <p><strong>è¦ç‚¹</strong>ï¼šè£…é¥°å™¨ä¸åº”è¯¥å¹²æ‰°åº•å±‚çš„èµ„æºç®¡ç†æœºåˆ¶</p>
                </div>

                <p class="conclusion">è‡ªå®šä¹‰è£…é¥°å™¨æ˜¯æ‰©å±•Java IOåŠŸèƒ½çš„å¼ºå¤§æ–¹å¼ï¼Œå¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚æ·»åŠ ç‰¹å®šçš„å¤„ç†é€»è¾‘ã€‚</p>
            </div>
        </section>

        <!-- Slide 25: Decorator Pattern - Best Practices -->
        <section class="slide">
            <div class="slide-content">
                <h2>è£…é¥°å™¨æ¨¡å¼ - æœ€ä½³å®è·µ</h2>
                <p>æŒæ¡è£…é¥°å™¨æ¨¡å¼çš„æ­£ç¡®ä½¿ç”¨æ–¹æ³•ï¼Œå¸¸è§ç»„åˆæ¨¡å¼ä»¥åŠåœ¨å®é™…é¡¹ç›®ä¸­çš„åº”ç”¨æŠ€å·§ã€‚</p>

                <h3>ğŸ¯ å¸¸è§è£…é¥°å™¨ç»„åˆ</h3>
                <table class="table-standard">
                    <thead>
                        <tr >
                            <th >ç»„åˆæ–¹å¼</th>
                            <th >ç”¨é€”</th>
                            <th >ç¤ºä¾‹</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td >Buffered + File</td>
                            <td >æ–‡ä»¶IOæ€§èƒ½ä¼˜åŒ–</td>
                            <td >BufferedReader(new FileReader())</td>
                        </tr>
                        <tr>
                            <td >Data + Buffered + File</td>
                            <td >é«˜æ•ˆè¯»å–æ•°æ®ç±»å‹</td>
                            <td >DataInputStream(new BufferedInputStream())</td>
                        </tr>
                        <tr>
                            <td >Pushback + Buffered</td>
                            <td >éœ€è¦å›é€€çš„è§£æ</td>
                            <td >PushbackReader(new BufferedReader())</td>
                        </tr>
                        <tr>
                            <td >Line Number + Buffered</td>
                            <td >å¸¦è¡Œå·çš„æ–‡æœ¬å¤„ç†</td>
                            <td >LineNumberReader(new BufferedReader())</td>
                        </tr>
                    </tbody>
                </table>

                <h3>ğŸ’¡ è£…é¥°å™¨æ¨¡å¼çš„ä¼˜åŠ¿</h3>
                <pre><code class="language-java">// 1. åŠ¨æ€ç»„åˆåŠŸèƒ½
public void dynamicComposition(String filePath) {
    try (InputStream base = new FileInputStream(filePath)) {
        InputStream stream = base;

        // æ ¹æ®éœ€è¦åŠ¨æ€æ·»åŠ è£…é¥°å™¨
        if (needBuffering()) {
            stream = new BufferedInputStream(stream);
        }

        if (needDataTypes()) {
            stream = new DataInputStream(stream);
        }

        if (needPushback()) {
            stream = new PushbackInputStream(stream);
        }

        // ä½¿ç”¨ç»„åˆåçš„æµ
        processStream(stream);

    } catch (IOException e) {
        e.printStackTrace();
    }
}

// 2. é€æ˜æ€§ï¼šè£…é¥°åçš„æµä»å¯å½“ä½œåŸç±»å‹ä½¿ç”¨
public static void transparencyExample() {
    InputStream stream = new DataInputStream(
                            new BufferedInputStream(
                                new FileInputStream("data.dat")));

    // ä»ç„¶å¯ä»¥ä½œä¸ºInputStreamä½¿ç”¨
    readAsInputStream(stream);

    // ä¹Ÿå¯ä»¥ä½œä¸ºDataInputStreamä½¿ç”¨
    readAsDataInputStream((DataInputStream) stream);
}</code></pre>

                <h3>ğŸ”§ å®é™…åº”ç”¨ï¼šå¤åˆIOå·¥å…·</h3>
                <pre><code class="language-java">// å¤åˆIOå·¥å…·ï¼šå¸¦æœ‰å¤šç§åŠŸèƒ½çš„è¯»å–å™¨
public class AdvancedFileReader implements AutoCloseable {
    private final BufferedReader reader;
    private int lineNumber = 0;
    private long totalBytes = 0;

    public AdvancedFileReader(String filePath, String encoding) throws IOException {
        this.reader = new BufferedReader(
                        new InputStreamReader(
                            new FileInputStream(filePath), encoding));
    }

    // è¯»å–ä¸‹ä¸€è¡Œå¹¶æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
    public String readLine() throws IOException {
        String line = reader.readLine();
        if (line != null) {
            lineNumber++;
            totalBytes += line.getBytes(StandardCharsets.UTF_8).length;
        }
        return line;
    }

    // è¯»å–æŒ‡å®šè¡Œ
    public String readLineAt(int targetLine) throws IOException {
        reset();
        String line;
        while ((line = readLine()) != null && lineNumber < targetLine) {
            // ç»§ç»­è¯»å–
        }
        return lineNumber == targetLine ? line : null;
    }

    public int getCurrentLineNumber() { return lineNumber; }
    public long getTotalBytesRead() { return totalBytes; }
    public void reset() throws IOException {
        reader.reset();
        lineNumber = 0;
        totalBytes = 0;
    }

    @Override
    public void close() throws IOException {
        reader.close();
    }
}</code></pre>

                <h3>âš ï¸ è£…é¥°å™¨ä½¿ç”¨æ³¨æ„äº‹é¡¹</h3>
                <ul>
                    <li><strong>è£…é¥°é¡ºåº</strong>ï¼šè£…é¥°å™¨çš„é¡ºåºå¾ˆé‡è¦ï¼Œé€šå¸¸ç¼“å†²æµåº”è¯¥æ¥è¿‘åº•å±‚</li>
                    <li><strong>èµ„æºç®¡ç†</strong>ï¼šåªéœ€å…³é—­æœ€å¤–å±‚çš„è£…é¥°å™¨ï¼Œå®ƒä¼šè‡ªåŠ¨å…³é—­å†…å±‚</li>
                    <li><strong>åŠŸèƒ½å†²çª</strong>ï¼šæŸäº›è£…é¥°å™¨å¯èƒ½ä¸å…¼å®¹ï¼Œéœ€è¦æ³¨æ„ç»„åˆ</li>
                    <li><strong>æ€§èƒ½å¼€é”€</strong>ï¼šè¿‡å¤šè£…é¥°å¯èƒ½å¸¦æ¥æ€§èƒ½å¼€é”€</li>
                </ul>

                <p class="conclusion">è£…é¥°å™¨æ¨¡å¼è®©Java IOå…·æœ‰<strong>æå¼ºçš„çµæ´»æ€§</strong>ã€‚é€šè¿‡ç»„åˆä¸åŒçš„è£…é¥°å™¨ï¼Œå¯ä»¥æ„å»ºå‡ºåŠŸèƒ½å¼ºå¤§ä¸”ç¬¦åˆç‰¹å®šéœ€æ±‚çš„IOè§£å†³æ–¹æ¡ˆï¼Œè¿™æ˜¯è®¾è®¡æ¨¡å¼åœ¨å®é™…åº”ç”¨ä¸­çš„å®Œç¾ä½“ç°ã€‚</p>
            </div>
        </section>

              <!-- Slide 16: Object Serialization -->
        <section class="slide">
            <div class="slide-content">
                <h2>å¯¹è±¡åºåˆ—åŒ– Object IO</h2>
                <p>Javaåºåˆ—åŒ–æœºåˆ¶å°†å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚æµï¼Œä¾¿äºå­˜å‚¨æˆ–ä¼ è¾“ã€‚<code>Serializable</code>æ¥å£å’Œ<code>ObjectOutputStream/ObjectInputStream</code>æ˜¯å®ç°å¯¹è±¡åºåˆ—åŒ–çš„æ ¸å¿ƒã€‚</p>

                <h3>ğŸ·ï¸ Serializableæ¥å£</h3>
                <p>è¦ä½¿ä¸€ä¸ªç±»çš„å¯¹è±¡å¯åºåˆ—åŒ–ï¼Œå¿…é¡»å®ç°<code>Serializable</code>æ¥å£ã€‚è¿™æ˜¯ä¸€ä¸ªâ€œæ ‡è®°æ¥å£â€ï¼Œæ²¡æœ‰ä»»ä½•æ–¹æ³•éœ€è¦å®ç°ã€‚</p>
                <pre><code class="language-java">// å®ç°Serializableæ¥å£
public class Student implements Serializable {
    private static final long serialVersionUID = 1L;

    private String name;
    private int age;
    private double gpa;
    private transient String password; // transientå­—æ®µä¸ä¼šè¢«åºåˆ—åŒ–

    public Student(String name, int age, double gpa, String password) {
        this.name = name;
        this.age = age;
        this.gpa = gpa;
        this.password = password;
    }

    @Override
    public String toString() {
        return String.format("Student{name='%s', age=%d, gpa=%.2f, password='%s'}",
                           name, age, gpa, password);
    }
}

// åºåˆ—åŒ–å¯¹è±¡
public static void serializeObject(Student student, String filePath) {
    try (ObjectOutputStream oos = new ObjectOutputStream(
             new FileOutputStream(filePath))) {

        oos.writeObject(student);
        System.out.println("å¯¹è±¡åºåˆ—åŒ–æˆåŠŸ: " + student);

    } catch (IOException e) {
        System.err.println("åºåˆ—åŒ–å¤±è´¥: " + e.getMessage());
    }
}

// ååºåˆ—åŒ–å¯¹è±¡
public static Student deserializeObject(String filePath) {
    try (ObjectInputStream ois = new ObjectInputStream(
             new FileInputStream(filePath))) {

        Student student = (Student) ois.readObject();
        System.out.println("å¯¹è±¡ååºåˆ—åŒ–æˆåŠŸ: " + student);

        return student;

    } catch (IOException | ClassNotFoundException e) {
        System.err.println("ååºåˆ—åŒ–å¤±è´¥: " + e.getMessage());
        return null;
    }
}</code></pre>

                <h3>ğŸ¯ åºåˆ—åŒ–IDçš„ä½œç”¨</h3>
                <pre><code class="language-java">public class Product implements Serializable {
    // æ¨èæ˜¾å¼å£°æ˜serialVersionUID
    private static final long serialVersionUID = 123456789L;

    private String productName;
    private double price;

    // å¦‚æœä¸å£°æ˜serialVersionUIDï¼ŒJVMä¼šæ ¹æ®ç±»ä¿¡æ¯è‡ªåŠ¨è®¡ç®—
    // è¿™å¯èƒ½å¯¼è‡´ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜
}

// ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜ç¤ºä¾‹
public class Product implements Serializable {
    // ç‰ˆæœ¬1: åªæœ‰productNameå’Œprice
    private String productName;
    private double price;

    // ç‰ˆæœ¬2: æ·»åŠ äº†æ–°å­—æ®µcategory
    private String category; // æ–°å¢å­—æ®µ
}

// å¦‚æœæ²¡æœ‰serialVersionUIDï¼Œç‰ˆæœ¬1å’Œç‰ˆæœ¬2çš„åºåˆ—åŒ–æ•°æ®å¯èƒ½ä¸å…¼å®¹</code></pre>

                <p class="conclusion">å¯¹è±¡åºåˆ—åŒ–æ˜¯<strong>æŒä¹…åŒ–å¯¹è±¡çŠ¶æ€</strong>çš„é‡è¦æœºåˆ¶ï¼Œå¹¿æ³›ç”¨äºç¼“å­˜ã€ä¼šè¯ç®¡ç†ã€åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ã€‚æ³¨æ„serialVersionUIDçš„ç®¡ç†å’Œtransientå…³é”®å­—çš„ä½¿ç”¨ã€‚</p>
            </div>
        </section>

        <!-- Slide 17: RandomAccessFile -->
        <section class="slide">
            <div class="slide-content">
                <h2>RandomAccessFileä¸æ–‡ä»¶æŒ‡é’ˆ</h2>
                <p><code>RandomAccessFile</code>æ”¯æŒéšæœºè®¿é—®æ–‡ä»¶çš„ä»»æ„ä½ç½®ï¼Œé€šè¿‡æ–‡ä»¶æŒ‡é’ˆå®ç°è¯»å†™æ“ä½œï¼Œæ˜¯å¤„ç†å¤§å‹æ–‡ä»¶çš„åˆ©å™¨ã€‚</p>
                <img src="images/11-IO-randomaccessfile-pointer.png" alt="RandomAccessFileæ–‡ä»¶æŒ‡é’ˆ" style="width: 80%; margin: 20px auto;">
                <h3>ğŸ“ æ–‡ä»¶æŒ‡é’ˆæ“ä½œ</h3>
                <pre><code class="language-java">public static void randomAccessDemo(String filePath) {
    try (RandomAccessFile raf = new RandomAccessFile(filePath, "rw")) {

        // è·å–å½“å‰æ–‡ä»¶æŒ‡é’ˆä½ç½®
        long position = raf.getFilePointer();
        System.out.println("åˆå§‹ä½ç½®: " + position);

        // å†™å…¥ä¸€äº›æ•°æ®
        raf.writeUTF("Hello, RandomAccessFile!");
        raf.writeInt(42);
        raf.writeDouble(3.14159);

        // ç§»åŠ¨æ–‡ä»¶æŒ‡é’ˆåˆ°æ–‡ä»¶å¼€å¤´
        raf.seek(0);
        System.out.println("å›åˆ°å¼€å¤´: " + raf.getFilePointer());

        // è¯»å–å­—ç¬¦ä¸²
        String message = raf.readUTF();
        System.out.println("è¯»å–å­—ç¬¦ä¸²: " + message);

        // è·³è½¬åˆ°æ•´æ•°ä½ç½®
        raf.seek(raf.getFilePointer()); // å½“å‰ä½ç½®å·²åœ¨æ•´æ•°å‰

        // è¯»å–æ•´æ•°
        int number = raf.readInt();
        System.out.println("è¯»å–æ•´æ•°: " + number);

        // è·å–æ–‡ä»¶é•¿åº¦
        long length = raf.length();
        System.out.println("æ–‡ä»¶é•¿åº¦: " + length);

        // ç§»åŠ¨åˆ°æ–‡ä»¶æœ«å°¾
        raf.seek(length);
        raf.writeUTF("è¿½åŠ çš„å†…å®¹");

    } catch (IOException e) {
        System.err.println("éšæœºè®¿é—®æ–‡ä»¶å¤±è´¥: " + e.getMessage());
    }
}</code></pre>

                <h3>ğŸ¯ å®é™…åº”ç”¨ç¤ºä¾‹</h3>
                <pre><code class="language-java">// ç®€å•çš„æ•°æ®åº“å®ç°
public class SimpleDatabase {
    private final RandomAccessFile raf;
    private final int recordSize = 100; // æ¯æ¡è®°å½•100å­—èŠ‚

    public SimpleDatabase(String filePath) throws IOException {
        this.raf = new RandomAccessFile(filePath, "rw");
    }

    // å†™å…¥æŒ‡å®šä½ç½®çš„è®°å½•
    public void writeRecord(int index, String data) throws IOException {
        long position = (long) index * recordSize;
        raf.seek(position);

        // å¡«å……åˆ°å›ºå®šé•¿åº¦
        byte[] bytes = data.getBytes(StandardCharsets.UTF_8);
        byte[] record = new byte[recordSize];
        System.arraycopy(bytes, 0, record, 0, Math.min(bytes.length, recordSize));

        raf.write(record);
    }

    // è¯»å–æŒ‡å®šä½ç½®çš„è®°å½•
    public String readRecord(int index) throws IOException {
        long position = (long) index * recordSize;
        raf.seek(position);

        byte[] record = new byte[recordSize];
        raf.read(record);

        // ç§»é™¤å°¾éƒ¨ç©ºå­—ç¬¦
        int end = record.length;
        while (end > 0 && record[end - 1] == 0) {
            end--;
        }

        return new String(record, 0, end, StandardCharsets.UTF_8);
    }

    // è·å–è®°å½•æ•°é‡
    public int getRecordCount() throws IOException {
        return (int) (raf.length() / recordSize);
    }

    public void close() throws IOException {
        raf.close();
    }
}</code></pre>

                <h3>âš ï¸ ä½¿ç”¨æ³¨æ„äº‹é¡¹</h3>
                <ul>
                    <li><strong>æŒ‡é’ˆä½ç½®</strong>ï¼šseek()æ–¹æ³•çš„å‚æ•°ä¸èƒ½ä¸ºè´Ÿæ•°</li>
                    <li><strong>æ–‡ä»¶é•¿åº¦</strong>ï¼šseekè¶…è¿‡æ–‡ä»¶æœ«å°¾ä¼šè‡ªåŠ¨æ‰©å±•æ–‡ä»¶</li>
                    <li><strong>çº¿ç¨‹å®‰å…¨</strong>ï¼šRandomAccessFileä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„</li>
                    <li><strong>æ€§èƒ½è€ƒè™‘</strong>ï¼šé¢‘ç¹çš„seekæ“ä½œå¯èƒ½å½±å“æ€§èƒ½</li>
                </ul>

                <p class="conclusion">RandomAccessFileæ˜¯<strong>æ–‡ä»¶éšæœºè®¿é—®</strong>çš„ç†æƒ³é€‰æ‹©ï¼Œé€‚ç”¨äºæ•°æ®åº“ã€æ—¥å¿—æ–‡ä»¶ã€å¤§æ–‡ä»¶å¤„ç†ç­‰éœ€è¦ç²¾ç¡®å®šä½çš„åœºæ™¯ã€‚</p>
            </div>
        </section>

        <!-- Slide 18: Scanner File Reading -->
        <section class="slide">
            <div class="slide-content">
                <h2>Scannerç±»ï¼šæ–‡æœ¬æ‰«æä¸è§£æ</h2>
                
                <div style="background: #e8f4fd; padding: 15px; border-radius: 5px; border-left: 5px solid #3498db; margin-bottom: 20px;">
                    <h3 style="margin-top: 0; color: #2980b9; font-size: 1.1em;">ğŸ¤” ä¸ºä»€ä¹ˆæœ‰äº† Reader è¿˜éœ€è¦ Scannerï¼Ÿ</h3>
                    <p style="margin: 5px 0;"><strong>Reader</strong> åªæ˜¯æ•°æ®çš„"æ¬è¿å·¥"ï¼Œå®ƒåªè´Ÿè´£æŠŠå­—ç¬¦è¯»è¿›å†…å­˜ï¼Œä¸å…³å¿ƒå†…å®¹æ˜¯ä»€ä¹ˆã€‚å¦‚æœä½ æƒ³ä»æ–‡æœ¬ä¸­è¯»å–ä¸€ä¸ªæ•´æ•°ï¼Œä½ éœ€è¦è‡ªå·±å¤„ç†ç©ºæ ¼åˆ†å‰²ã€å­—ç¬¦ä¸²è½¬æ¢ç­‰ç¹çå·¥ä½œã€‚</p>
                    <p style="margin: 5px 0;"><strong>Scanner</strong> æ˜¯æ•°æ®çš„"ç¿»è¯‘å®˜"ï¼Œå®ƒä¸ä»…èƒ½è¯»å–æ•°æ®ï¼Œè¿˜èƒ½ç†è§£æ•°æ®ã€‚å®ƒå†…ç½®äº†å¼ºå¤§çš„æ­£åˆ™è¡¨è¾¾å¼å¼•æ“ï¼Œèƒ½è‡ªåŠ¨è·³è¿‡åˆ†éš”ç¬¦ï¼ˆé»˜è®¤ç©ºæ ¼/æ¢è¡Œï¼‰ï¼Œå¹¶ç›´æ¥å°†æ–‡æœ¬è§£æä¸º Java ç±»å‹ï¼ˆint, double ç­‰ï¼‰ã€‚</p>
                </div>

                <h3>ğŸ†š æ•ˆç‡å¯¹æ¯”ï¼šè¯»å–ä¸¤ä¸ªæ•´æ•° "100 200"</h3>
                <table class="table-standard" style="font-size: 0.9em; margin-bottom: 20px;">
                    <thead>
                        <tr>
                            <th width="50%">ä½¿ç”¨ BufferedReader (ç¹ç)</th>
                            <th width="50%">ä½¿ç”¨ Scanner (ä¼˜é›…)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <pre style="margin:0;"><code class="language-java">String line = br.readLine();
// æ‰‹åŠ¨å¤„ç†åˆ†å‰²
String[] parts = line.split(" ");
// æ‰‹åŠ¨å¤„ç†ç±»å‹è½¬æ¢
int a = Integer.parseInt(parts[0]);
int b = Integer.parseInt(parts[1]);</code></pre>
                            </td>
                            <td>
                                <pre style="margin:0;"><code class="language-java">// è‡ªåŠ¨å¤„ç†åˆ†å‰²ä¸ç±»å‹è½¬æ¢
int a = scanner.nextInt();
int b = scanner.nextInt();
// å°±åƒé­”æ³•ä¸€æ · âœ¨</code></pre>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <h3>ğŸ“– ScanneråŸºæœ¬ç”¨æ³•ä¸é™·é˜±</h3>
                
                <div class="alert alert-warning" style="background: #fff3cd; color: #856404; padding: 15px; margin-bottom: 20px; border: 1px solid #ffeeba; border-radius: 5px;">
                    <h4 style="margin-top:0; margin-bottom:10px;">âš ï¸ å¸¸è§é™·é˜±ï¼šæ„é€ å™¨å‚æ•°ç±»å‹</h4>
                    <p style="margin:0;">åˆå­¦è€…å¸¸çŠ¯çš„é”™è¯¯ï¼šç›´æ¥ä¼ å…¥æ–‡ä»¶è·¯å¾„å­—ç¬¦ä¸²ã€‚</p>
                    <ul style="margin-bottom:0;">
                        <li>âŒ <code>new Scanner("data.txt")</code>ï¼šæ‰«æ<strong>å­—ç¬¦ä¸²å†…å®¹</strong> "data.txt" æœ¬èº«ï¼ˆåªè¯»å‡º"data.txt"è¿™8ä¸ªå­—ç¬¦ï¼‰ã€‚</li>
                        <li>âœ… <code>new Scanner(new File("data.txt"))</code>ï¼šæ‰«æ<strong>æ–‡ä»¶</strong> data.txt çš„å†…å®¹ã€‚</li>
                        <li>âœ… <code>new Scanner(System.in)</code>ï¼šæ‰«æ<strong>æ ‡å‡†è¾“å…¥</strong>ï¼ˆé”®ç›˜ï¼‰ã€‚</li>
                    </ul>
                </div>

                <pre><code class="language-java">// 1. æ‰«ææ–‡ä»¶å†…å®¹ï¼ˆå¿…é¡»åŒ…è£…ä¸º File å¯¹è±¡ï¼‰
try (Scanner fileScanner = new Scanner(new File("scores.txt"))) {
    while (fileScanner.hasNextInt()) {
        System.out.println("è¯»å–æ•´æ•°: " + fileScanner.nextInt());
    }
}

// 2. æ‰«æå­—ç¬¦ä¸²å†…å®¹ï¼ˆå¸¸ç”¨äºè§£æç‰¹å®šæ ¼å¼çš„æ–‡æœ¬è¡Œï¼‰
String input = "100,200,300";
Scanner strScanner = new Scanner(input);
strScanner.useDelimiter(","); // è®¾ç½®åˆ†éš”ç¬¦
while (strScanner.hasNextInt()) {
    System.out.println("è§£ææ•°å­—: " + strScanner.nextInt());
}</code></pre>

                <h3>ğŸ¯ å®é™…åº”ç”¨ï¼šè§£ææ··åˆæ•°æ®</h3>
                <pre><code class="language-java">public static void parseDataTypes(String filePath) {
    try (Scanner scanner = new Scanner(new File(filePath))) {
        // Scanner ä¼šè‡ªåŠ¨è·³è¿‡ç©ºç™½ç¬¦ï¼ˆç©ºæ ¼ã€Tabã€æ¢è¡Œï¼‰
        while (scanner.hasNext()) {
            if (scanner.hasNextInt()) {
                int number = scanner.nextInt();
                System.out.println("æ•´æ•°: " + number);
            } else if (scanner.hasNextDouble()) {
                double decimal = scanner.nextDouble();
                System.out.println("å°æ•°: " + decimal);
            } else {
                String text = scanner.next(); // è¯»å–ä¸‹ä¸€ä¸ªå•è¯
                System.out.println("æ–‡æœ¬: " + text);
            }
        }
    } catch (FileNotFoundException e) {
        System.err.println("æ–‡ä»¶æœªæ‰¾åˆ°: " + e.getMessage());
    }
}</code></pre>

                <h3>ğŸ¯ å®é™…åº”ç”¨ï¼šCSVæ–‡ä»¶è§£æ</h3>
                <pre><code class="language-java">public static void parseCSVFile(String filePath) {
    try (Scanner scanner = new Scanner(new File(filePath))) {

        // è®¾ç½®åˆ†éš”ç¬¦ä¸ºé€—å·
        scanner.useDelimiter(",");

        int lineNumber = 0;
        while (scanner.hasNextLine()) {
            lineNumber++;
            String line = scanner.nextLine();

            // è·³è¿‡ç©ºè¡Œå’Œæ³¨é‡Šè¡Œ
            if (line.trim().isEmpty() || line.startsWith("#")) {
                continue;
            }

            // è§£æCSVè¡Œ
            Scanner lineScanner = new Scanner(line);
            lineScanner.useDelimiter(",");

            List<String> fields = new ArrayList<>();
            while (lineScanner.hasNext()) {
                fields.add(lineScanner.next().trim());
            }

            System.out.println("ç¬¬" + lineNumber + "è¡Œ: " + fields);
            lineScanner.close();
        }

    } catch (FileNotFoundException e) {
        System.err.println("CSVæ–‡ä»¶æœªæ‰¾åˆ°: " + e.getMessage());
    }
}</code></pre>

                <h3>ğŸ”§ Scanneré…ç½®é€‰é¡¹</h3>
                <table class="table-standard">
                    <thead>
                        <tr >
                            <th >æ–¹æ³•</th>
                            <th >ç”¨é€”</th>
                            <th >ç¤ºä¾‹</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td >useDelimiter()</td>
                            <td >è®¾ç½®åˆ†éš”ç¬¦</td>
                            <td >scanner.useDelimiter(";")</td>
                        </tr>
                        <tr>
                            <td >useLocale()</td>
                            <td >è®¾ç½®åœ°åŒº</td>
                            <td >scanner.useLocale(Locale.US)</td>
                        </tr>
                        <tr>
                            <td >hasNextPattern()</td>
                            <td >æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</td>
                            <td >scanner.hasNext("\\d+")</td>
                        </tr>
                        <tr>
                            <td >findInLine()</td>
                            <td >è¡Œå†…æŸ¥æ‰¾</td>
                            <td >scanner.findInLine("error")</td>
                        </tr>
                    </tbody>
                </table>

                <h3>ğŸ’¡ Scanner vs BufferedReader</h3>
                <pre><code class="language-java">// Scanner: ç®€å•æ˜“ç”¨ï¼Œé€‚åˆæ ¼å¼åŒ–æ•°æ®
public void scannerExample() {
    try (Scanner scanner = new Scanner(new File("data.txt"))) {
        while (scanner.hasNextInt()) {
            int num = scanner.nextInt();
            processNumber(num);
        }
    }
}

// BufferedReader: æ€§èƒ½æ›´å¥½ï¼Œé€‚åˆå¤§æ–‡ä»¶
public void bufferedReaderExample() {
    try (BufferedReader reader = new BufferedReader(new FileReader("data.txt"))) {
        String line;
        while ((line = reader.readLine()) != null) {
            int num = Integer.parseInt(line.trim());
            processNumber(num);
        }
    }
}</code></pre>

                <p class="conclusion">Scanneræ˜¯<strong>æ–‡æœ¬è§£æ</strong>çš„ä¾¿æ·å·¥å…·ï¼Œç‰¹åˆ«é€‚åˆå¤„ç†é…ç½®æ–‡ä»¶ã€CSVæ•°æ®ç­‰æ ¼å¼åŒ–æ–‡æœ¬ã€‚å¯¹äºå¤§æ–‡ä»¶ï¼ŒBufferedReaderé€šå¸¸æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚</p>
            </div>
        </section>

        <!-- Slide 19: Exception Handling and Resource Management -->
        <section class="slide">
            <div class="slide-content">
                <h2>IOå¼‚å¸¸å¤„ç†å’Œèµ„æºç®¡ç†</h2>
                <p>æ­£ç¡®çš„å¼‚å¸¸å¤„ç†å’Œèµ„æºç®¡ç†æ˜¯ç¼–å†™å¥å£®IOç¨‹åºçš„å…³é”®ã€‚Javaæä¾›äº†å¤šç§æœºåˆ¶æ¥ç¡®ä¿èµ„æºçš„æ­£ç¡®é‡Šæ”¾å’Œå¼‚å¸¸çš„ä¼˜é›…å¤„ç†ã€‚</p>

                <h3>ğŸ›¡ï¸ Try-with-Resources (æ¨è)</h3>
                <pre><code class="language-java">// ä¼ ç»Ÿæ–¹å¼ï¼ˆå®¹æ˜“å‡ºé”™ï¼‰
public static void oldWayFileCopy(String source, String target) {
    FileInputStream fis = null;
    FileOutputStream fos = null;

    try {
        fis = new FileInputStream(source);
        fos = new FileOutputStream(target);

        byte[] buffer = new byte[1024];
        int bytesRead;

        while ((bytesRead = fis.read(buffer)) != -1) {
            fos.write(buffer, 0, bytesRead);
        }

    } catch (IOException e) {
        System.err.println("æ–‡ä»¶å¤åˆ¶å¤±è´¥: " + e.getMessage());
    } finally {
        // éœ€è¦æ‰‹åŠ¨å…³é—­èµ„æºï¼Œå®¹æ˜“é—æ¼
        try {
            if (fis != null) fis.close();
        } catch (IOException e) {
            System.err.println("å…³é—­è¾“å…¥æµå¤±è´¥: " + e.getMessage());
        }

        try {
            if (fos != null) fos.close();
        } catch (IOException e) {
            System.err.println("å…³é—­è¾“å‡ºæµå¤±è´¥: " + e.getMessage());
        }
    }
}

// ç°ä»£æ–¹å¼ï¼ˆæ¨èï¼‰
public static void modernWayFileCopy(String source, String target) {
    try (FileInputStream fis = new FileInputStream(source);
         FileOutputStream fos = new FileOutputStream(target)) {

        byte[] buffer = new byte[1024];
        int bytesRead;

        while ((bytesRead = fis.read(buffer)) != -1) {
            fos.write(buffer, 0, bytesRead);
        }

    } catch (IOException e) {
        System.err.println("æ–‡ä»¶å¤åˆ¶å¤±è´¥: " + e.getMessage());
        // èµ„æºä¼šè‡ªåŠ¨å…³é—­ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œ
    }
}</code></pre>

                <h3>ğŸ”„ å¼‚å¸¸é“¾å¤„ç†</h3>
                <pre><code class="language-java">public class FileProcessor {

    public void processFile(String filePath) throws FileProcessingException {
        try (BufferedReader reader = new BufferedReader(new FileReader(filePath))) {
            String line;
            int lineNumber = 0;

            while ((line = reader.readLine()) != null) {
                lineNumber++;
                try {
                    processLine(line, lineNumber);
                } catch (LineProcessingException e) {
                    // åŒ…è£…å¼‚å¸¸ï¼Œä¿ç•™åŸå§‹å¼‚å¸¸ä¿¡æ¯
                    throw new FileProcessingException(
                        "å¤„ç†ç¬¬ " + lineNumber + " è¡Œæ—¶å¤±è´¥: " + e.getMessage(), e);
                }
            }

        } catch (IOException e) {
            throw new FileProcessingException("è¯»å–æ–‡ä»¶å¤±è´¥: " + e.getMessage(), e);
        }
    }

    private void processLine(String line, int lineNumber) throws LineProcessingException {
        // å¤„ç†å•è¡Œæ•°æ®ï¼Œå¯èƒ½æŠ›å‡ºä¸šåŠ¡å¼‚å¸¸
        if (line == null || line.trim().isEmpty()) {
            throw new LineProcessingException("ç©ºè¡Œ");
        }

        // æ›´å¤šå¤„ç†é€»è¾‘...
    }
}

// è‡ªå®šä¹‰å¼‚å¸¸ç±»
public class FileProcessingException extends Exception {
    public FileProcessingException(String message, Throwable cause) {
        super(message, cause);
    }
}

public class LineProcessingException extends Exception {
    public LineProcessingException(String message) {
        super(message);
    }
}</code></pre>

                <h3>âš¡ æ€§èƒ½ç›¸å…³çš„å¼‚å¸¸å¤„ç†</h3>
                <pre><code class="language-java">public class OptimizedFileReader {

    // é¿å…åœ¨å¾ªç¯ä¸­åˆ›å»ºå¼‚å¸¸
    public static void efficientFileProcessing(String filePath) {
        try (BufferedReader reader = new BufferedReader(new FileReader(filePath))) {
            String line;
            int validLines = 0;
            int invalidLines = 0;

            while ((line = reader.readLine()) != null) {
                try {
                    processDataLine(line);
                    validLines++;
                } catch (InvalidDataException e) {
                    // è®°å½•é”™è¯¯ä½†ç»§ç»­å¤„ç†
                    invalidLines++;
                    System.err.println("è·³è¿‡æ— æ•ˆè¡Œ: " + e.getMessage());
                }
            }

            System.out.printf("å¤„ç†å®Œæˆ: æœ‰æ•ˆè¡Œ %d, æ— æ•ˆè¡Œ %d%n", validLines, invalidLines);

        } catch (IOException e) {
            System.err.println("æ–‡ä»¶å¤„ç†å¤±è´¥: " + e.getMessage());
        }
    }

    // æ‰¹é‡å¤„ç†ï¼Œå‡å°‘å¼‚å¸¸å¼€é”€
    public static void batchProcessing(String filePath) {
        List<String> validLines = new ArrayList<>();
        List<String> invalidLines = new ArrayList<>();

        try (BufferedReader reader = new BufferedReader(new FileReader(filePath))) {
            String line;

            while ((line = reader.readLine()) != null) {
                if (isValidLine(line)) {
                    validLines.add(line);
                } else {
                    invalidLines.add(line);
                }
            }

            // æ‰¹é‡å¤„ç†æœ‰æ•ˆæ•°æ®
            processBatch(validLines);

            // è®°å½•æ— æ•ˆæ•°æ®
            if (!invalidLines.isEmpty()) {
                System.err.println("å‘ç° " + invalidLines.size() + " è¡Œæ— æ•ˆæ•°æ®");
            }

        } catch (IOException e) {
            System.err.println("æ‰¹é‡å¤„ç†å¤±è´¥: " + e.getMessage());
        }
    }

    private static boolean isValidLine(String line) {
        // éªŒè¯é€»è¾‘ï¼Œé¿å…æŠ›å‡ºå¼‚å¸¸
        return line != null && !line.trim().isEmpty() &&
               line.matches("[a-zA-Z0-9,\\s]+");
    }
}</code></pre>

                <h3>ğŸ’¡ æœ€ä½³å®è·µæ€»ç»“</h3>
                <ul>
                    <li><strong>ä¼˜å…ˆä½¿ç”¨try-with-resources</strong>ï¼šè‡ªåŠ¨ç®¡ç†èµ„æºï¼Œé¿å…æ³„æ¼</li>
                    <li><strong>å…·ä½“å¼‚å¸¸å¤„ç†</strong>ï¼šæ•è·å…·ä½“çš„å¼‚å¸¸ç±»å‹ï¼Œè€Œéç¬¼ç»Ÿçš„Exception</li>
                    <li><strong>å¼‚å¸¸é“¾ä¿ç•™</strong>ï¼šåŒ…è£…å¼‚å¸¸æ—¶ä¿ç•™åŸå§‹å¼‚å¸¸ä¿¡æ¯</li>
                    <li><strong>èµ„æºæ¸…ç†</strong>ï¼šåœ¨finallyå—æˆ–try-with-resourcesä¸­ç¡®ä¿èµ„æºé‡Šæ”¾</li>
                    <li><strong>æ€§èƒ½è€ƒè™‘</strong>ï¼šé¿å…åœ¨çƒ­ç‚¹è·¯å¾„ä¸Šé¢‘ç¹åˆ›å»ºå¼‚å¸¸</li>
                </ul>

                <p class="conclusion">è‰¯å¥½çš„å¼‚å¸¸å¤„ç†å’Œèµ„æºç®¡ç†æ˜¯<strong>å¥å£®ç¨‹åº</strong>çš„åŸºç¡€ã€‚æ­£ç¡®ä½¿ç”¨try-with-resourceså’Œåˆç†çš„å¼‚å¸¸å¤„ç†ç­–ç•¥ï¼Œèƒ½è®©ä½ çš„IOç¨‹åºæ›´åŠ å¯é å’Œé«˜æ•ˆã€‚</p>
            </div>
        </section>



        <!-- Slide 25: Performance Optimization - NIO and Advanced Techniques -->
        <section class="slide">
            <div class="slide-content">
                <h2>æ€§èƒ½ä¼˜åŒ– - NIOä¸é«˜çº§æŠ€æœ¯</h2>
                <p>å¯¹äºå¤§æ–‡ä»¶å’Œé«˜æ€§èƒ½åœºæ™¯ï¼Œä¼ ç»ŸIOå¯èƒ½ä¸å¤Ÿç”¨ã€‚NIOå’Œå†…å­˜æ˜ å°„æä¾›äº†æ›´é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚</p>

                <h3>ğŸ¯ NIO vs ä¼ ç»ŸIOå¯¹æ¯”</h3>
                <pre><code class="language-java">import java.nio.channels.*;
import java.nio.ByteBuffer;

public class NIOComparison {

    // ä¼ ç»ŸIOæ–¹å¼
    public static void traditionalCopy(String source, String target) {
        long startTime = System.nanoTime();

        try (FileInputStream fis = new FileInputStream(source);
             FileOutputStream fos = new FileOutputStream(target)) {

            byte[] buffer = new byte[8192];
            int bytesRead;

            while ((bytesRead = fis.read(buffer)) != -1) {
                fos.write(buffer, 0, bytesRead);
            }

        } catch (IOException e) {
            e.printStackTrace();
        }

        long endTime = System.nanoTime();
        System.out.printf("ä¼ ç»ŸIOè€—æ—¶: %.2f ms%n", (endTime - startTime) / 1_000_000.0);
    }

    // NIOæ–¹å¼
    public static void nioCopy(String source, String target) {
        long startTime = System.nanoTime();

        try (FileChannel sourceChannel = FileChannel.open(Paths.get(source), StandardOpenOption.READ);
             FileChannel targetChannel = FileChannel.open(Paths.get(target),
                     StandardOpenOption.CREATE, StandardOpenOption.WRITE)) {

            ByteBuffer buffer = ByteBuffer.allocateDirect(8192); // ç›´æ¥ç¼“å†²åŒº

            while (sourceChannel.read(buffer) != -1) {
                buffer.flip(); // åˆ‡æ¢åˆ°è¯»æ¨¡å¼
                targetChannel.write(buffer);
                buffer.clear(); // æ¸…ç©ºç¼“å†²åŒºï¼Œå‡†å¤‡å†™å…¥
            }

        } catch (IOException e) {
            e.printStackTrace();
        }

        long endTime = System.nanoTime();
        System.out.printf("NIOè€—æ—¶: %.2f ms%n", (endTime - startTime) / 1_000_000.0);
    }
}</code></pre>

                <h3>ğŸ’¾ å†…å­˜æ˜ å°„æ–‡ä»¶æŠ€æœ¯</h3>
                <pre><code class="language-java">public class MemoryMappedFile {

    public static void memoryMappedCopy(String source, String target) {
        long startTime = System.nanoTime();

        try (RandomAccessFile sourceFile = new RandomAccessFile(source, "r");
             RandomAccessFile targetFile = new RandomAccessFile(target, "rw");
             FileChannel sourceChannel = sourceFile.getChannel();
             FileChannel targetChannel = targetFile.getChannel()) {

            long fileSize = sourceChannel.size();

            // å†…å­˜æ˜ å°„æºæ–‡ä»¶
            MappedByteBuffer sourceBuffer = sourceChannel.map(
                FileChannel.MapMode.READ_ONLY, 0, fileSize);

            // å†…å­˜æ˜ å°„ç›®æ ‡æ–‡ä»¶
            MappedByteBuffer targetBuffer = targetChannel.map(
                FileChannel.MapMode.READ_WRITE, 0, fileSize);

            // ç›´æ¥å†…å­˜å¤åˆ¶
            targetBuffer.put(sourceBuffer);

        } catch (IOException e) {
            e.printStackTrace();
        }

        long endTime = System.nanoTime();
        System.out.printf("å†…å­˜æ˜ å°„è€—æ—¶: %.2f ms%n", (endTime - startTime) / 1_000_000.0);
    }

    // å¤§æ–‡ä»¶å¤„ç†
    public static void processLargeFile(String filePath, long chunkSize) {
        try (RandomAccessFile file = new RandomAccessFile(filePath, "r");
             FileChannel channel = file.getChannel()) {

            long fileSize = channel.size();
            long position = 0;

            while (position < fileSize) {
                long remaining = fileSize - position;
                long currentChunk = Math.min(chunkSize, remaining);

                MappedByteBuffer buffer = channel.map(
                    FileChannel.MapMode.READ_ONLY, position, currentChunk);

                // å¤„ç†å½“å‰å—
                processBuffer(buffer);

                position += currentChunk;

                // é‡Šæ”¾å†…å­˜æ˜ å°„ï¼ˆå¸®åŠ©åƒåœ¾å›æ”¶ï¼‰
                Cleaner cleaner = ((DirectBuffer) buffer).cleaner();
                if (cleaner != null) {
                    cleaner.clean();
                }
            }

        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}</code></pre>

                <h3>ğŸ”„ NIOçš„å…³é”®ä¼˜åŠ¿</h3>
                <div class="scenarios-grid margin-bottom-1rem">
                    <div class="class-card input-stream-card">
                        <h4 class="input-stream-title">âš¡ ç›´æ¥ç¼“å†²åŒº</h4>
                        <p>ä½¿ç”¨ç›´æ¥å†…å­˜ï¼Œå‡å°‘æ•°æ®æ‹·è´</p>
                        <ul class="decision-list-last">
                            <li>ByteBuffer.allocateDirect()</li>
                            <li>é¿å…JVMå †å†…å­˜æ‹·è´</li>
                            <li>æé«˜å¤§æ–‡ä»¶å¤„ç†æ•ˆç‡</li>
                        </ul>
                    </div>
                    <div class="class-card writer-card">
                        <h4 class="margin-0">ğŸ”„ éé˜»å¡IO</h4>
                        <p>æ”¯æŒå¼‚æ­¥IOæ“ä½œ</p>
                        <ul class="decision-list-last">
                            <li>Selectorå¤šè·¯å¤ç”¨</li>
                            <li>Channelå¼‚æ­¥æ“ä½œ</li>
                            <li>é«˜å¹¶å‘ç½‘ç»œç¼–ç¨‹</li>
                        </ul>
                    </div>
                </div>

                <h3>ğŸ“Š é€‚ç”¨åœºæ™¯å¯¹æ¯”</h3>
                <table class="table-standard">
                    <thead>
                        <tr >
                            <th >åœºæ™¯</th>
                            <th >ä¼ ç»ŸIO</th>
                            <th >NIO</th>
                            <th >æ¨è</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td >å°æ–‡ä»¶æ“ä½œ</td>
                            <td >âœ… ç®€å•æ˜“ç”¨</td>
                            <td >âŒ è¿‡åº¦å¤æ‚</td>
                            <td >ä¼ ç»ŸIO</td>
                        </tr>
                        <tr>
                            <td >å¤§æ–‡ä»¶è¯»å†™</td>
                            <td >âš ï¸ æ€§èƒ½ä¸€èˆ¬</td>
                            <td >âœ… é«˜æ•ˆå¤„ç†</td>
                            <td >NIO</td>
                        </tr>
                        <tr>
                            <td >éšæœºè®¿é—®</td>
                            <td >âŒ éœ€è¦seek</td>
                            <td >âœ… å†…å­˜æ˜ å°„</td>
                            <td >å†…å­˜æ˜ å°„</td>
                        </tr>
                        <tr>
                            <td >é«˜å¹¶å‘</td>
                            <td >âŒ çº¿ç¨‹é˜»å¡</td>
                            <td >âœ… éé˜»å¡</td>
                            <td >NIO.2</td>
                        </tr>
                    </tbody>
                </table>

                <p class="conclusion">NIOå’Œå†…å­˜æ˜ å°„ä¸ºé«˜æ€§èƒ½IOæä¾›äº†å¼ºå¤§çš„å·¥å…·ï¼Œç‰¹åˆ«é€‚åˆå¤§æ–‡ä»¶ã€éšæœºè®¿é—®å’Œé«˜å¹¶å‘åœºæ™¯ã€‚</p>
            </div>
        </section>

        <!-- Slide 26: Performance Optimization - Best Practices -->
        <section class="slide">
            <div class="slide-content">
                <h2>æ€§èƒ½ä¼˜åŒ– - æœ€ä½³å®è·µæ¸…å•</h2>
                <p>æŒæ¡IOæ€§èƒ½ä¼˜åŒ–çš„æ ¸å¿ƒè¦ç‚¹ï¼Œå»ºç«‹å®Œæ•´çš„æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å•ï¼Œè®©ç¨‹åºæ€§èƒ½æ›´ä¸Šä¸€å±‚æ¥¼ã€‚</p>

                <h3>ğŸ“Š æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å•</h3>
                <table class="table-standard">
                    <thead>
                        <tr >
                            <th >ä¼˜åŒ–é¡¹</th>
                            <th >å»ºè®®</th>
                            <th >é¢„æœŸæ”¶ç›Š</th>
                            <th >ä¼˜å…ˆçº§</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td >ä½¿ç”¨ç¼“å†²æµ</td>
                            <td >æ–‡ä»¶æ“ä½œé»˜è®¤ä½¿ç”¨</td>
                            <td >10-100xæ€§èƒ½æå‡</td>
                            <td >â­â­â­â­â­</td>
                        </tr>
                        <tr>
                            <td >åˆé€‚çš„ç¼“å†²åŒºå¤§å°</td>
                            <td >8KB-64KB</td>
                            <td >20-50%æ€§èƒ½æå‡</td>
                            <td >â­â­â­â­</td>
                        </tr>
                        <tr>
                            <td >æ‰¹é‡æ“ä½œ</td>
                            <td >é¿å…å•å­—èŠ‚æ“ä½œ</td>
                            <td >æ˜¾è‘—æ€§èƒ½æå‡</td>
                            <td >â­â­â­â­</td>
                        </tr>
                        <tr>
                            <td >NIOç”¨äºå¤§æ–‡ä»¶</td>
                            <td >&gt;100MBæ–‡ä»¶</td>
                            <td >20-30%æ€§èƒ½æå‡</td>
                            <td >â­â­â­</td>
                        </tr>
                        <tr>
                            <td >å†…å­˜æ˜ å°„</td>
                            <td >è¶…å¤§æ–‡ä»¶éšæœºè®¿é—®</td>
                            <td >æ˜¾è‘—æ€§èƒ½æå‡</td>
                            <td >â­â­</td>
                        </tr>
                        <tr>
                            <td >èµ„æºç®¡ç†</td>
                            <td >try-with-resources</td>
                            <td >é¿å…èµ„æºæ³„æ¼</td>
                            <td >â­â­â­â­â­</td>
                        </tr>
                    </tbody>
                </table>

                <h3>ğŸ”§ æ€§èƒ½ç›‘æ§å·¥å…·</h3>
                <pre><code class="language-java">public class IOPerformanceMonitor {

    // ç®€å•çš„æ€§èƒ½è®¡æ—¶å™¨
    public static long timeExecution(Runnable task) {
        long startTime = System.nanoTime();
        task.run();
        return System.nanoTime() - startTime;
    }

    // æ–‡ä»¶å¤åˆ¶æ€§èƒ½æµ‹è¯•
    public static void benchmarkFileCopy(String source, String target) {
        long traditionalTime = timeExecution(() -> traditionalCopy(source, target));
        long bufferedTime = timeExecution(() -> bufferedCopy(source, target));
        long nioTime = timeExecution(() -> nioCopy(source, target));

        System.out.println("=== æ–‡ä»¶å¤åˆ¶æ€§èƒ½å¯¹æ¯” ===");
        System.out.printf("ä¼ ç»ŸIO:  %.2f ms%n", traditionalTime / 1_000_000.0);
        System.out.printf("ç¼“å†²IO:  %.2f ms (%.1fx faster)%n",
            bufferedTime / 1_000_000.0, (double) traditionalTime / bufferedTime);
        System.out.printf("NIO:     %.2f ms (%.1fx faster)%n",
            nioTime / 1_000_000.0, (double) traditionalTime / nioTime);
    }

    // ååé‡æµ‹è¯•
    public static void throughputTest(String filePath) {
        try (FileInputStream fis = new FileInputStream(filePath)) {
            byte[] buffer = new byte[8192];
            long totalBytes = 0;
            long startTime = System.currentTimeMillis();

            int bytesRead;
            while ((bytesRead = fis.read(buffer)) != -1) {
                totalBytes += bytesRead;
            }

            long endTime = System.currentTimeMillis();
            long duration = endTime - startTime;
            double throughput = (totalBytes / 1024.0 / 1024.0) / (duration / 1000.0);

            System.out.printf("ååé‡: %.2f MB/s%n", throughput);
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}</code></pre>

                <h3>ğŸš¨ å¸¸è§æ€§èƒ½é™·é˜±</h3>
                <div class="warning-box">
                    <h4 class="margin-0">é™·é˜±1ï¼šè¿‡åº¦ä¼˜åŒ–</h4>
                    <p><strong>é—®é¢˜</strong>ï¼šè¿‡æ—©ä¼˜åŒ–ï¼Œå¢åŠ ä»£ç å¤æ‚åº¦</p>
                    <p><strong>è§£å†³</strong>ï¼šå…ˆä¿è¯æ­£ç¡®æ€§ï¼Œå†ä¼˜åŒ–æ€§èƒ½</p>
                </div>

                <div class="error-box">
                    <h4 class="margin-0">é™·é˜±2ï¼šå¿½è§†å¼‚å¸¸å¤„ç†</h4>
                    <p><strong>é—®é¢˜</strong>ï¼šå¼‚å¸¸å¤„ç†é€»è¾‘å½±å“æ€§èƒ½</p>
                    <p><strong>è§£å†³</strong>ï¼šåˆç†è®¾è®¡å¼‚å¸¸å¤„ç†ï¼Œé¿å…æ€§èƒ½çƒ­ç‚¹</p>
                </div>

                <div class="success-box">
                    <h4 class="margin-0">é™·é˜±3ï¼šå†…å­˜æ³„æ¼</h4>
                    <p><strong>é—®é¢˜</strong>ï¼šæœªæ­£ç¡®å…³é—­IOèµ„æº</p>
                    <p><strong>è§£å†³</strong>ï¼šä½¿ç”¨try-with-resourcesç¡®ä¿èµ„æºé‡Šæ”¾</p>
                </div>

                <p class="conclusion">IOæ€§èƒ½ä¼˜åŒ–éœ€è¦<strong>ç»¼åˆè€ƒè™‘</strong>åœºæ™¯ã€æ•°æ®é‡ã€ç¡¬ä»¶ç­‰å› ç´ ã€‚é€‰æ‹©åˆé€‚çš„å·¥å…·å’Œç­–ç•¥ï¼Œå¯ä»¥è®©ä½ çš„ç¨‹åºè·å¾—æ˜¾è‘—çš„æ€§èƒ½æå‡ã€‚<br>è®°ä½ï¼šå…ˆæ­£ç¡®ï¼Œå†ä¼˜åŒ–ï¼</p>
            </div>
        </section>

        <!-- Slide 27: Java IO Core Knowledge Summary -->
        <section class="slide">
            <div class="slide-content">
                <h2>Java IOæ ¸å¿ƒçŸ¥è¯†æ€»ç»“</h2>
                <p>é€šè¿‡æœ¬è¯¾ç¨‹å­¦ä¹ ï¼Œæˆ‘ä»¬æŒæ¡äº†Java IOä½“ç³»çš„æ ¸å¿ƒæ¦‚å¿µã€‚è®©æˆ‘ä»¬ç³»ç»Ÿå›é¡¾å…³é”®çŸ¥è¯†ç‚¹ã€‚</p>

                <h3>ğŸ“š æ ¸å¿ƒçŸ¥è¯†ä½“ç³»</h3>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px;">
                    <!-- åŸºç¡€æ¦‚å¿µ -->
                    <div style="background: #e8f4fd; border-left: 5px solid #3498db; padding: 15px; border-radius: 0 5px 5px 0; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
                        <h4 style="margin: 0 0 10px 0; color: #2980b9;">ğŸ—ï¸ åŸºç¡€æ¦‚å¿µ</h4>
                        <ul style="margin: 0; padding-left: 20px; font-size: 0.9em; color: #34495e;">
                            <li>å­—èŠ‚æµ vs å­—ç¬¦æµ</li>
                            <li>è¾“å…¥æµ vs è¾“å‡ºæµ</li>
                            <li>èŠ‚ç‚¹æµ vs å¤„ç†æµ</li>
                            <li>è£…é¥°å™¨æ¨¡å¼åº”ç”¨</li>
                            <li>å­—ç¬¦ç¼–ç å¤„ç†</li>
                        </ul>
                    </div>

                    <!-- æ ¸å¿ƒå·¥å…· -->
                    <div style="background: #eafaf1; border-left: 5px solid #2ecc71; padding: 15px; border-radius: 0 5px 5px 0; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
                        <h4 style="margin: 0 0 10px 0; color: #27ae60;">ğŸ› ï¸ æ ¸å¿ƒå·¥å…·</h4>
                        <ul style="margin: 0; padding-left: 20px; font-size: 0.9em; color: #34495e;">
                            <li>Fileç±»æ“ä½œ</li>
                            <li>ç¼“å†²æµä¼˜åŒ–</li>
                            <li>è½¬æ¢æµç¼–ç </li>
                            <li>å¯¹è±¡åºåˆ—åŒ–</li>
                            <li>éšæœºè®¿é—®æ–‡ä»¶</li>
                        </ul>
                    </div>

                    <!-- æ€§èƒ½ä¼˜åŒ– -->
                    <div style="background: #fff8e1; border-left: 5px solid #f1c40f; padding: 15px; border-radius: 0 5px 5px 0; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
                        <h4 style="margin: 0 0 10px 0; color: #f39c12;">âš¡ æ€§èƒ½ä¼˜åŒ–</h4>
                        <ul style="margin: 0; padding-left: 20px; font-size: 0.9em; color: #34495e;">
                            <li>ç¼“å†²åŒºå¤§å°é€‰æ‹©</li>
                            <li>NIO vs ä¼ ç»ŸIO</li>
                            <li>å†…å­˜æ˜ å°„æ–‡ä»¶</li>
                            <li>æ‰¹é‡æ“ä½œç­–ç•¥</li>
                            <li>èµ„æºç®¡ç†ä¼˜åŒ–</li>
                        </ul>
                    </div>

                    <!-- æœ€ä½³å®è·µ -->
                    <div style="background: #fdf2e9; border-left: 5px solid #e67e22; padding: 15px; border-radius: 0 5px 5px 0; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
                        <h4 style="margin: 0 0 10px 0; color: #d35400;">ğŸ›¡ï¸ æœ€ä½³å®è·µ</h4>
                        <ul style="margin: 0; padding-left: 20px; font-size: 0.9em; color: #34495e;">
                            <li>try-with-resources</li>
                            <li>å¼‚å¸¸å¤„ç†ç­–ç•¥</li>
                            <li>ç¼–ç ä¸€è‡´æ€§</li>
                            <li>çº¿ç¨‹å®‰å…¨è€ƒè™‘</li>
                            <li>è·¨å¹³å°å…¼å®¹</li>
                        </ul>
                    </div>
                </div>

                <h3>ğŸ¯ æµç±»å‹é€‰æ‹©æŒ‡å—</h3>
                <div style="display: flex; gap: 20px;">
                    <!-- å­—èŠ‚æµåœºæ™¯ -->
                    <div style="flex: 1; background: #f0f3f4; border-top: 4px solid #7f8c8d; padding: 15px; border-radius: 5px;">
                        <h4 style="margin: 0 0 10px 0; color: #2c3e50; border-bottom: 1px solid #bdc3c7; padding-bottom: 5px;">
                            <span style="background: #7f8c8d; color: white; padding: 2px 8px; border-radius: 3px; font-size: 0.8em; margin-right: 5px;">Binary</span>
                            ä½¿ç”¨å­—èŠ‚æµçš„åœºæ™¯
                        </h4>
                        <ul style="margin: 0; padding-left: 20px; font-size: 0.9em; color: #2c3e50;">
                            <li>äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ï¼‰</li>
                            <li>å¯æ‰§è¡Œæ–‡ä»¶å’Œå‹ç¼©åŒ…</li>
                            <li>ç½‘ç»œæ•°æ®ä¼ è¾“</li>
                            <li>ä¸éœ€è¦ç¼–ç è½¬æ¢çš„æ•°æ®</li>
                        </ul>
                    </div>
                    
                    <!-- å­—ç¬¦æµåœºæ™¯ -->
                    <div style="flex: 1; background: #f4ecf7; border-top: 4px solid #9b59b6; padding: 15px; border-radius: 5px;">
                        <h4 style="margin: 0 0 10px 0; color: #8e44ad; border-bottom: 1px solid #d2b4de; padding-bottom: 5px;">
                            <span style="background: #9b59b6; color: white; padding: 2px 8px; border-radius: 3px; font-size: 0.8em; margin-right: 5px;">Text</span>
                            ä½¿ç”¨å­—ç¬¦æµçš„åœºæ™¯
                        </h4>
                        <ul style="margin: 0; padding-left: 20px; font-size: 0.9em; color: #2c3e50;">
                            <li>æ–‡æœ¬æ–‡ä»¶å¤„ç†</li>
                            <li>éœ€è¦å­—ç¬¦ç¼–ç çš„åœºæ™¯</li>
                            <li>æŒ‰è¡Œè¯»å–æ–‡æœ¬å†…å®¹</li>
                            <li>å›½é™…åŒ–æ–‡æœ¬å¤„ç†</li>
                        </ul>
                    </div>
                </div>

            </div>
        </section>


        <!-- Slide 29: Basic and Advanced Exercises -->
        <section class="slide">
            <div class="slide-content">
                <h2>ä¸Šæ‰‹ç»ƒä¹ </h2>
                <p>é€šè¿‡å®é™…ç»ƒä¹ æ¥å·©å›ºJava IOçŸ¥è¯†ã€‚ä»åŸºç¡€ç»ƒä¹ å¼€å§‹ï¼Œé€æ­¥æå‡éš¾åº¦ï¼Œå¸®åŠ©ä½ æŒæ¡å„ç§IOæ“ä½œã€‚</p>

                <h3>ğŸ“ åŸºç¡€ç»ƒä¹ </h3>
                <div >
                    <h4>ç»ƒä¹ 1ï¼šæ–‡ä»¶å¤åˆ¶å·¥å…·</h4>
                    <p>å®ç°ä¸€ä¸ªæ”¯æŒè¿›åº¦æ˜¾ç¤ºçš„æ–‡ä»¶å¤åˆ¶å·¥å…·ï¼š</p>
                    <ul>
                        <li>æ˜¾ç¤ºå¤åˆ¶è¿›åº¦ç™¾åˆ†æ¯”</li>
                        <li>æ”¯æŒå¤§æ–‡ä»¶å¤åˆ¶ï¼ˆ>1GBï¼‰</li>
                        <li>æä¾›å¤åˆ¶é€Ÿåº¦ç»Ÿè®¡</li>
                        <li>æ”¯æŒæš‚åœ/æ¢å¤åŠŸèƒ½</li>
                    </ul>
                </div>

                <div class="success-box">
                    <h4>ç»ƒä¹ 2ï¼šæ–‡æœ¬åˆ†æå™¨</h4>
                    <p>åˆ›å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶åˆ†æå·¥å…·ï¼š</p>
                    <ul>
                        <li>ç»Ÿè®¡å­—ç¬¦ã€å•è¯ã€è¡Œæ•°</li>
                        <li>è®¡ç®—è¯é¢‘å¹¶è¾“å‡ºTOP10</li>
                        <li>æ£€æµ‹æ–‡ä»¶ç¼–ç </li>
                        <li>æ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼</li>
                    </ul>
                </div>

                <h3>ğŸ¯ è¿›é˜¶ç»ƒä¹ </h3>
                <div class="warning-box">
                    <h4>ç»ƒä¹ 3ï¼šç®€å•æ•°æ®åº“</h4>
                    <p>ä½¿ç”¨RandomAccessFileå®ç°ä¸€ä¸ªç®€å•çš„é”®å€¼æ•°æ®åº“ï¼š</p>
                    <ul>
                        <li>æ”¯æŒå­—ç¬¦ä¸²é”®å€¼å¯¹å­˜å‚¨</li>
                        <li>å®ç°å¢åˆ æ”¹æŸ¥æ“ä½œ</li>
                        <li>æ”¯æŒç´¢å¼•æŸ¥è¯¢</li>
                        <li>æä¾›æ•°æ®å¤‡ä»½åŠŸèƒ½</li>
                    </ul>
                </div>

                <div >
                    <h4>ç»ƒä¹ 4ï¼šæ–‡ä»¶åˆ†å‰²åˆå¹¶å·¥å…·</h4>
                    <p>å¼€å‘ä¸€ä¸ªæ–‡ä»¶åˆ†å‰²å’Œåˆå¹¶å·¥å…·ï¼š</p>
                    <ul>
                        <li>æŒ‰å¤§å°æˆ–æ•°é‡åˆ†å‰²æ–‡ä»¶</li>
                        <li>æ”¯æŒä»»æ„ç±»å‹æ–‡ä»¶</li>
                        <li>æä¾›å®Œæ•´æ€§æ ¡éªŒ</li>
                        <li>æ”¯æŒæ‰¹é‡æ“ä½œ</li>
                    </ul>
                </div>


            </div>
        </section>

        <!-- Slide 30: Challenge Exercises and Learning Guidance -->
        <section class="slide">
            <div class="slide-content">
                <h2>* æŒ‘æˆ˜ç»ƒä¹ </h2>
                <p>æŒ‘æˆ˜æ›´é«˜éš¾åº¦çš„ç»ƒä¹ ï¼Œå¹¶è·å–å­¦ä¹ å»ºè®®å’ŒæŒ‡å¯¼ï¼Œè¿›ä¸€æ­¥æå‡Java IOç¼–ç¨‹èƒ½åŠ›ã€‚</p>

                <h3>ğŸš€ æŒ‘æˆ˜ç»ƒä¹ </h3>
                <div class="error-box">
                    <h4>ç»ƒä¹ 5ï¼šå¤šçº¿ç¨‹æ–‡ä»¶ä¸‹è½½å™¨</h4>
                    <p>å®ç°ä¸€ä¸ªæ”¯æŒæ–­ç‚¹ç»­ä¼ çš„å¤šçº¿ç¨‹ä¸‹è½½å™¨ï¼š</p>
                    <ul>
                        <li>æ”¯æŒHTTP/HTTPSåè®®</li>
                        <li>å¤šçº¿ç¨‹åˆ†æ®µä¸‹è½½</li>
                        <li>æ–­ç‚¹ç»­ä¼ åŠŸèƒ½</li>
                        <li>ä¸‹è½½é€Ÿåº¦é™åˆ¶</li>
                    </ul>
                </div>

                <div >
                    <h4>ç»ƒä¹ 6ï¼šå®æ—¶æ—¥å¿—ç›‘æ§ç³»ç»Ÿ</h4>
                    <p>å¼€å‘ä¸€ä¸ªå®æ—¶æ—¥å¿—ç›‘æ§å’Œåˆ†æç³»ç»Ÿï¼š</p>
                    <ul>
                        <li>ç›‘æ§å¤šä¸ªæ—¥å¿—æ–‡ä»¶</li>
                        <li>å®æ—¶è§£ææ—¥å¿—å†…å®¹</li>
                        <li>å…³é”®è¯å‘Šè­¦åŠŸèƒ½</li>
                        <li>Webç•Œé¢å±•ç¤º</li>
                    </ul>
                </div>

                <h3>ğŸ’» å®ç°å‚è€ƒä¸ä»£ç æ¡†æ¶</h3>
                <pre><code class="language-java">// æ–‡ä»¶å¤åˆ¶å·¥å…·æ¡†æ¶
public class FileCopier {
    private final int bufferSize;
    private final boolean showProgress;

    public FileCopier(int bufferSize, boolean showProgress) {
        this.bufferSize = bufferSize;
        this.showProgress = showProgress;
    }

    public void copy(String source, String target) throws IOException {
        try (FileInputStream fis = new FileInputStream(source);
             FileOutputStream fos = new FileOutputStream(target);
             BufferedInputStream bis = new BufferedInputStream(fis, bufferSize);
             BufferedOutputStream bos = new BufferedOutputStream(fos, bufferSize)) {

            long fileSize = new File(source).length();
            long totalBytes = 0;
            byte[] buffer = new byte[8192];
            int bytesRead;

            long startTime = System.currentTimeMillis();

            while ((bytesRead = bis.read(buffer)) != -1) {
                bos.write(buffer, 0, bytesRead);
                totalBytes += bytesRead;

                if (showProgress) {
                    showProgress(totalBytes, fileSize, startTime);
                }
            }
        }
    }

    private void showProgress(long current, long total, long startTime) {
        double percent = (double) current / total * 100;
        long elapsed = System.currentTimeMillis() - startTime;
        double speed = current / (elapsed / 1000.0) / (1024 * 1024); // MB/s

        System.out.printf("\rè¿›åº¦: %.1f%% é€Ÿåº¦: %.2f MB/s", percent, speed);
    }
}

// æ–‡æœ¬åˆ†æå™¨æ¡†æ¶
public class TextAnalyzer {
    private final Map<String, Integer> wordFrequency = new HashMap<>();
    private int charCount = 0;
    private int wordCount = 0;
    private int lineCount = 0;

    public void analyze(String filePath) throws IOException {
        try (BufferedReader reader = new BufferedReader(new FileReader(filePath))) {
            String line;
            while ((line = reader.readLine()) != null) {
                lineCount++;
                charCount += line.length();

                // ç®€å•çš„å•è¯åˆ†å‰²
                String[] words = line.split("\\s+");
                for (String word : words) {
                    if (!word.isEmpty()) {
                        wordCount++;
                        wordFrequency.merge(word.toLowerCase(), 1, Integer::sum);
                    }
                }
            }
        }
    }

    public void printStatistics() {
        System.out.println("å­—ç¬¦æ•°: " + charCount);
        System.out.println("å•è¯æ•°: " + wordCount);
        System.out.println("è¡Œæ•°: " + lineCount);

        System.out.println("\nè¯é¢‘TOP10:");
        wordFrequency.entrySet().stream()
            .sorted(Map.Entry.<String, Integer>comparingByValue().reversed())
            .limit(10)
            .forEach(entry -> System.out.printf("%s: %d%n",
                      entry.getKey(), entry.getValue()));
    }
}</code></pre>

                </div>

                <p class="conclusion">é€šè¿‡è¿™äº›ç»ƒä¹ ï¼Œä½ å°†<strong>æ·±å…¥ç†è§£</strong>Java IOçš„å„ç§ç‰¹æ€§ï¼ŒæŒæ¡å®é™…å¼€å‘ä¸­çš„<strong>æœ€ä½³å®è·µ</strong>ã€‚è®°ä½ï¼Œç¼–ç¨‹èƒ½åŠ›çš„æå‡æ¥è‡ªäºæŒç»­çš„å®è·µå’Œæ€è€ƒï¼</p>
            </div>
        </section>

        <!-- UI Elements -->
        <div class="progress-bar-container">
            <div id="progress-bar"></div>
        </div>
        <div class="controls">
            <button id="prevBtn">ä¸Šä¸€é¡µ</button>
            <span id="slide-counter">1 / X</span>
            <button id="nextBtn">ä¸‹ä¸€é¡µ</button>
        </div>
    </main>

    <script src="../prism/prism.js"></script>
    <script src="../prism/prism-autoloader.min.js"></script>
    <script src="./js/ppt.js"></script>
    <script src="./js/nav.js"></script>
<script src="./js/imgbed-replacer.js"></script>
</body>
</html>
