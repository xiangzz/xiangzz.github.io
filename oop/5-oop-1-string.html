<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java字符串详解</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/hacker-cmd.css">
    <link rel="stylesheet" href="../prism/prism.css">
</head>
<body>

    <main id="presentation">
        <!-- Slide 1: Title -->
        <section class="slide title-slide active">
            <h1>字符串</h1>
            <p>面向对象程序设计（Java）</p>
            <strong>掌握字符串处理，为后续复杂文本处理打下基础</strong>
        </section>



         <!-- Slide 42: String Introduction -->
        <section class="slide">
            <div class="slide-content">
                <h2>字符串 (String)</h2>
                <p><code>String</code> 是Java中一个非常特殊的类，用于表示一系列字符。字符串是<strong>不可变</strong>的，一旦创建，其内容无法修改。</p>
                <pre><code class="language-java">public static void main(String[] args) {
    // 1. 直接使用双引号创建（推荐）
    String str1 = "Hello World";

    // 2. 使用构造方法创建
    String str2 = new String("Hello World");

    // "==" 比较的是引用地址
    System.out.println(str1 == str2); // false

    // .equals() 比较的是内容
    System.out.println(str1.equals(str2)); // true
}</code></pre>
                <p class="conclusion">为了优化性能，内容相同的字符串字面量在内存中通常只有一个实例。<br>因此，比较字符串内容时，务必使用 <code>.equals()</code> 方法。</p>
            </div>
        </section>

        <!-- Slide 43: Common String Methods -->
        <section class="slide">
            <div class="slide-content">
                <h2>常用的String方法</h2>
                <p><code>String</code> 类提供了丰富的方法来操作字符串。</p>
                <pre><code class="language-java">public static void main(String[] args) {
    String str = "Hello, World!";

    // 获取长度
    System.out.println("长度: " + str.length());

    // 截取子串
    String sub = str.substring(7, 12); // "World"
    System.out.println("子串: " + sub);

    // 分割字符串
    String[] parts = str.split(", "); // ["Hello", "World!"]
    for (String part : parts) {
        System.out.println("分割部分: " + part);
    }

    // 转换为字符数组
    char[] chars = str.toCharArray();
    System.out.println("第一个字符: " + chars[0]);
}</code></pre>
                <p>由于字符串不可变，所有修改字符串内容的方法（如 <code>substring</code>, <code>split</code>）都会返回一个新的 <code>String</code> 对象。</p>
                <p><strong>提问</strong>：如何快速判断一个字符串是否是回文字串？</p>
            </div>
        </section>

        <!-- Slide 44: StringBuilder and StringBuffer -->
        <section class="slide">
            <div class="slide-content">
                <h2>StringBuilder与StringBuffer：可变的字符串</h2>
                <p>当需要频繁拼接或修改字符串时，使用 <code>String</code> 会产生大量临时对象，效率较低。此时应使用 <code>StringBuilder</code> 或 <code>StringBuffer</code>。</p>

                <h3>🔧 基本使用方法</h3>
                <pre><code class="language-java">public static void main(String[] args) {
    // StringBuilder示例
    StringBuilder builder = new StringBuilder();
    builder.append("你好");
    builder.append("，世界！");
    builder.append(2024);
    
    String result = builder.toString();
    System.out.println(result); // "你好，世界！2024"

    // StringBuffer示例（用法完全相同）
    StringBuffer buffer = new StringBuffer();
    buffer.append("Hello");
    buffer.append(", ");
    buffer.append("Java!");
    
    System.out.println(buffer.toString()); // "Hello, Java!"
}</code></pre>

                <h3>⚖️ StringBuilder vs StringBuffer 对比</h3>
                <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                    <thead>
                        <tr style="background: #f8f9fa;">
                            <th style="border: 1px solid #ddd; padding: 0.8rem; text-align: left;">特性</th>
                            <th style="border: 1px solid #ddd; padding: 0.8rem; text-align: left;">StringBuilder</th>
                            <th style="border: 1px solid #ddd; padding: 0.8rem; text-align: left;">StringBuffer</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 0.8rem;"><strong>线程安全</strong></td>
                            <td style="border: 1px solid #ddd; padding: 0.8rem;">❌ 非线程安全</td>
                            <td style="border: 1px solid #ddd; padding: 0.8rem;">✅ 线程安全（synchronized）</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 0.8rem;"><strong>性能</strong></td>
                            <td style="border: 1px solid #ddd; padding: 0.8rem;">🚀 更快</td>
                            <td style="border: 1px solid #ddd; padding: 0.8rem;">🐌 稍慢（同步开销）</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 0.8rem;"><strong>引入版本</strong></td>
                            <td style="border: 1px solid #ddd; padding: 0.8rem;">Java 5+</td>
                            <td style="border: 1px solid #ddd; padding: 0.8rem;">Java 1.0+</td>
                        </tr>
                        <tr>
                            <td style="border: 1px solid #ddd; padding: 0.8rem;"><strong>使用场景</strong></td>
                            <td style="border: 1px solid #ddd; padding: 0.8rem;">单线程环境（推荐）</td>
                            <td style="border: 1px solid #ddd; padding: 0.8rem;">多线程环境</td>
                        </tr>
                    </tbody>
                </table>

                <h3>💡 选择建议</h3>
                <ul>
                    <li><strong>优先选择 StringBuilder：</strong>在99%的情况下，单线程操作更常见</li>
                    <li><strong>多线程场景使用 StringBuffer：</strong>当多个线程同时操作同一个字符串缓冲区时</li>
                    <li><strong>性能对比：</strong>StringBuilder > StringBuffer > String拼接</li>
                </ul>

                <p class="conclusion">在循环或大量拼接场景下，<code>StringBuilder</code> 是构建字符串的最佳选择；多线程环境下使用 <code>StringBuffer</code>。</p>
            </div>
        </section>

        <!-- Slide 45: Regular Expressions -->
        <section class="slide">
            <div class="slide-content">
                <h2>正则表达式 (Regular Expression)</h2>
                <p>正则表达式是一种描述字符串匹配模式的强大工具，可用于验证、查找、替换字符串。</p>
                <p>例如，验证一个字符串是否由一个或多个 'o' 组成：</p>
                <pre><code class="language-java">public static void main(String[] args) {
    String str1 = "oooo";
    String str2 = "o";
    String str3 = "oops";

    // "o+" 是一个正则表达式，+ 表示匹配前面的字符一次或多次
    System.out.println(str1.matches("o+")); // true
    System.out.println(str2.matches("o+")); // true
    System.out.println(str3.matches("o+")); // false
}</code></pre>
                <p><a href="5-oop-1-string-reg.html" target="_blank">正则表达式</a>语法复杂但功能强大，是处理文本的重要技能。</p>
            </div>
        </section>


        <!-- UI Elements -->
        <div class="progress-bar-container">
            <div id="progress-bar"></div>
        </div>
        <div class="controls">
            <button id="prevBtn">上一页</button>
            <span id="slide-counter">1 / X</span>
            <button id="nextBtn">下一页</button>
        </div>
    </main>

    <script src="../prism/prism.js"></script>
    <script src="../prism/prism-autoloader.min.js"></script>
    <script src="./js/ppt.js"></script>
    <script src="./js/nav.js"></script>
</body>
</html>