<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java包装类详解</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/hacker-cmd.css">
    <link rel="stylesheet" href="../prism/prism.css">
</head>
<body>

    <main id="presentation">

        <section class="slide title-slide active">
            <h1>基本类型包装类</h1>
            <p>面向对象程序设计（Java）</p>
            <strong>掌握包装类的使用，让基本类型支持面向对象操作</strong>
        </section>

        <!-- Number抽象类 -->
        <section class="slide">
            <div class="slide-content">
                <h2>一切数字的父类：Number</h2>
                <p><code>Number</code> 类是 <code>Byte</code>, <code>Short</code>, <code>Integer</code>, <code>Long</code>, <code>Float</code>, <code>Double</code> 这些数字包装类的抽象父类。</p>
                <p>它提供了一系列用于将包装的数值转换为基本数据类型的方法。</p>
                <img src="./images/6-1-wrapper-from-number.png" alt="Wrapper class hierarchy" style="width: 70%; margin: 1rem auto; display: block;">
                <h3>常用方法：</h3>
                <ul>
                    <li><code>byte byteValue()</code>: 以 <code>byte</code> 类型返回该对象的值。</li>
                    <li><code>short shortValue()</code>: 以 <code>short</code> 类型返回该对象的值。</li>
                    <li><code>int intValue()</code>: 以 <code>int</code> 类型返回该对象的值。</li>
                    <li><code>long longValue()</code>: 以 <code>long</code> 类型返回该对象的值。</li>
                    <li><code>float floatValue()</code>: 以 <code>float</code> 类型返回该对象的值。</li>
                    <li><code>double doubleValue()</code>: 以 <code>double</code> 类型返回该对象的值。</li>
                </ul>
                <p>这些方法在所有数字包装类中都可用，方便进行类型转换。</p>
            </div>
        </section>

        <!-- 包装类介绍 -->
        <section class="slide">
            <div class="slide-content">
                <h2>包装类介绍</h2>
                <p>Java并不是纯面向对象的语言，基本数据类型不是面向对象的。</p>
                <p>Java提供了基本类型包装类，使得基本类型能够支持对象操作！</p>
                
                <h3>基本类型与包装类对应关系：</h3>
                <ul>
                    <li><code>byte</code> → <code>Byte</code></li>
                    <li><code>boolean</code> → <code>Boolean</code></li>
                    <li><code>short</code> → <code>Short</code></li>
                    <li><code>char</code> → <code>Character</code></li>
                    <li><code>int</code> → <code>Integer</code></li>
                    <li><code>long</code> → <code>Long</code></li>
                    <li><code>float</code> → <code>Float</code></li>
                    <li><code>double</code> → <code>Double</code></li>
                </ul>
            </div>
        </section>

        <!-- 包装类基本使用 -->
        <section class="slide">
            <div class="slide-content">
                <h2>包装类基本使用</h2>
                <p>以Integer类为例：</p>
                <pre><code class="language-java">public static void main(String[] args) {
    Integer i = new Integer(10);    // 将10包装为Integer类型
}</code></pre>
                
                <p>包装类实际上就是将基本数据类型封装成一个类：</p>
                <pre><code class="language-java">// Integer类内部结构
private final int value;  // 存储包装的值

public Integer(int value) {
    this.value = value;
}</code></pre>
            </div>
        </section>

        <!-- 自动装箱和拆箱 -->
        <section class="slide">
            <div class="slide-content">
                <h2>自动装箱和拆箱</h2>
                <h3>自动装箱：</h3>
                <pre><code class="language-java">Integer i = 10;    // 自动装箱
// 等价于：
Integer i = Integer.valueOf(10);</code></pre>
                
                <h3>自动拆箱：</h3>
                <pre><code class="language-java">Integer i = 10;
int a = i;    // 自动拆箱
// 等价于：
int a = i.intValue();</code></pre>
                
                <h3>参与运算：</h3>
                <pre><code class="language-java">Integer a = 10, b = 20;
int c = a * b;    // 自动拆箱参与计算
System.out.println(c);  // 输出：200</code></pre>
            </div>
        </section>

        <!-- 包装类比较 -->
        <section class="slide">
            <div class="slide-content">
                <h2>包装类比较</h2>
                <h3>new创建的对象：</h3>
                <pre><code class="language-java">Integer a = new Integer(10);
Integer b = new Integer(10);
System.out.println(a == b);    // false，不是同一个对象</code></pre>
                
                <h3>自动装箱的对象：</h3>
                <pre><code class="language-java">Integer a = 10, b = 10;
System.out.println(a == b);    // true，在缓存范围内</code></pre>
                
                <p><strong>IntegerCache机制：</strong></p>
                <ul>
                    <li>默认缓存 -128~127 之间的值</li>
                    <li>在此范围内的自动装箱会返回同一个对象</li>
                    <li>超出范围则创建新对象</li>
                </ul>
                
                <pre><code class="language-java">Integer a = 128, b = 128;
System.out.println(a == b);    // false，超出缓存范围</code></pre>
            </div>
        </section>

        <!-- 包装类常用方法 -->
        <section class="slide">
            <div class="slide-content">
                <h2>包装类常用方法</h2>
                <h3>Integer: 字符串与进制转换</h3>
                <pre><code class="language-java">// 字符串转Integer (推荐)
Integer i = Integer.valueOf("666");
int k = Integer.parseInt("555");

// 进制转换
Integer hex = Integer.decode("0xA6"); // 结果: 166
System.out.println(Integer.toHexString(166));  // 输出: a6
System.out.println(Integer.toBinaryString(166)); // 输出: 10100110
</code></pre>
                
                <h3>Double: 字符串转换与特殊值</h3>
                <pre><code class="language-java">// 字符串转Double
Double d = Double.valueOf("3.14");
double p = Double.parseDouble("2.718");

// 特殊值判断
System.out.println(Double.isNaN(0.0/0.0));      // true
System.out.println(Double.isInfinite(1.0/0.0)); // true
</code></pre>

                <h3>Boolean: 字符串转换</h3>
                <pre><code class="language-java">// 字符串转Boolean (不区分大小写)
Boolean t = Boolean.valueOf("true"); // 结果: true
boolean f = Boolean.parseBoolean("false"); // 结果: false

// 注意：只有 "true" (不区分大小写) 被解析为 true
Boolean other = Boolean.valueOf("yes"); // 结果: false
System.out.println(other);
</code></pre>
            </div>
        </section>

        <!-- 大数处理类 - BigInteger -->
        <section class="slide">
            <div class="slide-content">
                <h2>大数处理类 - BigInteger</h2>
                <p><strong>重要说明：</strong>BigInteger不是包装类，它没有对应的基本数据类型！</p>
                
                <p><strong>特点与示例：</strong></p>
                <ul>
                    <li>
                        <strong>任意精度整数：</strong>大小理论上只受内存限制。
                        <pre><code class="language-java">// 演示：计算一个超出long范围的数
BigInteger largeNum = new BigInteger("123456789012345678901234567890");
BigInteger result = largeNum.multiply(largeNum);
System.out.println(result); // 输出一个非常巨大的数字
</code></pre>
                    </li>
                    <li>
                        <strong>不支持运算符：</strong>必须使用方法进行运算。
                        <pre><code class="language-java">BigInteger a = BigInteger.valueOf(100);
BigInteger b = BigInteger.valueOf(50);
// BigInteger c = a + b; // 编译错误！
BigInteger c = a.add(b);    // 正确方式
System.out.println(c); // 输出: 150
</code></pre>
                    </li>
                    <li>
                        <strong>不可变对象：</strong>每次运算都产生新对象。
                        <pre><code class="language-java">BigInteger num = BigInteger.valueOf(10);
num.add(BigInteger.valueOf(5)); // 这行代码不改变num的值
System.out.println(num); // 仍然输出: 10

BigInteger newNum = num.add(BigInteger.valueOf(5)); // 必须接收返回值
System.out.println(newNum); // 输出: 15
</code></pre>
                    </li>
                </ul>
                <p><strong>适用场景：</strong>需要处理超出long范围的整数计算，如加密、科学计算等。</p>
            </div>
        </section>

        <!-- 大数处理类 - BigDecimal -->
        <section class="slide">
            <div class="slide-content">
                <h2>大数处理类 - BigDecimal</h2>
                <p><strong>重要说明：</strong>BigDecimal也不是包装类，它是专门的数学工具类！</p>
                
                <p><strong>特点与示例：</strong></p>
                <ul>
                    <li>
                        <strong>精确的小数计算：</strong>解决浮点数精度问题。
                        <pre><code class="language-java">// 浮点数精度问题
System.out.println(0.1 + 0.2); // 输出: 0.30000000000000004

// 使用BigDecimal进行精确计算
BigDecimal a = new BigDecimal("0.1");
BigDecimal b = new BigDecimal("0.2");
BigDecimal c = a.add(b);
System.out.println(c); // 输出: 0.3
</code></pre>
                    </li>
                    <li>
                        <strong>必须使用方法运算：</strong>不支持 `+`, `-`, `*`, `/`。
                        <pre><code class="language-java">BigDecimal x = new BigDecimal("1.5");
BigDecimal y = new BigDecimal("0.5");
// BigDecimal z = x.subtract(y); // 编译错误！
BigDecimal z = x.subtract(y);
System.out.println(z); // 输出: 1.0
</code></pre>
                    </li>
                    <li>
                        <strong>不可变对象：</strong>每次运算都产生新对象。
                        <pre><code class="language-java">BigDecimal num = new BigDecimal("10.0");
num.subtract(new BigDecimal("2.0")); // 不改变num的值
System.out.println(num); // 仍然输出: 10.0

BigDecimal newNum = num.subtract(new BigDecimal("2.0")); // 必须接收返回值
System.out.println(newNum); // 输出: 8.0
</code></pre>
                    </li>
                    <li>
                        <strong>除法需指定精度：</strong>对于无限循环小数，必须限制精度，否则抛异常。
                        <pre><code class="language-java">BigDecimal p = BigDecimal.valueOf(10);
BigDecimal q = BigDecimal.valueOf(3);
// p.divide(q); // 抛出 ArithmeticException

// 指定精度和舍入模式
BigDecimal r = p.divide(q, 10, RoundingMode.HALF_UP);
System.out.println(r); // 输出: 3.3333333333
</code></pre>
                    </li>
                </ul>
                <p><strong>适用场景：</strong>金融计算、税务计算等任何需要精确小数运算的场景。</p>
            </div>
        </section>

        <!-- 总结 -->
        <section class="slide">
            <div class="slide-content">
                <h2>总结</h2>
                <h3>包装类的作用：</h3>
                <ul>
                    <li>让基本类型支持面向对象操作</li>
                    <li>提供丰富的工具方法</li>
                    <li>支持自动装箱和拆箱</li>
                </ul>
                
                <h3>注意事项：</h3>
                <ul>
                    <li>理解缓存机制（-128~127）</li>
                    <li>正确使用 == 和 equals() 比较</li>
                    <li>合理选择 BigInteger 和 BigDecimal</li>
                </ul>
                
                <h3>应用场景：</h3>
                <ul>
                    <li>集合框架（只能存储对象）</li>
                    <li>泛型编程</li>
                    <li>超大数计算</li>
                    <li>精确小数计算</li>
                </ul>
            </div>
        </section>

        



        <!-- UI Elements -->
        <div class="progress-bar-container">
            <div id="progress-bar"></div>
        </div>
        <div class="controls">
            <button id="prevBtn">上一页</button>
            <span id="slide-counter">1 / X</span>
            <button id="nextBtn">下一页</button>
        </div>
    </main>

    <script src="../prism/prism.js"></script>
    <script src="../prism/prism-autoloader.min.js"></script>
    <script src="./js/ppt.js"></script>
    <script src="./js/nav.js"></script>
</body>
</html>