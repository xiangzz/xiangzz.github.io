<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maven 入门与依赖管理</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/animation.css">
    <link rel="stylesheet" href="./css/hacker-cmd.css">
    <link rel="stylesheet" href="../prism/prism.css">
</head>

<body>

    <main id="presentation">
        <!-- Slide 1: Title -->
        <section class="slide title-slide active">
            <h1>Maven 入门与依赖管理</h1>
            <p>项目管理与构建自动化 - 从零到实践</p>
            <strong>用 POM 驱动依赖、生命周期与交付</strong>
        </section>

        <!-- Slide 2: Quote -->
        <section class="slide">
            <h2>引言</h2>
            <div class="slide-content" style="text-align: center;">
                <blockquote style="font-size: 1.3em; font-style: italic; border-left: 4px solid var(--accent-color); padding-left: 20px;">
                    <p>君子生非异也，善假于物也</p>
                    <cite style="display: block; text-align: right; margin-top: 20px;">—— 荀子</cite>
                </blockquote>
            </div>
        </section>

        <!-- Slide 3: 学习目标 -->
        <section class="slide">
            <div class="slide-content">
                <h2>学习目标</h2>
                <ul>
                    <li>理解 Maven 的定位与核心概念（POM、仓库、生命周期）</li>
                    <li>掌握依赖声明与解析流程，告别手动管理 JAR</li>
                    <li>配置本地/镜像仓库，加速国内构建体验</li>
                    <li>在 IDEA 中创建与配置 Maven 项目并实践依赖使用</li>
                </ul>
                <p>完成本节后，你将能够：</p>
                <ul>
                    <li>用 <code>pom.xml</code> 管理依赖与构建，确保可复现与一致性</li>
                    <li>熟练配置本地仓库与国内镜像，解决依赖下载缓慢问题</li>
                    <li>通过 <code>mvn</code> 生命周期完成清理、编译、测试、打包的标准流程</li>
                </ul>
                <p>学习建议：</p>
                <ul>
                    <li>边读边做：在 IDEA 中新建一个 <code>quickstart</code> 项目并跟随示例操作</li>
                    <li>遇到依赖问题时，先检查 <code>settings.xml</code> 镜像与本地仓库路径是否正确</li>
                </ul>
            </div>
        </section>

        <!-- Part 1: Concept Introduction -->
        <!-- Slide 4: 旧开发痛点 -->
        <section class="slide">
            <div class="slide-content">
                <h2>旧开发痛点</h2>
                <ul>
                    <li><strong>手动管理 JAR：</strong>下载、拷贝、调整依赖关系，耗时且易错</li>
                    <li><strong>环境不一致：</strong>不同环境依赖版本不同，构建结果不可复现</li>
                    <li><strong>流程不统一：</strong>缺少统一的构建流程与测试执行，交付质量不稳定</li>
                </ul>
                <p>这些问题直接导致：</p>
                <ul>
                    <li>"在我电脑上能跑" - 经典的环境差异问题</li>
                    <li>项目依赖关系混乱，维护成本高</li>
                    <li>新人上手困难，缺乏标准化流程</li>
                </ul>
            </div>
        </section>

        <!-- Slide 5: 什么是 Maven -->
        <section class="slide">
            <div class="slide-content">
                <h2>什么是 Maven</h2>
                <p>Maven 名源意第绪语，意为"专家"。它是 Apache 基金会开源的<strong>项目管理与构建自动化工具</strong>。</p>
                <p><strong>核心理念：</strong>基于 <strong>POM（Project Object Model）</strong> 的声明式项目管理</p>

                <h3>三个核心功能：</h3>
                <ul>
                    <li><strong>依赖管理：</strong>在 <code>pom.xml</code> 中声明库坐标，自动下载并解析传递依赖</li>
                    <li><strong>构建生命周期：</strong>标准化 <code>clean</code>、<code>compile</code>、<code>test</code>、<code>package</code>、<code>deploy</code></li>
                    <li><strong>插件机制：</strong>通过插件扩展构建能力（测试、打包、发布、站点生成）</li>
                </ul>

                <p><strong>一句话总结：</strong>Maven 同时处理三件事：依赖下载与解析、规范化项目结构与构建流程、按生命周期产出稳定的构建结果。</p>
            </div>
        </section>

        <!-- Slide 6: Maven 核心价值 -->
        <section class="slide">
            <div class="slide-content">
                <h2>为什么选择 Maven</h2>
                <h3>解决传统开发痛点：</h3>
                <ul>
                    <li><strong>统一依赖管理：</strong>通过声明式依赖与仓库统一版本，消除"环境差异"</li>
                    <li><strong>标准化构建：</strong>规范的生命周期与插件体系，保证构建与测试自动化执行</li>
                    <li><strong>中心化坐标：</strong>传递依赖解析，避免"缺 JAR、版本乱"的常见问题</li>
                </ul>

                <h3>带来的价值：</h3>
                <ul>
                    <li><strong>可复现性：</strong>相同的 <code>pom.xml</code> 产生相同的构建结果</li>
                    <li><strong>自动化：</strong>一键完成编译、测试、打包等所有构建步骤</li>
                    <li><strong>标准化：</strong>项目结构统一，团队协作更高效</li>
                </ul>
            </div>
        </section>

        <!-- Part 2: Quick Start -->
        <!-- Slide 7: 创建 Maven 项目 -->
        <section class="slide">
            <div class="slide-content">
                <h2>第一个 Maven 项目</h2>
                <h3>在 IDEA 中创建项目：</h3>
                <img src="images/7-check-pom-after-init.png" alt="确认 pom.xml 存在" style="max-width: 90%; margin-top: 10px;" />
                <ol>
                    <li>选择 <strong>New Project → Maven</strong></li>
                    <li>选择 <strong>maven-archetype-quickstart</strong> 原型（推荐）</li>
                    <li>填入 <strong>GroupId</strong> 和 <strong>ArtifactId</strong></li>
                    <li>确认 Maven 配置（首次可使用 IDEA 自带版本）</li>
                </ol>

                <p><strong>示例坐标：</strong></p>
                <ul>
                    <li><code>GroupId</code>: <code>cn.demo.learn</code></li>
                    <li><code>ArtifactId</code>: <code>learn-maven</code></li>
                    <li><code>Version</code>: <code>1.0.0</code></li>
                </ul>
            </div>
        </section>

        <!-- Slide 8: Maven 项目结构 -->
        <section class="slide">
            <div class="slide-content">
                <h2>项目结构解析</h2>
                <img src="images/7-code-structure.png" alt="Maven 项目结构" style="max-width: 90%;" />
                <p><strong>约定优于配置：</strong></p>
                <ul>
                    <li><code>src/main/java</code> - 业务源代码</li>
                    <li><code>src/test/java</code> - 测试源代码</li>
                    <li><code>src/main/resources</code> - 资源文件（配置、模板等）</li>
                    <li><code>pom.xml</code> - 项目对象模型，记录依赖、插件、构建信息</li>
                </ul>
                <p><strong>建议：</strong>遵循默认结构，便于工具识别与团队协作</p>
            </div>
        </section>

        <!-- Slide 9: POM 基础认识 -->
        <section class="slide">
            <div class="slide-content">
                <h2>POM 基础认识</h2>
                <pre><code class="language-xml">&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  &lt;groupId&gt;cn.demo.learn&lt;/groupId&gt;
  &lt;artifactId&gt;learn&lt;/artifactId&gt;
  &lt;version&gt;1.0.0&lt;/version&gt;
  &lt;name&gt;learn&lt;/name&gt;
  &lt;description&gt;hello&lt;/description&gt;
  &lt;properties&gt;
    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;
    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;
  &lt;/properties&gt;
&lt;/project&gt;</code></pre>
                <h3>GAV 坐标说明：</h3>
                <ul>
                    <li><code>groupId</code> - 组织ID（反向域名，如 <code>org.apache</code>）</li>
                    <li><code>artifactId</code> - 项目ID（组内唯一）</li>
                    <li><code>version</code> - 版本（<code>-SNAPSHOT</code> 表示开发版）</li>
                </ul>
            </div>
        </section>

        <!-- Slide 10: 添加第一个依赖 -->
        <section class="slide">
            <div class="slide-content">
                <h2>添加第一个依赖：Lombok</h2>
                <h3>步骤：</h3>
                <ol>
                    <li>在 <a href="https://mvnrepository.com/" target="_blank">MVNRepository</a> 搜索 <code>lombok</code></li>
                    <li>选择稳定版本，复制 Maven 坐标</li>
                    <li>在 <code>pom.xml</code> 的 <code>&lt;dependencies&gt;</code> 标签内添加</li>
                    <li>保存后 IDEA 自动下载依赖</li>
                </ol>

                <pre><code class="language-xml">&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
    &lt;artifactId&gt;lombok&lt;/artifactId&gt;
    &lt;version&gt;1.18.22&lt;/version&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>

                <p><strong>注意：</strong><code>scope=provided</code> 表示仅编译期需要，运行时由环境提供</p>
            </div>
        </section>

        <!-- Slide 11: Lombok 代码示例 -->
        <section class="slide">
            <div class="slide-content">
                <h2>代码示例：验证 Lombok 生效</h2>
                <pre><code class="language-java">import lombok.AllArgsConstructor;
import lombok.Data;

@Data
@AllArgsConstructor
public class Student {
    String name;
    int age;
}</code></pre>

                <pre><code class="language-java">public class Main {
    public static void main(String[] args) {
        Student student = new Student("小明", 18);
        System.out.println(student);
    }
}</code></pre>

                <p><strong>预期输出：</strong><code>Student(name=小明, age=18)</code></p>
                <p>如果看到正常输出，说明 Lombok 已成功生效！</p>
            </div>
        </section>

        <!-- Slide 12: Maven 生命周期 -->
        <section class="slide">
            <div class="slide-content">
                <h2>Maven 生命周期实践</h2>
                <img src="images/7-click-maven-button.png" alt="Maven 生命周期按钮" style="max-width: 90%;" />
                <p><strong>核心生命周期阶段：</strong></p>
                <ul>
                    <li><code>clean</code> - 清理 <code>target</code> 目录，删除里面文件</li>
                    <li><code>compile</code> - 编译源代码并拷贝把<code>main/resources</code>里的文件到 <code>target/classes</code>，</li>
                    <li><code>test</code> - 运行测试用例</li>
                    <li><code>package</code> - 打包（JAR/WAR）到 <code>target/</code></li>
                    <li><code>install</code> - 安装到本地仓库（默认<code>~/.m2/repository</code>）</li>
                </ul>
                <p><strong>实践：</strong>依次点击这些按钮，观察 <code>target</code> 目录的变化</p>
            </div>
        </section>

        <!-- Part 3: Deep Understanding -->
        <!-- Slide 13: 依赖解析机制 -->
        <section class="slide">
            <div class="slide-content">
                <h2>依赖解析机制</h2>
                <div style="text-align:center">
                    <img src="images/7-maven-structure.png" alt="Maven 仓库概念图" style="max-width: 80%; border-radius: 8px;">
                </div>
                <p><strong>解析流程：</strong></p>
                <ol>
                    <li>查找本地仓库（<code>~/.m2/repository</code>）</li>
                    <li>未命中时访问远程仓库（镜像/中央）</li>
                    <li>下载并缓存到本地仓库</li>
                    <li>解析传递依赖，处理冲突</li>
                    <li>加入项目类路径</li>
                </ol>
            </div>
        </section>

        <!-- Slide 14: 依赖解析流程图 -->
        <section class="slide">
            <div class="slide-content">
                <h2>依赖解析详细流程</h2>
                <div style="text-align:center">
                    <img src="images/7-parse-flow.png" alt="依赖解析流程" style="max-width: 90%; border-radius: 8px;">
                </div>
                <p><strong>排查建议：</strong></p>
                <ul>
                    <li>使用 <code>mvn dependency:tree</code> 查看依赖树</li>
                    <li>冲突时可用 <code>exclusions</code> 或统一版本管理解决</li>
                </ul>
            </div>
        </section>

        <!-- Slide 15: 本地仓库详解 -->
        <section class="slide">
            <div class="slide-content">
                <h2>本地仓库详解</h2>
                <h3>默认位置：</h3>
                <p><code>${user.home}\.m2\repository</code>（如 <code>C:\Users\你的用户名\.m2\repository</code>）</p>

                <h3>作用：</h3>
                <ul>
                    <li>缓存依赖以加速构建</li>
                    <li>支持离线构建模式</li>
                    <li>团队共享本地缓存</li>
                </ul>

                <h3>自定义配置：</h3>
                <p>在 <code>settings.xml</code> 中指定本地仓库路径：</p>
                <pre><code class="language-xml">&lt;settings&gt;
  &lt;localRepository&gt;D:/software/apache-maven/repository&lt;/localRepository&gt;
&lt;/settings&gt;</code></pre>
                <p><strong>建议：</strong>将仓库放在非系统盘，便于管理和备份</p>
            </div>
        </section>

        <!-- Slide 16: 远程仓库与镜像 -->
        <section class="slide">
            <div class="slide-content">
                <h2>远程仓库与镜像配置</h2>
                <h3>中央仓库：</h3>
                <ul>
                    <li>官方地址：<code>https://repo.maven.apache.org/maven2/</code></li>
                    <li>权威且稳定，收录丰富的构件</li>
                </ul>

                <h3>国内镜像配置：</h3>
                <pre><code class="language-xml">&lt;mirrors&gt;
  &lt;mirror&gt;
    &lt;id&gt;aliyunmaven&lt;/id&gt;
    &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;
    &lt;name&gt;Aliyun Maven&lt;/name&gt;
    &lt;url&gt;https://maven.aliyun.com/repository/central&lt;/url&gt;
  &lt;/mirror&gt;
&lt;/mirrors&gt;</code></pre>

                <p><strong>作用：</strong>加速国内访问，提升下载速度和稳定性</p>
            </div>
        </section>

        <!-- Slide 17: IDEA Maven 配置 -->
        <section class="slide">
            <div class="slide-content">
                <h2>IDEA Maven 配置</h2>
                <p>打开 <code>File → Settings → Build Tools → Maven</code></p>
                <div class="gallery">
                    <img src="images/7-maven-setting-1.png" alt="IDEA Maven 设置入口" style="max-width: 50%" />
                    <img src="images/7-maven-setting-2.png" alt="IDEA Maven 版本与路径" style="max-width: 45%" />
                </div>
                <p><strong>配置要点：</strong></p>
                <ul>
                    <li><strong>Maven home path</strong> - Maven 安装目录</li>
                    <li><strong>User settings file</strong> - 用户配置文件</li>
                    <li><strong>Local repository</strong> - 本地仓库路径</li>
                </ul>
                <p><strong>建议：</strong>初学者可使用 IDEA 自带 Maven，熟悉后再配置独立版本</p>
            </div>
        </section>

        <!-- Slide 18: settings.xml 完整配置 -->
        <section class="slide">
            <div class="slide-content">
                <h2>settings.xml 完整配置</h2>
                <p>在 <code>C:\Users\用户名\.m2\settings.xml</code> 中配置：</p>
                <pre><code class="language-xml">&lt;settings xmlns="http://maven.apache.org/SETTINGS/1.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd"&gt;
  &lt;localRepository&gt;D:/software/apache-maven/repository&lt;/localRepository&gt;
  &lt;mirrors&gt;
    &lt;mirror&gt;
      &lt;id&gt;aliyun&lt;/id&gt;
      &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;
      &lt;name&gt;aliyun&lt;/name&gt;
      &lt;url&gt;https://maven.aliyun.com/repository/public&lt;/url&gt;
    &lt;/mirror&gt;
  &lt;/mirrors&gt;
&lt;/settings&gt;</code></pre>
                <p><strong>注意：</strong>如果 <code>.m2</code> 目录下没有 <code>settings.xml</code>，可直接创建该文件</p>
            </div>
        </section>

        <!-- Slide 19: 依赖作用域详解 -->
        <section class="slide">
            <div class="slide-content">
                <h2>依赖作用域（scope）详解</h2>
                <p>作用域决定依赖在编译、测试与运行阶段的可见性：</p>
                <p><strong>实践建议：</strong>正确设置作用域能减少包冲突与最终包体积</p>
                <div class="scope-table-wrapper" style="margin-top: 12px; overflow-x: auto;">
                    <table class="scope-table" style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr>
                                <th style="text-align: left; padding: 8px; border-bottom: 1px solid #ddd;">作用域</th>
                                <th style="text-align: left; padding: 8px; border-bottom: 1px solid #ddd;">编译期</th>
                                <th style="text-align: left; padding: 8px; border-bottom: 1px solid #ddd;">测试期</th>
                                <th style="text-align: left; padding: 8px; border-bottom: 1px solid #ddd;">运行期</th>
                                <th style="text-align: left; padding: 8px; border-bottom: 1px solid #ddd;">典型依赖</th>
                                <th style="text-align: left; padding: 8px; border-bottom: 1px solid #ddd;">设置原因/场景</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;"><code>compile</code></td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">✓</td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">✓</td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">✓</td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">通用库（如核心框架）</td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">代码在所有阶段都需要</td>
                            </tr>
                            <tr>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;"><code>provided</code></td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">✓</td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">✓</td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">由环境提供</td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;"><code>lombok</code>、Servlet API</td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">仅编译/测试需要，运行期由容器/工具提供</td>
                            </tr>
                            <tr>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;"><code>runtime</code></td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">×</td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">✓</td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">✓</td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">JDBC 驱动</td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">编译面向接口，具体实现仅在运行/测试需要</td>
                            </tr>
                            <tr>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;"><code>test</code></td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">×</td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">✓</td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">×</td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">JUnit、Mockito</td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">仅用于测试代码与运行器</td>
                            </tr>
                            <tr>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;"><code>system</code></td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">✓</td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">✓</td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">环境/本地提供</td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">本地路径依赖</td>
                                <td style="padding: 8px; border-bottom: 1px solid #eee;">不可移植，不推荐</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <h3>为什么这些库要用不同的 scope？</h3>
                <div class="scope-reasons" style="display: grid; grid-template-columns: 1fr; gap: 12px;">
                    <div>
                        <h4>Lombok → provided</h4>
                        <ul>
                            <li>编译期通过注解处理器生成字节码；运行期不需要 Lombok 本身。</li>
                            <li>设置为 <code>provided</code>，避免打包进产物、减小体积且不引入无意义的运行期依赖。</li>
                        </ul>
                        <pre><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
  &lt;artifactId&gt;lombok&lt;/artifactId&gt;
  &lt;version&gt;1.18.22&lt;/version&gt;
  &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
                    </div>
                    <div>
                        <h4>JDBC 驱动 → runtime</h4>
                        <ul>
                            <li>编译面向 <code>java.sql</code> 接口；具体驱动实现仅在运行时通过 SPI/ServiceLoader 加载。</li>
                            <li>设置为 <code>runtime</code>，不参与编译但在运行和测试阶段可用；若直接引用驱动类（如 <code>com.mysql.cj.jdbc.Driver</code>），可改用 <code>compile</code>。</li>
                        </ul>
                        <pre><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;mysql&lt;/groupId&gt;
  &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;
  &lt;version&gt;8.0.33&lt;/version&gt;
  &lt;scope&gt;runtime&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
                    </div>
                    <div>
                        <h4>JUnit → test</h4>
                        <ul>
                            <li>仅用于测试代码与测试运行器；不应该出现在生产环境的可运行包中。</li>
                            <li>设置为 <code>test</code>，确保不会被传递到生产依赖树。</li>
                        </ul>
                        <pre><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
  &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;
  &lt;version&gt;5.10.0&lt;/version&gt;
  &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
                    </div>
                    <div>
                        <h4>Servlet API → provided（参考）</h4>
                        <ul>
                            <li>运行期由容器（Tomcat/Jetty/Spring Boot）提供；项目不应打包它。</li>
                        </ul>
                        <pre><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;
  &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;
  &lt;version&gt;5.0.0&lt;/version&gt;
  &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;</code></pre>
                    </div>
                </div>
                <p><strong>选择原则：</strong>编译期才需要 → 使用 <code>provided</code>；仅运行/测试期需要 → 使用 <code>runtime</code>；仅测试代码需要 → 使用 <code>test</code>；跨阶段都需要 → 使用 <code>compile</code>。</p>
            </div>
        </section>

        <!-- Slide 20: 可选依赖与排除 -->
        <section class="slide">
            <div class="slide-content">
                <h2>可选依赖与排除传递</h2>
                <div class="dependency-concepts" style="margin-bottom: 20px; padding: 12px; background: rgba(100,150,200,0.1); border-radius: 6px;">
                    <h3>什么是依赖？什么是传递依赖？</h3>
                    <ul>
                        <li><strong>依赖（Dependency）</strong>：项目直接在 <code>&lt;dependencies&gt;</code> 中声明的库，例如 Spring Boot Starter、MySQL 驱动等。</li>
                        <li><strong>传递依赖（Transitive Dependency）</strong>：你引入的库自身又依赖的其他库，Maven 会自动把这些间接依赖也下载并加入你的项目。例如：引入 <code>spring-boot-starter-web</code> 会自动引入 <code>spring-web</code>、<code>spring-webmvc</code>、<code>spring-boot-starter-tomcat</code> 等。</li>
                        <li><strong>依赖树</strong>：通过 <code>mvn dependency:tree</code> 可以查看项目的完整依赖关系，包括直接依赖与传递依赖。</li>
                    </ul>
                </div>

                <h3>可选依赖（optional）：</h3>
                <pre><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
  &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;
  &lt;version&gt;1.7.30&lt;/version&gt;
  &lt;optional&gt;true&lt;/optional&gt;
&lt;/dependency&gt;</code></pre>
                <p><strong>用途：</strong>不希望被传递给下游，适用于可插拔的组件。例如：一个库支持多种日志实现，但不想强制下游项目引入所有实现，可以把这些实现标记为 <code>optional</code>。</p>

                <h3>排除传递依赖（exclusions）：</h3>
                <pre><code class="language-xml">&lt;dependency&gt;
  &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
  &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;
  &lt;version&gt;5.8.1&lt;/version&gt;
  &lt;exclusions&gt;
    &lt;exclusion&gt;
      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;
    &lt;/exclusion&gt;
  &lt;/exclusions&gt;
&lt;/dependency&gt;</code></pre>
                <p><strong>用途：</strong>剔除冲突或不必要的传递依赖。例如：项目已引入 <code>log4j2</code>，但某个依赖传递引入了 <code>logback</code>，可通过 <code>&lt;exclusions&gt;</code> 排除 <code>logback</code>，避免日志实现冲突。</p>
                <div class="example-scenario" style="margin-top: 12px; padding: 12px; background: rgba(200,100,100,0.1); border-radius: 6px;">
                    <h4>典型场景：排除传递依赖</h4>
                    <pre><code class="language-xml">&lt;!-- 项目已使用 log4j2 --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;
  &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;
  &lt;version&gt;2.20.0&lt;/version&gt;
&lt;/dependency&gt;

&lt;!-- 某工具库传递引入了 logback，需要排除 --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;com.example&lt;/groupId&gt;
  &lt;artifactId&gt;some-tool&lt;/artifactId&gt;
  &lt;version&gt;1.2.3&lt;/version&gt;
  &lt;exclusions&gt;
    &lt;exclusion&gt;
      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;
    &lt;/exclusion&gt;
  &lt;/exclusions&gt;
&lt;/dependency&gt;</code></pre>
                    <p><strong>效果：</strong>避免同时存在两套日志实现，防止类加载冲突与日志输出混乱。</p>
                </div>
            </div>
        </section>

        <!-- Slide 21: 统一版本管理 -->
        <section class="slide">
            <div class="slide-content">
                <h2>统一版本管理：dependencyManagement</h2>
                <p>在父工程集中声明依赖版本，子工程仅需声明坐标：</p>

                <h3>父工程配置：</h3>
                <pre><code class="language-xml">&lt;dependencyManagement&gt;
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
      &lt;artifactId&gt;lombok&lt;/artifactId&gt;
      &lt;version&gt;1.18.22&lt;/version&gt;
      &lt;scope&gt;provided&lt;/scope&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;
      &lt;version&gt;5.8.1&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
&lt;/dependencyManagement&gt;</code></pre>

                <h3>子工程引用（无需版本）：</h3>
                <pre><code class="language-xml">&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
    &lt;artifactId&gt;lombok&lt;/artifactId&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;</code></pre>
                <p><strong>优势：</strong>避免多处维护版本，防止版本冲突</p>
            </div>
        </section>

        <!-- Slide 22: 父子项目结构 -->
        <section class="slide">
            <div class="slide-content">
                <h2>父子项目结构</h2>
                <h3>子工程继承配置：</h3>
                <pre><code class="language-xml">&lt;parent&gt;
  &lt;groupId&gt;cn.demo.learn&lt;/groupId&gt;
  &lt;artifactId&gt;learn-parent&lt;/artifactId&gt;
  &lt;version&gt;1.0.0&lt;/version&gt;
&lt;/parent&gt;</code></pre>

                <h3>继承机制：</h3>
                <ul>
                    <li>子工程自动继承父工程的 <code>properties</code>、<code>dependencyManagement</code></li>
                    <li>子工程仍需在 <code>&lt;dependencies&gt;</code> 中显式声明依赖</li>
                    <li>支持多级继承，但通常不超过两级</li>
                </ul>

                <h3>适用场景：</h3>
                <ul>
                    <li>微服务项目的统一版本管理</li>
                    <li>企业级框架的多模块项目</li>
                    <li>需要统一依赖和构建配置的项目群</li>
                </ul>
            </div>
        </section>

        <!-- Part 4: Practice and Best Practices -->
        <!-- Slide 23: IDEA 集成技巧 -->
        <section class="slide">
            <div class="slide-content">
                <h2>IDEA 集成技巧</h2>

                <h3>Maven 工具窗口：</h3>
                <ul>
                    <li><strong>Lifecycle</strong> - 快速执行构建阶段</li>
                    <li><strong>Dependencies</strong> - 查看和刷新依赖</li>
                    <li><strong>Plugins</strong> - 执行 Maven 插件目标</li>
                </ul>

                <h3>常用快捷操作：</h3>
                <ul>
                    <li><code>Ctrl+Shift+O</code> - 重新导入项目</li>
                    <li>右键 <code>pom.xml</code> → <code>Maven</code> → <code>Reimport</code></li>
                    <li>依赖下载失败时，点击 <code>Reload All Maven Projects</code></li>
                </ul>

                <h3>依赖查看：</h3>
                <ul>
                    <li>右键依赖 → <code>Jump to Source</code> - 跳转到源码</li>
                    <li>右键依赖 → <code>Exclude</code> - 快速排除传递依赖</li>
                </ul>
            </div>
        </section>

        <!-- Slide 24: 常见问题排查 -->
        <section class="slide">
            <div class="slide-content">
                <h2>常见问题排查</h2>

                <h3>依赖下载失败：</h3>
                <ul>
                    <li>检查 <code>settings.xml</code> 镜像配置是否正确</li>
                    <li>确认网络连接，尝试切换网络或代理</li>
                    <li>删除对应目录，重新下载</li>
                </ul>

                <h3>版本冲突：</h3>
                <ul>
                    <li>使用 <code>mvn dependency:tree</code> 查看依赖树</li>
                    <li>使用 <code>&lt;exclusions&gt;</code> 排除冲突依赖</li>
                    <li>在 <code>dependencyManagement</code> 中统一版本</li>
                </ul>

                <h3>编译失败：</h3>
                <ul>
                    <li>检查 JDK 版本配置是否正确</li>
                    <li>确认 <code>scope</code> 设置是否合适</li>
                    <li>查看控制台错误信息，定位具体问题</li>
                </ul>

                <h3>项目结构问题：</h3>
                <ul>
                    <li>确认目录结构符合 Maven 约定</li>
                    <li>检查 <code>pom.xml</code> 是否存在语法错误</li>
                </ul>
            </div>
        </section>

        <!-- Slide 25: 最佳实践总结 -->
        <section class="slide">
            <div class="slide-content">
                <h2>最佳实践总结</h2>

                <h3>项目组织：</h3>
                <ul>
                    <li>遵循标准目录结构，不要随意修改</li>
                    <li>使用有意义的 <code>groupId</code> 和 <code>artifactId</code></li>
                    <li>版本号遵循语义化版本规范</li>
                </ul>

                <h3>依赖管理：</h3>
                <ul>
                    <li>优先使用稳定版本，避免 <code>alpha</code>/<code>beta</code></li>
                    <li>合理设置 <code>scope</code>，减少不必要的依赖</li>
                    <li>使用 <code>dependencyManagement</code> 统一版本管理</li>
                </ul>

                <h3>构建优化：</h3>
                <ul>
                    <li>配置国内镜像，提升下载速度</li>
                    <li>本地仓库放在非系统盘</li>
                    <li>定期清理不需要的依赖</li>
                </ul>

                <h3>团队协作：</h3>
                <ul>
                    <li>统一团队的开发环境配置</li>
                    <li>将 <code>settings.xml</code> 纳入版本控制管理</li>
                    <li>建立规范的构建和发布流程</li>
                </ul>
            </div>
        </section>

        <!-- Slide 26: 总结与展望 -->
        <section class="slide">
            <div class="slide-content">
                <h2>总结与展望</h2>

                <h3>本节要点回顾：</h3>
                <ul>
                    <li>✅ 理解了 Maven 的核心价值：依赖管理、构建自动化、项目标准化</li>
                    <li>✅ 掌握了 Maven 项目的基本操作：创建、配置、构建</li>
                    <li>✅ 学会了依赖管理的核心概念：坐标、作用域、传递依赖</li>
                    <li>✅ 配置了国内镜像环境，提升了构建效率</li>
                </ul>

                <h3>下一步学习：</h3>
                <ul>
                    <li>深入 Maven 插件开发</li>
                    <li>学习 CI/CD 集成（Jenkins、GitHub Actions）</li>
                    <li>探索 Gradle 构建工具</li>
                    <li>学习仓库管理工具（Nexus、Artifactory）</li>
                </ul>

                <p><strong>记住：</strong>Maven 不仅是构建工具，更是现代 Java 开发的基础设施！</p>
            </div>
        </section>

        <!-- UI Elements -->
        <div class="progress-bar-container">
            <div id="progress-bar"></div>
        </div>
        <div class="controls">
            <button id="prevBtn">上一页</button>
            <span id="slide-counter">1 / X</span>
            <button id="nextBtn">下一页</button>
        </div>
    </main>

    <script src="./js/animation.js"></script>
    <script src="./js/ppt.js"></script>
    <script src="../prism/prism.js"></script>
    <script src="../prism/prism-autoloader.min.js"></script>
    <script src="./js/nav.js"></script>
</body>

</html>
