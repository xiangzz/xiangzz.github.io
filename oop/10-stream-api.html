<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java Stream APIè¯¦è§£</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/stream-style.css">
    <link rel="stylesheet" href="../prism/prism.css">
</head>

<body>

    <main id="presentation">
        <!-- Slide 1: Title -->
        <section class="slide title-slide active">
            <h1>Stream API</h1>
            <p>é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ï¼ˆJavaï¼‰</p>
            <strong>å‘Šåˆ«ç¹ççš„å¾ªç¯ï¼Œæ‹¥æŠ±å‡½æ•°å¼ç¼–ç¨‹</strong>
        </section>

        <!-- Slide 2: Traditional Collection Processing Pain Points -->
        <section class="slide">
            <div class="slide-content">
                <h2>ä¼ ç»Ÿé›†åˆå¤„ç†çš„ç—›ç‚¹</h2>
                <p><strong>åœºæ™¯ï¼š</strong>å¤„ç†ä¸€ä¸ªå­¦ç”Ÿåˆ—è¡¨ï¼Œæ‰¾å‡ºå¹´é¾„>18çš„å¥³ç”Ÿï¼ŒæŒ‰å§“åæ’åºï¼Œæå–å§“ååˆ—è¡¨</p>

                <h3>ğŸ”´ ä¼ ç»Ÿå†™æ³•çš„é—®é¢˜ï¼š</h3>
                <pre><code class="language-java">// éœ€è¦å¤šä¸ªä¸­é—´å˜é‡å’Œå¾ªç¯
List&lt;Student&gt; adults = new ArrayList&lt;&gt;();
for (Student s : students) {
    if (s.getAge() &gt; 18 &amp;&amp; s.getGender() == FEMALE) {
        adults.add(s);
    }
}

// è¿˜éœ€è¦æ‰‹åŠ¨æ’åº
adults.sort(Comparator.comparing(Student::getName));

// è¿˜éœ€è¦å†æå–å§“å
List&lt;String&gt; names = new ArrayList&lt;&gt;();
for (Student s : adults) {
    names.add(s.getName());
}</code></pre>

                <h3>ğŸ˜¤ ç—›ç‚¹æ€»ç»“ï¼š</h3>
                <ul>
                    <li><strong>ä»£ç å†—é•¿</strong>ï¼šéœ€è¦å¤šä¸ªä¸´æ—¶é›†åˆå’Œå¤šå±‚å¾ªç¯</li>
                    <li><strong>å‘½ä»¤å¼æ€ç»´</strong>ï¼šéœ€è¦å‘Šè¯‰è®¡ç®—æœº"å¦‚ä½•åš"ï¼Œè€Œé"åšä»€ä¹ˆ"</li>
                    <li><strong>å®¹æ˜“å‡ºé”™</strong>ï¼šæ‰‹åŠ¨ç®¡ç†çŠ¶æ€ï¼Œè¾¹ç•Œæ¡ä»¶å¤„ç†å¤æ‚</li>
                    <li><strong>å¯è¯»æ€§å·®</strong>ï¼šä¸šåŠ¡é€»è¾‘è¢«å¾ªç¯è¯­æ³•æ·¹æ²¡</li>
                    <li><strong>éš¾ä»¥å¹¶è¡ŒåŒ–</strong>ï¼šä¼ ç»Ÿå¾ªç¯éœ€è¦é‡å†™æ‰èƒ½å¹¶è¡Œå¤„ç†</li>
                </ul>
            </div>
        </section>

        <!-- Slide 3: "è¦æ˜¯èƒ½è¿™æ ·åšå°±å¥½äº†ï¼" - Introducing Stream -->
        <section class="slide">
            <div class="slide-content">
                <h2>"è¦æ˜¯èƒ½è¿™æ ·åšå°±å¥½äº†ï¼"</h2>
                <p>å¦‚æœæˆ‘ä»¬èƒ½ç”¨ç±»ä¼¼ä¸‹é¢çš„ä¼ªä»£ç æ¥è¡¨è¾¾æ•°æ®å¤„ç†é€»è¾‘ï¼Œé‚£è¯¥å¤šå¥½å•Šï¼</p>

                <h3>ğŸ’­ ç†æƒ³çš„ä¼ªä»£ç è¡¨è¾¾ï¼š</h3>
                <pre><code class="language-java">// ğŸ¯ ç†æƒ³æ–¹å¼ï¼šå£°æ˜å¼è¡¨è¾¾
æˆå¹´å¥³ç”Ÿå§“å = ä»(students)
    ä¸­ç­›é€‰(å¹´é¾„ >= 18 ä¸” æ€§åˆ« == "å¥³")
    æŒ‰å§“åæ’åº()
    æå–å§“å()
    æ”¶é›†åˆ°åˆ—è¡¨();

// ğŸ¯ ç¨å¾®è§„èŒƒåŒ–ä¸€ç‚¹ï¼šé“¾å¼è°ƒç”¨
result = students
    .filter(å¹´é¾„ >= 18)
    .filter(æ€§åˆ« == "å¥³")
    .sortBy(å§“å)
    .map(æå–å§“å)
    .collect(è½¬æˆåˆ—è¡¨);
</code></pre>

                <h3>âœ¨ ä¼ªä»£ç çš„ä¼˜åŠ¿ï¼š</h3>
                <ul>
                    <li><strong>æ¥è¿‘è‡ªç„¶è¯­è¨€</strong>ï¼šåƒè¯´è¯ä¸€æ ·æè¿°æ•°æ®å¤„ç†é€»è¾‘</li>
                    <li><strong>å…³æ³¨æ„å›¾</strong>ï¼šå…³å¿ƒ"åšä»€ä¹ˆ"è€Œä¸æ˜¯"æ€ä¹ˆåš"</li>
                    <li><strong>æ— ä¸­é—´å˜é‡</strong>ï¼šä¸éœ€è¦ä¸´æ—¶çš„é›†åˆå’Œè®¡æ•°å™¨</li>
                    <li><strong>é“¾å¼è°ƒç”¨</strong>ï¼šå¤šä¸ªæ“ä½œå¯ä»¥ä¸€æ°”å‘µæˆ</li>
                    <li><strong>ç®€æ´ä¼˜é›…</strong>ï¼šåŒæ ·çš„é€»è¾‘ï¼Œä»£ç é‡å‡å°‘70%</li>
                </ul>

                <h3>ğŸš€ ä¼ªä»£ç å¯¹åº”çš„å®é™…Streamä»£ç ï¼š</h3>
                <pre><code class="language-java">// Java Stream API - ç†æƒ³ç…§è¿›ç°å®ï¼
List&lt;String&gt; names = students.stream()
    .filter(student -> student.getAge() >= 18)      // ç­›é€‰ï¼šå¹´é¾„ >= 18
    .filter(student -> student.getGender() == FEMALE) // ç­›é€‰ï¼šæ€§åˆ« == å¥³
    .sorted(Comparator.comparing(Student::getName))   // æ’åºï¼šæŒ‰å§“å
    .map(Student::getName)                          // æå–ï¼šå§“å
    .collect(Collectors.toList());                    // æ”¶é›†ï¼šè½¬æˆåˆ—è¡¨

// ç­‰ä»·äºä¸€è¡Œè¡¨è¾¾å¼çš„å†™æ³•
List&lt;String&gt; names = students.stream()
    .filter(s -> s.getAge() >= 18 && s.getGender() == FEMALE)
    .sorted(Comparator.comparing(Student::getName))
    .map(Student::getName)
    .collect(Collectors.toList());</code></pre>

                <h3>ğŸ’¡ å…³é”®æ€ç»´è½¬å˜ï¼š</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>ä¼ ç»Ÿæ€ç»´</th>
                            <th>Streamæ€ç»´</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>å‘Šè¯‰è®¡ç®—æœº<strong>å¦‚ä½•åš</strong></td>
                            <td>å‘Šè¯‰è®¡ç®—æœº<strong>åšä»€ä¹ˆ</strong></td>
                        </tr>
                        <tr>
                            <td>å…³æ³¨<strong>è¿‡ç¨‹</strong>å’Œ<strong>æ­¥éª¤</strong></td>
                            <td>å…³æ³¨<strong>ç»“æœ</strong>å’Œ<strong>è½¬æ¢</strong></td>
                        </tr>
                        <tr>
                            <td>éœ€è¦<strong>æ˜¾å¼ç®¡ç†</strong>ä¸­é—´çŠ¶æ€</td>
                            <td>æ¡†æ¶<strong>è‡ªåŠ¨ç®¡ç†</strong>æ•°æ®æµ</td>
                        </tr>
                        <tr>
                            <td>ä¿®æ”¹<strong>åŸæ•°æ®</strong>æˆ–åˆ›å»ºä¸´æ—¶å˜é‡</td>
                            <td>é€šè¿‡<strong>ä¸å¯å˜é“¾</strong>ç”Ÿæˆæ–°ç»“æœ</td>
                        </tr>
                    </tbody>
                </table>

                <p class="conclusion"><strong>Stream API å°±æ˜¯æŠŠè¿™äº›ç†æƒ³ä¼ªä»£ç å˜æˆäº†ç°å®ï¼<br>
                        è®©æ•°æ®å¤„ç†å˜å¾—åƒå†™SQLæŸ¥è¯¢ä¸€æ ·ä¼˜é›…ç®€æ´ï¼</strong></p>
            </div>
        </section>

        <!-- Slide: Creating Streams -->
        <section class="slide">
            <div class="slide-content">
                <h2>å¦‚ä½•æ„é€  Stream</h2>
                <p>Stream å¯ä»¥é€šè¿‡å¤šç§æ•°æ®æºåˆ›å»ºï¼Œæœ€å¸¸ç”¨çš„æ˜¯ä»é›†åˆï¼ˆCollectionï¼‰åˆ›å»ºã€‚</p>
                <ul>
                    <li>
                        <strong>1. ä»é›†åˆ (Collection)</strong> - æœ€å¸¸ç”¨çš„æ–¹å¼
                        <pre><code class="language-java">List&lt;String&gt; list = List.of("Java", "Python", "Go");
Stream&lt;String&gt; stream = list.stream();</code></pre>
                    </li>
                    <li>
                        <strong>2. ä»æ•°ç»„ (Array)</strong>
                        <pre><code class="language-java">String[] arr = {"Java", "Python", "Go"};
Stream&lt;String&gt; stream = Arrays.stream(arr);</code></pre>
                    </li>
                    <li>
                        <strong>3. ç›´æ¥é€šè¿‡å€¼ (Stream.of)</strong>
                        <pre><code class="language-java">Stream&lt;String&gt; stream = Stream.of("Java", "Python", "Go");</code></pre>
                    </li>
                    <li>
                        <strong>4. æ„é€ æ— é™æµ (Infinite Streams)</strong>
                        <pre><code class="language-java">Stream&lt;Double&gt; randoms = Stream.generate(Math::random).limit(5);
Stream&lt;Integer&gt; evens = Stream.iterate(0, n -> n + 2).limit(10);</code></pre>
                    </li>
                </ul>
            </div>
        </section>

        <!-- Slide: Deep Dive into Infinite Streams -->
        <section class="slide">
            <div class="slide-content">
                <h2>* æ·±å…¥ç†è§£æ— é™æµ</h2>
                <p>æ— é™æµæ˜¯ Stream API çš„ä¸€å¤§ç‰¹è‰²ï¼Œå…è®¸å®šä¹‰æ— ç©·çš„æ•°æ®æºï¼Œåªæœ‰åœ¨éœ€è¦æ—¶æ‰è®¡ç®—ï¼ˆå»¶è¿Ÿæ‰§è¡Œï¼‰ã€‚</p>

                <div style="display: flex; flex-direction: column; gap: 20px;">
                    <div>
                        <h3 style="color: #d63384; margin-bottom: 10px;">1. Stream.generate(Supplier&lt;T&gt; s)</h3>
                        <p style="margin: 5px 0;"><strong>æœºåˆ¶ï¼š</strong> åŸºäº <code>Supplier</code>
                            æ¥å£ï¼ˆæ— å‚ï¼Œæœ‰è¿”å›å€¼ï¼‰ï¼Œå•çº¯åœ°"ç”Ÿäº§"æ•°æ®ï¼Œä¸ä¾èµ–ä¸Šä¸€æ¬¡ç”Ÿæˆçš„ç»“æœã€‚</p>
                        <p style="margin: 5px 0;"><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> ç”Ÿæˆéšæœºæ•°ã€å¸¸é‡æµã€UUID ç­‰æ— è§„å¾‹æ•°æ®ã€‚</p>
                        <pre style="margin-top: 5px;"><code class="language-java">// ç¤ºä¾‹ï¼šç”Ÿæˆ 3 ä¸ªéšæœº UUID
// UUID::randomUUID ç¬¦åˆ Supplier&lt;UUID&gt; ç­¾å
Stream.generate(java.util.UUID::randomUUID)
      .limit(3)
      .forEach(System.out::println);
// è¾“å‡ºç¤ºä¾‹: e58ed763-928c-4155-bee9-fdbaaadc15f3 ...</code></pre>
                    </div>

                    <div>
                        <h3 style="color: #0d6efd; margin-bottom: 10px;">2. Stream.iterate(T seed,
                            UnaryOperator&lt;T&gt; f)</h3>
                        <p style="margin: 5px 0;"><strong>æœºåˆ¶ï¼š</strong> è¿™æ˜¯ä¸€ä¸ªè¿­ä»£è¿‡ç¨‹ã€‚ä»ç§å­å€¼ <code>seed</code> å¼€å§‹ï¼Œå°†å‡½æ•°
                            <code>f</code> åå¤åº”ç”¨ï¼ˆseed, f(seed), f(f(seed))...ï¼‰ã€‚</p>
                        <p style="margin: 5px 0;"><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> ç”Ÿæˆç­‰å·®/ç­‰æ¯”æ•°åˆ—ã€æ—¶é—´åºåˆ—ã€æ–æ³¢é‚£å¥‘æ•°åˆ—ç­‰æœ‰è§„å¾‹æ•°æ®ã€‚</p>
                        <pre style="margin-top: 5px;"><code class="language-java">// ç¤ºä¾‹ï¼šç”Ÿæˆå€æ•°åºåˆ— (1, 2, 4, 8, 16...)
// n -> n * 2 ç¬¦åˆ UnaryOperator&lt;Integer&gt; ç­¾å (è¾“å…¥=è¾“å‡º)
Stream.iterate(1, n -> n * 2)
      .limit(5)
      .forEach(System.out::println);
// è¿‡ç¨‹: 1 -> 2 -> 4 -> 8 -> 16</code></pre>
                    </div>
                </div>

                <div
                    style="background: #fff3cd; color: #856404; padding: 15px; border-radius: 5px; margin-top: 20px; border: 1px solid #ffeeba;">
                    <strong>âš ï¸ è­¦å‘Šï¼š</strong> æ— é™æµå¿…é¡»é…åˆ <code>limit()</code> æˆ–å…¶ä»–çŸ­è·¯æ“ä½œï¼ˆShort-circuitingï¼‰ä½¿ç”¨ï¼Œå¦åˆ™ä¸€æ—¦æ‰§è¡Œç»ˆç«¯æ“ä½œï¼ˆå¦‚
                    <code>forEach</code>ï¼‰ï¼Œç¨‹åºå°†é™·å…¥æ­»å¾ªç¯ï¼
                </div>
            </div>
        </section>

        <!-- Slide 4: Stream API Overview and Operation Categories -->
        <section class="slide">
            <div class="slide-content">
                <h2>Stream API å…¨æ™¯è§†å›¾</h2>
                
                <div style="display: flex; gap: 20px; height: 100%;">
                    <!-- å·¦ä¾§ï¼šæ“ä½œåˆ†ç±»ä¸å¿ƒæ³• -->
                    <div style="flex: 1.3;">
                        <h3 style="margin-top: 0; color: #0d6efd; font-size: 1.1em;">ğŸ—ºï¸ æ“ä½œåˆ†ç±»ä½“ç³»</h3>
                        <p style="font-size: 0.85em; margin-bottom: 10px;">æŒ‰åŠŸèƒ½æ ¸å¿ƒå¯åˆ†ä¸ºä»¥ä¸‹6å¤§ç±»åˆ«ï¼š</p>
                        <table class="operations-table" style="font-size: 0.7em; width: 100%;">
                            <thead>
                                <tr style="background-color: #f8f9fa;">
                                    <th>ç±»åˆ«</th>
                                    <th>æ ¸å¿ƒæ–¹æ³•</th>
                                    <th>ä¸»è¦ç”¨é€”</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>1. ç­›é€‰åˆ‡ç‰‡</strong></td>
                                    <td><code>filter</code>, <code>distinct</code>, <code>limit</code>, <code>skip</code>, <code>take/dropWhile</code></td>
                                    <td>è¿‡æ»¤ã€å»é‡ã€æˆªå–</td>
                                </tr>
                                <tr>
                                    <td><strong>2. æ˜ å°„åŠ å·¥</strong></td>
                                    <td><code>map</code>, <code>flatMap</code>, <code>peek</code></td>
                                    <td>è½¬æ¢ã€æ‰å¹³åŒ–ã€è°ƒè¯•</td>
                                </tr>
                                <tr>
                                    <td><strong>3. æ’åºæ“ä½œ</strong></td>
                                    <td><code>sorted</code></td>
                                    <td>æ’åº</td>
                                </tr>
                                <tr>
                                    <td><strong>4. æŸ¥æ‰¾åŒ¹é…</strong></td>
                                    <td><code style="color: #dc3545">any/all/noneMatch</code>, <code style="color: #dc3545">findFirst/Any</code></td>
                                    <td>æ¡ä»¶æ£€æŸ¥ã€æŸ¥æ‰¾</td>
                                </tr>
                                <tr>
                                    <td><strong>5. éå†æ”¶é›†</strong></td>
                                    <td><code style="color: #dc3545">collect</code>, <code style="color: #dc3545">forEach(Ordered)</code>, <code style="color: #dc3545">toArray</code></td>
                                    <td>æ”¶é›†ã€éå†ã€æ•°ç»„</td>
                                </tr>
                                <tr>
                                    <td><strong>6. å½’çº¦ç»Ÿè®¡</strong></td>
                                    <td><code style="color: #dc3545">reduce</code>, <code style="color: #dc3545">count</code>, <code style="color: #dc3545">min/max</code></td>
                                    <td>èšåˆã€ç»Ÿè®¡ã€æœ€å€¼</td>
                                </tr>
                                <tr>
                                    <td><strong>7. æ„å»º/æ¨¡å¼</strong></td>
                                    <td><code>concat</code>, <code>parallel</code>, <code>unordered</code>, <code>onClose</code></td>
                                    <td>åˆå¹¶ã€å¹¶è¡Œã€æ— åº</td>
                                </tr>
                            </tbody>
                        </table>

                        <div style="background-color: #e3f2fd; border-left: 4px solid #2196f3; padding: 10px; margin-top: 10px; border-radius: 4px;">
                            <h4 style="color: #1565c0; margin: 0 0 5px 0; font-size: 0.9em;">ğŸ§  è®°å¿†å¿ƒæ³•ï¼šSWORD å…¨æ™¯æ¨¡å‹</h4>
                            <ul style="margin: 0; font-size: 0.8em; display: grid; grid-template-columns: 1fr; gap: 2px; padding-left: 15px;">
                                <li>âš”ï¸ <strong>S</strong>hape (æ•´å½¢): <code>sorted</code>, <code>limit/skip</code>, <code>distinct</code>, <code>take/dropWhile</code></li>
                                <li>âš”ï¸ <strong>W</strong>here (æ¡ä»¶): <code>filter</code>, <code style="color: #dc3545">match</code>, <code style="color: #dc3545">find</code></li>
                                <li>âš”ï¸ <strong>O</strong>peration (åŠ å·¥): <code>map</code>, <code>flatMap</code>, <code>peek</code></li>
                                <li>âš”ï¸ <strong>R</strong>educe (èšåˆ): <code style="color: #dc3545">reduce</code>, <code style="color: #dc3545">count</code>, <code style="color: #dc3545">min/max</code></li>
                                <li>âš”ï¸ <strong>D</strong>estination (ç»ˆç«¯): <code style="color: #dc3545">collect</code>, <code style="color: #dc3545">forEach</code>, <code style="color: #dc3545">toArray</code></li>
                            </ul>
                        </div>
                    </div>

                    <!-- å³ä¾§ï¼šæµæ°´çº¿æœºåˆ¶ä¸ç»ˆç«¯æ“ä½œ -->
                    <div style="flex: 1; display: flex; flex-direction: column; gap: 10px;">
                        <div>
                            <h3 style="margin-top: 0; color: #198754; font-size: 1.1em;">ğŸ—ï¸ æµæ°´çº¿ä¸‰å¤§é“å¾‹</h3>
                            <div style="background: #f8f9fa; padding: 10px; border-radius: 6px; border: 1px solid #dee2e6; font-size: 0.85em;">
                                <ol style="margin: 0; padding-left: 20px;">
                                    <li><strong>Source å¼€å¯</strong>: é›†åˆ/æ•°ç»„/IO</li>
                                    <li><strong>Intermediate æƒ°æ€§æ±‚å€¼</strong>: åªé…ç½®ä¸æ‰§è¡Œ</li>
                                    <li><strong>Terminal è§¦å‘æ‰§è¡Œ</strong>: å¿…é¡»ä¸”å”¯ä¸€</li>
                                </ol>
                            </div>
                        </div>

                        <div>
                            <h3 style="margin-top: 5px; color: #dc3545; font-size: 1.1em;">ğŸ¯ ç»ˆç«¯æ“ä½œ (Terminal)</h3>
                            <p style="font-size: 0.8em; margin: 5px 0;"><strong>åˆ¤åˆ«æ ‡å‡†ï¼š</strong>è¿”å›å€¼ä¸æ˜¯ Stream (å¦‚ void, List, long)ã€‚</p>
                            <div style="background: #fff3cd; padding: 10px; border-radius: 6px; border: 1px solid #ffecb5; font-size: 0.8em;">
                                <strong>âš ï¸ è­¦ç¤ºï¼š</strong>
                                <ul style="margin: 5px 0; padding-left: 15px;">
                                    <li>æµæ˜¯<strong>ä¸€æ¬¡æ€§</strong>çš„ï¼šåƒæ°´æµä¸€æ ·åªå»ä¸å›ï¼Œä¸å¯å¤ç”¨ã€‚</li>
                                    <li>å¿…é¡»æœ‰ç»ˆç«¯æ“ä½œï¼Œå¦åˆ™ä¸­é—´æ“ä½œ<strong>ä¸ä¼šæ‰§è¡Œ</strong>ã€‚</li>
                                </ul>
                            </div>
                        </div>

                        <div>
                            <h3 style="margin-top: 5px; color: #6610f2; font-size: 1.1em;">ğŸš€ æœ€ä½³å®è·µ</h3>
                            <div style="font-size: 0.8em;">
                                <p style="margin: 5px 0;"><strong>åŸåˆ™ï¼šå…ˆè¿‡æ»¤ï¼Œåå¤„ç†</strong> (å°½æ—©å‡å°‘æ•°æ®é‡)</p>
                                <pre style="margin: 0; padding: 8px; font-size: 0.9em;"><code class="language-java">stream
 .filter(s -> s.score > 60) // âœ… å…ˆè¿‡æ»¤
 .map(s -> complex(s))      // âœ… åè¿ç®—
 .collect(toList());        // âœ… ç»ˆç»“</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Slide 5: Traversal Operations -->
        <section class="slide">
            <div class="slide-content">
                <h2>[T] éå†:forEach()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">void forEach(Consumer&lt;? super T&gt; action)</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">Consumer&lt;? super T&gt;</span> <span class="param-name">action</span> - å¯¹æµä¸­æ¯ä¸ªå…ƒç´ æ‰§è¡Œçš„æ“ä½œï¼Œæ˜¯ä¸€ä¸ªæ¶ˆè´¹å‹å‡½æ•°å¼æ¥å£</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">void</span> - æ— è¿”å›å€¼ï¼Œè¿™æ˜¯ä¸€ä¸ªç»ˆç«¯æ“ä½œ</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">forEachæ˜¯ç»ˆç«¯æ“ä½œï¼Œè°ƒç”¨åStreamç»“æŸã€‚é€‚åˆéå†å¤„ç†ï¼Œä½†ä¸èƒ½æ”¹å˜Streamä¸­çš„å…ƒç´ ã€‚åœ¨å¹¶è¡ŒStreamä¸­è¦æ³¨æ„çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p>
                    </div>
                </div>
                <img src="images/10-stream-foreach.png" alt="forEach() æ“ä½œ" style="width: 100%; height: auto;">
                <p><code>forEach()</code> ç”¨äºéå†Streamä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œæ˜¯Streamä¸­æœ€åŸºæœ¬çš„æ“ä½œã€‚</p>

                <h3>ğŸ”´ ä¼ ç»Ÿå†™æ³•çš„ç—›ç‚¹ï¼š</h3>
                <pre><code class="language-java">// ä¼ ç»Ÿçš„for-eachå¾ªç¯
for (Student student : students) {
    System.out.println("å­¦ç”Ÿå§“å: " + student.getName());
    System.out.println("å­¦ç”Ÿå¹´é¾„: " + student.getAge());
}

// ä¼ ç»Ÿforå¾ªç¯ï¼ˆéœ€è¦å¤„ç†ç´¢å¼•ï¼‰
for (int i = 0; i < students.size(); i++) {
    Student student = students.get(i);
    System.out.println("ç¬¬" + (i + 1) + "ä¸ªå­¦ç”Ÿ: " + student.getName());
}</code></pre>

                <h3>ğŸŸ¢ Stream forEach() è§£å†³æ–¹æ¡ˆï¼š</h3>
                <pre><code class="language-java">// ç®€æ´çš„forEach
students.stream()
    .forEach(student -> {
        System.out.println("å­¦ç”Ÿå§“å: " + student.getName());
        System.out.println("å­¦ç”Ÿå¹´é¾„: " + student.getAge());
    });

// ä½¿ç”¨æ–¹æ³•å¼•ç”¨ï¼ˆæ›´ç®€æ´ï¼‰
students.stream()
    .forEach(System.out::println);

// å¸¦ç´¢å¼•çš„éå†ï¼ˆéœ€è¦é¢å¤–å¤„ç†ï¼‰
AtomicInteger index = new AtomicInteger(0);
students.stream()
    .forEach(student -> {
        System.out.println("ç¬¬" + (index.incrementAndGet()) + "ä¸ªå­¦ç”Ÿ: " + student.getName());
    });</code></pre>

                <h3>ğŸ’¡ ä½¿ç”¨åœºæ™¯å’Œæ³¨æ„äº‹é¡¹ï¼š</h3>
                <ul>
                    <li><strong>éå†å¤„ç†</strong>ï¼šéœ€è¦å¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œç›¸åŒæ“ä½œæ—¶</li>
                    <li><strong>ç»ˆç«¯æ“ä½œ</strong>ï¼šforEachæ˜¯ç»ˆç«¯æ“ä½œï¼Œè°ƒç”¨åStreamç»“æŸ</li>
                    <li><strong>æ— è¿”å›å€¼</strong>ï¼šä¸èƒ½åœ¨forEachä¸­è¿”å›ç»“æœï¼Œé€‚åˆå‰¯ä½œç”¨æ“ä½œ</li>
                    <li><strong>å¹¶è¡Œå®‰å…¨</strong>ï¼šåœ¨å¹¶è¡ŒStreamä¸­è¦æ³¨æ„çº¿ç¨‹å®‰å…¨é—®é¢˜</li>
                </ul>

                <p class="conclusion"><strong>forEach() è®©éå†æ“ä½œæ›´åŠ ç®€æ´ï¼Œä½†è¦æ³¨æ„å®ƒæ˜¯ç»ˆç«¯æ“ä½œä¸”ä¸èƒ½æ”¹å˜Streamä¸­çš„å…ƒç´ ï¼</strong></p>
            </div>
        </section>

  


        <!-- Slide 7: Filtering Operations -->
        <section class="slide">
            <div class="slide-content">
                <h2>ç­›é€‰:filter()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">Stream&lt;T&gt; filter(Predicate&lt;? super T&gt; predicate)</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">Predicate&lt;? super T&gt;</span> <span class="param-name">predicate</span> - æ–­è¨€å‹å‡½æ•°å¼æ¥å£ï¼Œè¿”å›trueè¡¨ç¤ºä¿ç•™å…ƒç´ ï¼Œfalseè¡¨ç¤ºè¿‡æ»¤æ‰</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">Stream&lt;T&gt;</span> - åŒ…å«æ‰€æœ‰æ»¡è¶³predicateæ¡ä»¶çš„å…ƒç´ çš„æ–°Stream</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">filteræ˜¯ä¸­é—´æ“ä½œï¼Œæ˜¯æƒ°æ€§æ±‚å€¼çš„ã€‚å¯ä»¥é“¾å¼è°ƒç”¨å¤šä¸ªfilteræ¥ç»„åˆå¤æ‚çš„ç­›é€‰æ¡ä»¶ã€‚é€šå¸¸å°†ç­›é€‰æ“ä½œæ”¾åœ¨é“¾å¼è°ƒç”¨çš„å‰é¢ä»¥å‡å°‘å¤„ç†çš„æ•°æ®é‡ã€‚</p>
                    </div>
                </div>
                <img src="images/10-stream-filter.png" alt="filter() æ“ä½œ" style="width: 100%; height: auto;">
                <p>ç­›é€‰æ“ä½œç”¨äºæ ¹æ®æ¡ä»¶è¿‡æ»¤å…ƒç´ ï¼Œæ˜¯Streamä¸­æœ€å¸¸ç”¨çš„æ“ä½œä¹‹ä¸€ã€‚</p>

                <h3>ğŸ” filter() - æ¡ä»¶è¿‡æ»¤</h3>
                <pre><code class="language-java">// ä¼ ç»Ÿå†™æ³• - ç¹ç
List&lt;Student&gt; adults = new ArrayList&lt;&gt;();
for (Student s : students) {
    if (s.getAge() >= 18) {
        adults.add(s);
    }
}

// Streamå†™æ³• - ç®€æ´
List&lt;Student&gt; adults = students.stream()
    .filter(student -> student.getAge() >= 18)
    .collect(Collectors.toList());

// å¤æ‚æ¡ä»¶ç­›é€‰
List&lt;Student&gt; qualifiedStudents = students.stream()
    .filter(s -> s.getAge() >= 18 && s.getScore() > 80 && s.isActive())
    .collect(Collectors.toList());

// å¤šæ¬¡filteré“¾å¼è°ƒç”¨ï¼ˆå¯è¯»æ€§æ›´å¥½ï¼‰
List&lt;Student&gt; result = students.stream()
    .filter(s -> s.getAge() >= 18)           // å¹´é¾„ç­›é€‰
    .filter(s -> s.getScore() > 80)          // æˆç»©ç­›é€‰
    .filter(Student::isActive)                 // çŠ¶æ€ç­›é€‰
    .collect(Collectors.toList());</code></pre>


            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>ç­›é€‰:distinct()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">Stream&lt;T&gt; distinct()</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">æ— å‚æ•°</span> - ä½¿ç”¨å…ƒç´ çš„equals()å’ŒhashCode()æ–¹æ³•è¿›è¡Œå»é‡åˆ¤æ–­</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">Stream&lt;T&gt;</span> - å»é‡åçš„æ–°Streamï¼Œå¯¹äºæœ‰åºæµä¿æŒåŸå§‹é¡ºåº</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">distinctæ˜¯ä¸­é—´æ“ä½œï¼Œä¼šå»é™¤æµä¸­çš„é‡å¤å…ƒç´ ã€‚éœ€è¦å…ƒç´ æ­£ç¡®å®ç°equals()å’ŒhashCode()æ–¹æ³•ã€‚å¯¹äºå¤§å‹æ•°æ®é›†ï¼Œdistinct()çš„æ€§èƒ½å¼€é”€å¯èƒ½è¾ƒå¤§ã€‚</p>
                    </div>
                </div>
                <img src="images/10-stream-distinct.png" alt="distinct() æ“ä½œ" style="width: 100%; height: auto;">
                <p>ç­›é€‰æ“ä½œç”¨äºæ ¹æ®æ¡ä»¶è¿‡æ»¤å…ƒç´ ï¼Œæ˜¯Streamä¸­æœ€å¸¸ç”¨çš„æ“ä½œä¹‹ä¸€ã€‚</p>
                <h3>ğŸ”„ distinct() - å»é‡ç­›é€‰</h3>
                <pre><code class="language-java">// ä¼ ç»Ÿå†™æ³• - éœ€è¦Setè¾…åŠ©
Set&lt;String&gt; uniqueNames = new HashSet&lt;&gt;();
List&lt;String&gt; uniqueNameList = new ArrayList&lt;&gt;();
for (Student s : students) {
    String name = s.getName();
    if (uniqueNames.add(name)) {  // Set.add()è¿”å›trueè¡¨ç¤ºå…ƒç´ ä¸å­˜åœ¨
        uniqueNameList.add(name);
    }
}

// Streamå†™æ³• - ä¼˜é›…
List&lt;String&gt; uniqueNames = students.stream()
    .map(Student::getName)
    .distinct()
    .collect(Collectors.toList());

// å¯¹è‡ªå®šä¹‰å¯¹è±¡å»é‡ï¼ˆéœ€è¦é‡å†™equalså’ŒhashCodeï¼‰
List&lt;Student&gt; uniqueStudents = students.stream()
    .distinct()
    .collect(Collectors.toList());</code></pre>


            </div>
        </section>

        <!-- Slide: takeWhile() and dropWhile() Operations -->
        <section class="slide">
            <div class="slide-content">
                <h2>* ç­›é€‰:takeWhile() & dropWhile()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">Stream&lt;T&gt; takeWhile(Predicate&lt;? super T&gt; predicate)
Stream&lt;T&gt; dropWhile(Predicate&lt;? super T&gt; predicate)</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">Predicate&lt;? super T&gt;</span> <span class="param-name">predicate</span> - æ–­è¨€æ¡ä»¶ï¼Œç”¨äºåˆ¤æ–­æ˜¯å¦ç»§ç»­å¤„ç†å…ƒç´ </li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">Stream&lt;T&gt;</span> - è¿”å›æˆªå–åçš„æ–°Stream</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">takeWhile()å–å…ƒç´ ç›´åˆ°é‡åˆ°ç¬¬ä¸€ä¸ªä¸æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼›dropWhile()è·³è¿‡å…ƒç´ ç›´åˆ°é‡åˆ°ç¬¬ä¸€ä¸ªä¸æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ã€‚è¿™ä¸¤ä¸ªéƒ½æ˜¯çŸ­è·¯æ“ä½œï¼Œå¯ä»¥æå‡æ€§èƒ½ã€‚æ³¨æ„ï¼šå¯¹äºæ— åºæµï¼Œè¡Œä¸ºå¯èƒ½ä¸ç¡®å®šã€‚</p>
                    </div>
                </div>
                <p><code>takeWhile()</code> å’Œ <code>dropWhile()</code> æ˜¯ Java 9 æ–°å¢çš„çŸ­è·¯æ“ä½œï¼Œç”¨äºæŒ‰æ¡ä»¶æˆªå–æ•°æ®æµã€‚</p>

                <h3>âœ‚ï¸ takeWhile() - æ»¡è¶³æ¡ä»¶æ—¶å–å…ƒç´ </h3>
                <pre><code class="language-java">// ä¼ ç»Ÿå†™æ³• - éœ€è¦æ‰‹åŠ¨æ§åˆ¶å¾ªç¯
List&lt;Integer&gt; result = new ArrayList&lt;&gt;();
for (Integer num : numbers) {
    if (num &lt; 4) {
        result.add(num);
    } else {
        break;  // é‡åˆ°ä¸æ»¡è¶³çš„æ¡ä»¶å°±åœæ­¢
    }
}

// Streamå†™æ³• - ç®€æ´çš„çŸ­è·¯æ“ä½œ
List&lt;Integer&gt; numbers = List.of(1, 2, 3, 4, 5, 1, 2);
List&lt;Integer&gt; result = numbers.stream()
    .takeWhile(n -> n &lt; 4)  // å–ç›´åˆ°é‡åˆ°ä¸æ»¡è¶³æ¡ä»¶çš„å…ƒç´ 
    .collect(Collectors.toList());
// ç»“æœ: [1, 2, 3]  (é‡åˆ°4å°±åœæ­¢ï¼Œä¸ä¼šç»§ç»­å–åé¢çš„1,2)</code></pre>

                <h3>ğŸ—‘ï¸ dropWhile() - ä¸¢å¼ƒæ»¡è¶³æ¡ä»¶çš„å…ƒç´ </h3>
                <pre><code class="language-java">// ä¼ ç»Ÿå†™æ³• - éœ€è¦æ ‡å¿—ä½æ§åˆ¶
List&lt;Integer&gt; result = new ArrayList&lt;&gt;();
boolean startTaking = false;
for (Integer num : numbers) {
    if (!startTaking && num >= 4) {
        startTaking = true;
    }
    if (startTaking) {
        result.add(num);
    }
}

// Streamå†™æ³• - ä¼˜é›…çš„çŸ­è·¯æ“ä½œ
List&lt;Integer&gt; result2 = numbers.stream()
    .dropWhile(n -> n &lt; 4)  // ä¸¢å¼ƒç›´åˆ°é‡åˆ°ä¸æ»¡è¶³æ¡ä»¶çš„å…ƒç´ 
    .collect(Collectors.toList());
// ç»“æœ: [4, 5, 1, 2]  (ä»4å¼€å§‹å–ï¼ŒåŒ…æ‹¬åé¢çš„æ‰€æœ‰å…ƒç´ )</code></pre>

                <h3>ğŸ’¡ å®é™…åº”ç”¨åœºæ™¯ï¼š</h3>
                <pre><code class="language-java">// åœºæ™¯1ï¼šå¤„ç†æ’åºåçš„æ•°æ®ï¼Œå–è¿ç»­æ»¡è¶³æ¡ä»¶çš„éƒ¨åˆ†
List&lt;Student&gt; students = getStudentsByScore();  // å·²æŒ‰æˆç»©æ’åº
List&lt;Student&gt; topStudents = students.stream()
    .takeWhile(s -> s.getScore() >= 90)  // å–è¿ç»­90åˆ†ä»¥ä¸Šçš„å­¦ç”Ÿ
    .collect(Collectors.toList());

// åœºæ™¯2ï¼šè·³è¿‡æ—¥å¿—æ–‡ä»¶çš„å¤´éƒ¨ä¿¡æ¯
List&lt;String&gt; dataLines = Files.lines(logFile)
    .dropWhile(line -> line.startsWith("#"))  // è·³è¿‡æ³¨é‡Šè¡Œ
    .collect(Collectors.toList());

// åœºæ™¯3ï¼šå¤„ç†æ—¶é—´åºåˆ—æ•°æ®
List&lt;Double&gt; temperatures = getTemperatureReadings();
List&lt;Double&gt; normalTemp = temperatures.stream()
    .takeWhile(t -> t >= 36.0 && t <= 37.5)  // å–æ­£å¸¸ä½“æ¸©æ•°æ®
    .collect(Collectors.toList());</code></pre>

                <div class="tip-box">
                    <strong>âš ï¸ æ³¨æ„äº‹é¡¹ï¼š</strong>
                    <ul>
                        <li>è¿™æ˜¯ <strong>Java 9+</strong> çš„ç‰¹æ€§ï¼Œéœ€è¦ Java 9 æˆ–æ›´é«˜ç‰ˆæœ¬</li>
                        <li>ä¸ <code>filter()</code> ä¸åŒï¼š<code>filter()</code> å¤„ç†æ‰€æœ‰å…ƒç´ ï¼Œè€Œ <code>takeWhile/dropWhile()</code> æ˜¯çŸ­è·¯æ“ä½œ</li>
                        <li>å¯¹äº <strong>æœ‰åºæµ</strong>ï¼Œè¡Œä¸ºæ˜¯ç¡®å®šçš„ï¼›å¯¹äº <strong>æ— åºæµ</strong>ï¼Œç»“æœå¯èƒ½ä¸åŒ</li>
                    </ul>
                </div>

                <p class="conclusion"><strong>takeWhile() å’Œ dropWhile() æä¾›äº†å¼ºå¤§çš„æ¡ä»¶æˆªå–èƒ½åŠ›ï¼Œç‰¹åˆ«é€‚åˆå¤„ç†æœ‰åºæ•°æ®å’Œéœ€è¦çŸ­è·¯æ“ä½œçš„åœºæ™¯ï¼</strong></p>
            </div>
        </section>


        <!-- Slide 9: Mapping Operations -->
        <section class="slide">
            <div class="slide-content">
                <h2>æ˜ å°„:map()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">&lt;R&gt; Stream&lt;R&gt; map(Function&lt;? super T, ? extends R&gt; mapper)</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">Function&lt;? super T, ? extends R&gt;</span> <span class="param-name">mapper</span> - å‡½æ•°å¼æ¥å£ï¼Œå°†ç±»å‹ä¸ºTçš„å…ƒç´ è½¬æ¢ä¸ºç±»å‹ä¸ºRçš„å…ƒç´ </li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">Stream&lt;R&gt;</span> - åŒ…å«è½¬æ¢åå…ƒç´ çš„æ–°Streamï¼Œå…ƒç´ ç±»å‹å¯èƒ½ä¸åŒ</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">mapæ˜¯ä¸­é—´æ“ä½œï¼Œå¯ä»¥æ”¹å˜Streamä¸­å…ƒç´ çš„ç±»å‹ã€‚å¸¸ç”¨äºæ•°æ®è½¬æ¢ã€å¯¹è±¡å±æ€§æå–ã€æ ¼å¼è½¬æ¢ç­‰åœºæ™¯ã€‚mapæ“ä½œæ˜¯ä¸€å¯¹ä¸€çš„æ˜ å°„ï¼Œæ¯ä¸ªè¾“å…¥å…ƒç´ åªäº§ç”Ÿä¸€ä¸ªè¾“å‡ºå…ƒç´ ã€‚</p>
                    </div>
                </div>
                <p>æ˜ å°„æ“ä½œç”¨äºè½¬æ¢Streamä¸­çš„å…ƒç´ ç±»å‹æˆ–ç»“æ„ï¼Œæ˜¯Stream APIçš„æ ¸å¿ƒåŠŸèƒ½ã€‚</p>
                <img src="images/10-stream-map.png" alt="map() æ“ä½œ" style="width: 100%; height: auto;">

                <h3>ğŸ”„ map() - ç±»å‹è½¬æ¢</h3>
                <pre><code class="language-java">// ä¼ ç»Ÿå†™æ³• - éœ€è¦æ˜¾å¼å¾ªç¯
List&lt;String&gt; names = new ArrayList&lt;&gt;();
for (Student student : students) {
    names.add(student.getName());
}

// Streamå†™æ³• - ç®€æ´
List&lt;String&gt; names = students.stream()
    .map(Student::getName)
    .collect(Collectors.toList());

// å¤æ‚è½¬æ¢
List&lt;StudentDTO&gt; dtos = students.stream()
    .map(student -> {
        StudentDTO dto = new StudentDTO();
        dto.setName(student.getName());
        dto.setAge(student.getAge());
        return dto;
    })
    .collect(Collectors.toList());

// å¤šæ­¥è½¬æ¢
List&lt;Integer&gt; nameLengths = students.stream()
    .map(Student::getName)        // Student -> String
    .map(String::length)         // String -> Integer
    .collect(Collectors.toList());</code></pre>


                <h3>ğŸ”¢ åŸºæœ¬ç±»å‹æ˜ å°„ï¼š</h3>
                <pre><code class="language-java">// åŸºæœ¬ç±»å‹æ˜ å°„ - é¿å…è‡ªåŠ¨è£…ç®±
IntStream ages = students.stream()
    .mapToInt(Student::getAge);

DoubleStream scores = students.stream()
    .mapToDouble(Student::getScore);

LongStream ids = students.stream()
    .mapToLong(Student::getId);

// åŸºæœ¬ç±»å‹Streamçš„ä¼˜åŠ¿
double averageAge = students.stream()
    .mapToInt(Student::getAge)
    .average()
    .orElse(0.0);  // æ— éœ€Optionalå¤„ç†</code></pre>

                <p class="conclusion"><strong>æ˜ å°„æ“ä½œæ˜¯Streamçš„æ ¸å¿ƒï¼Œmap()ç”¨äºä¸€å¯¹ä¸€è½¬æ¢ï¼ŒflatMap()ç”¨äºä¸€å¯¹å¤šæ‰å¹³åŒ–ï¼</strong></p>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ˜ å°„:flatMap()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">&lt;R&gt; Stream&lt;R&gt; flatMap(Function&lt;? super T, ? extends Stream&lt;? extends R&gt;&gt; mapper)</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">Function&lt;? super T, ? extends Stream&lt;? extends R&gt;&gt;</span> <span class="param-name">mapper</span> - å°†æ¯ä¸ªå…ƒç´ æ˜ å°„ä¸ºä¸€ä¸ªStreamçš„å‡½æ•°å¼æ¥å£</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">Stream&lt;R&gt;</span> - æ‰å¹³åŒ–åçš„æ–°Streamï¼ŒåŒ…å«æ‰€æœ‰å­Streamçš„å…ƒç´ </p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">flatMapæ˜¯ä¸­é—´æ“ä½œï¼Œå®ç°ä¸€å¯¹å¤šæ˜ å°„ã€‚å¸¸ç”¨äºå¤„ç†åµŒå¥—é›†åˆã€æ•°ç»„å±•å¼€ã€å¯¹è±¡æ‰å¹³åŒ–ç­‰åœºæ™¯ã€‚flatMapä¼šè‡ªåŠ¨å°†å¤šä¸ªStreamåˆå¹¶ä¸ºä¸€ä¸ªStreamã€‚</p>
                    </div>
                </div>
                <p>æ˜ å°„æ“ä½œç”¨äºè½¬æ¢Streamä¸­çš„å…ƒç´ ç±»å‹æˆ–ç»“æ„ï¼Œæ˜¯Stream APIçš„æ ¸å¿ƒåŠŸèƒ½ã€‚</p>
                <img src="images/10-stream-flatMap.png" alt="flatMap() æ“ä½œ" style="width: 100%; height: auto;">


                <h3>ğŸ“¦ flatMap() - æ‰å¹³åŒ–æ˜ å°„</h3>
                <pre><code class="language-java">// åœºæ™¯ï¼šå­¦ç”Ÿé€‰è¯¾åˆ—è¡¨ï¼Œè·å–æ‰€æœ‰è¯¾ç¨‹åç§°
List&lt;Student&gt; students = getStudents();

// ä¼ ç»Ÿå†™æ³• - åµŒå¥—å¾ªç¯
List&lt;String&gt; allCourses = new ArrayList&lt;&gt;();
for (Student student : students) {
    for (Course course : student.getCourses()) {
        allCourses.add(course.getName());
    }
}

// Streamå†™æ³• - ä½¿ç”¨flatMapæ‰å¹³åŒ–
List&lt;String&gt; allCourses = students.stream()
    .flatMap(student -> student.getCourses().stream())  // å°†List&lt;Course&gt;æ‰å¹³åŒ–ä¸ºStream&lt;Course&gt;
    .map(Course::getName)
    .distinct()
    .collect(Collectors.toList());

// å­—ç¬¦ä¸²åˆ†å‰²å¹¶æ‰å¹³åŒ–
List&lt;String&gt; words = Arrays.asList("hello world", "java stream", "functional programming")
    .stream()
    .flatMap(sentence -> Arrays.stream(sentence.split(" ")))
    .distinct()
    .collect(Collectors.toList());
// ç»“æœ: ["hello", "world", "java", "stream", "functional", "programming"]</code></pre>


                <p class="conclusion"><strong>æ˜ å°„æ“ä½œæ˜¯Streamçš„æ ¸å¿ƒï¼Œmap()ç”¨äºä¸€å¯¹ä¸€è½¬æ¢ï¼ŒflatMap()ç”¨äºä¸€å¯¹å¤šæ‰å¹³åŒ–ï¼</strong></p>
            </div>
        </section>

        <!-- Slide: peek() Operation -->
        <section class="slide">
            <div class="slide-content">
                <h2>è°ƒè¯•:peek()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">Stream&lt;T&gt; peek(Consumer&lt;? super T&gt; action)</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">Consumer&lt;? super T&gt;</span> <span class="param-name">action</span> - å¯¹Streamä¸­æ¯ä¸ªå…ƒç´ æ‰§è¡Œçš„æ“ä½œï¼Œé€šå¸¸ç”¨äºè°ƒè¯•</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">Stream&lt;T&gt;</span> - åŸå§‹Streamï¼Œpeekæ“ä½œä¸ä¼šä¿®æ”¹Streamå†…å®¹</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">peekæ˜¯ä¸­é—´æ“ä½œï¼Œä¸»è¦ç”¨äºè°ƒè¯•å’Œç›‘æ§ã€‚å¯ä»¥åœ¨Streamå¤„ç†é“¾ä¸­æ’å…¥æŸ¥çœ‹ç‚¹ï¼Œä½†ä¸åº”ä¿®æ”¹å…ƒç´ çŠ¶æ€ã€‚é€‚åˆé…åˆæ—¥å¿—è¾“å‡ºæˆ–æ–­ç‚¹è°ƒè¯•ä½¿ç”¨ã€‚</p>
                    </div>
                </div>
                <p><code>peek()</code> æ˜¯ä¸€ä¸ªä¸­é—´æ“ä½œï¼Œä¸»è¦ç”¨äºè°ƒè¯•Streamå¤„ç†è¿‡ç¨‹ï¼Œè®©æˆ‘ä»¬èƒ½å¤ŸæŸ¥çœ‹æ¯ä¸ªå¤„ç†é˜¶æ®µçš„æ•°æ®ã€‚</p>

                <h3>ğŸ” peek() - è°ƒè¯•Streamå¤„ç†</h3>
                <pre><code class="language-java">// ä¼ ç»Ÿè°ƒè¯•æ–¹å¼ - éœ€è¦æ‰“æ–­ç‚¹æˆ–æ‰“å°å˜é‡
List&lt;String&gt; names = new ArrayList&lt;&gt;();
for (Student student : students) {
    if (student.getAge() >= 18) {
        System.out.println("è¿‡æ»¤åçš„å­¦ç”Ÿ: " + student.getName());  // è°ƒè¯•è¾“å‡º
        names.add(student.getName());
    }
}

// Streamä½¿ç”¨peek()è°ƒè¯• - é“¾å¼è°ƒè¯•
List&lt;String&gt; result = students.stream()
    .filter(student -> student.getAge() >= 18)
    .peek(student -> System.out.println("è¿‡æ»¤å: " + student.getName()))
    .map(Student::getName)
    .peek(name -> System.out.println("æ˜ å°„å: " + name))
    .filter(name -> name.length() > 2)
    .collect(Collectors.toList());</code></pre>

                <h3>ğŸ› ï¸ peek() çš„å¤šç§è°ƒè¯•ç”¨é€”</h3>
                <pre><code class="language-java">// ç”¨é€”1ï¼šè·Ÿè¸ªæ•°æ®è½¬æ¢è¿‡ç¨‹
List&lt;Integer&gt; squares = numbers.stream()
    .peek(n -> System.out.println("åŸå§‹: " + n))
    .map(n -> n * n)
    .peek(n -> System.out.println("å¹³æ–¹: " + n))
    .filter(n -> n > 50)
    .peek(n -> System.out.println("è¿‡æ»¤å: " + n))
    .collect(Collectors.toList());

// ç”¨é€”2ï¼šéªŒè¯æ•°æ®æµå†…å®¹
Set&lt;String&gt; categories = products.stream()
    .peek(p -> {
        if (p.getCategory() == null) {
            System.out.println("è­¦å‘Š: äº§å“ " + p.getName() + " æ²¡æœ‰åˆ†ç±»");
        }
    })
    .filter(p -> p.getCategory() != null)
    .map(Product::getCategory)
    .collect(Collectors.toSet());

// ç”¨é€”3ï¼šæ”¶é›†ç»Ÿè®¡ä¿¡æ¯ï¼ˆå‰¯ä½œç”¨ï¼‰
AtomicInteger count = new AtomicInteger(0);
List&lt;Student&gt; processed = students.stream()
    .peek(student -> count.incrementAndGet())
    .filter(Student::isActive)
    .collect(Collectors.toList());
System.out.println("å¤„ç†äº† " + count.get() + " ä¸ªå­¦ç”Ÿ");</code></pre>

                <h3>âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹</h3>
                <pre><code class="language-java">// âŒ é”™è¯¯ï¼šåœ¨peekä¸­ä¿®æ”¹çŠ¶æ€ï¼ˆå‰¯ä½œç”¨ï¼‰
List&lt;Student&gt; result = students.stream()
    .peek(student -> student.setScore(student.getScore() + 10))  // ä¸è¦è¿™æ ·åšï¼
    .collect(Collectors.toList());

// âœ… æ­£ç¡®ï¼šåœ¨peekä¸­åªè¿›è¡Œè°ƒè¯•æˆ–è§‚å¯Ÿ
List&lt;Student&gt; result = students.stream()
    .peek(student -> System.out.println("å¤„ç†: " + student.getName()))
    .map(student -> {
        Student newStudent = new Student(student);
        newStudent.setScore(student.getScore() + 10);  // åœ¨mapä¸­åˆ›å»ºæ–°å¯¹è±¡
        return newStudent;
    })
    .collect(Collectors.toList());

// âœ… æ­£ç¡®ï¼šä½¿ç”¨peekè¿›è¡Œæ€§èƒ½ç›‘æ§
long start = System.currentTimeMillis();
List&lt;Result&gt; results = data.stream()
    .peek(d -> {
        if (System.currentTimeMillis() - start > 5000) {
            System.out.println("è­¦å‘Šï¼šå¤„ç†è¶…è¿‡5ç§’");
        }
    })
    .map(this::expensiveOperation)
    .collect(Collectors.toList());</code></pre>

                <div class="tip-box">
                    <strong>ğŸ’¡ æœ€ä½³å®è·µï¼š</strong>
                    <ul>
                        <li><strong>è°ƒè¯•ä¸“ç”¨</strong>ï¼špeekä¸»è¦ç”¨äºè°ƒè¯•ï¼Œé¿å…åœ¨ç”Ÿäº§ä»£ç ä¸­ä½¿ç”¨</li>
                        <li><strong>æ— å‰¯ä½œç”¨</strong>ï¼šä¸è¦åœ¨peekä¸­ä¿®æ”¹Streamä¸­çš„å…ƒç´ </li>
                        <li><strong>æ€§èƒ½å½±å“</strong>ï¼šè°ƒè¯•å®Œæˆåè®°å¾—ç§»é™¤peekè°ƒç”¨</li>
                        <li><strong>æ—¥å¿—çº§åˆ«</strong>ï¼šä½¿ç”¨é€‚å½“çš„æ—¥å¿—çº§åˆ«è€ŒéSystem.out</li>
                    </ul>
                </div>

                <h3>ğŸ”§ é«˜çº§è°ƒè¯•æŠ€å·§</h3>
                <pre><code class="language-java">// æŠ€å·§1ï¼šæ¡ä»¶è°ƒè¯• - åªåœ¨ç‰¹å®šæ¡ä»¶ä¸‹æ‰“å°
students.stream()
    .peek(student -> {
        if ("è®¡ç®—æœºç§‘å­¦".equals(student.getMajor())) {
            System.out.println("è®¡ç®—æœºä¸“ä¸šå­¦ç”Ÿ: " + student.getName());
        }
    })
    .collect(Collectors.toList());

// æŠ€å·§2ï¼šç»Ÿè®¡è°ƒè¯• - æ”¶é›†å¤„ç†ä¿¡æ¯
Map&lt;String, AtomicLong&gt; counters = new HashMap&lt;&gt;();
students.stream()
    .peek(student ->
        counters.computeIfAbsent(student.getMajor(), k -> new AtomicLong())
               .incrementAndGet())
    .collect(Collectors.toList());

// æŠ€å·§3ï¼šæ–­è¨€è°ƒè¯• - éªŒè¯æ•°æ®å®Œæ•´æ€§
students.stream()
    .peek(student -> {
        assert student.getName() != null : "å­¦ç”Ÿå§“åä¸èƒ½ä¸ºç©º";
        assert student.getAge() >= 0 : "å­¦ç”Ÿå¹´é¾„ä¸èƒ½ä¸ºè´Ÿæ•°";
    })
    .collect(Collectors.toList());</code></pre>

                <p class="conclusion"><strong>peek() æ˜¯Streamè°ƒè¯•çš„åˆ©å™¨ï¼Œè®©æˆ‘ä»¬èƒ½å¤Ÿæ¸…æ™°åœ°çœ‹åˆ°æ•°æ®æµçš„æ¯ä¸ªå¤„ç†æ­¥éª¤ï¼</strong></p>
            </div>
        </section>


        <!-- Slide 11: Sorting Operations -->
        <section class="slide">
            <div class="slide-content">
                <h2>æ’åº:sorted()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">Stream&lt;T&gt; sorted()
Stream&lt;T&gt; sorted(Comparator&lt;? super T&gt; comparator)</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">Comparator&lt;? super T&gt;</span> <span class="param-name">comparator</span> - æ¯”è¾ƒå™¨ï¼Œç”¨äºå®šä¹‰æ’åºè§„åˆ™ï¼ˆå¯é€‰å‚æ•°ï¼‰</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">Stream&lt;T&gt;</span> - æ’åºåçš„æ–°Stream</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">sortedæ˜¯ä¸­é—´æ“ä½œï¼Œæœ‰å‚æ•°ç‰ˆæœ¬ä½¿ç”¨è‡ªå®šä¹‰æ¯”è¾ƒå™¨ï¼Œæ— å‚æ•°ç‰ˆæœ¬è¦æ±‚å…ƒç´ å®ç°Comparableæ¥å£ã€‚sortedæ˜¯çŠ¶æ€fulæ“ä½œï¼Œéœ€è¦å¤„ç†æ‰€æœ‰å…ƒç´ æ‰èƒ½å®Œæˆæ’åºï¼Œå¯¹æ€§èƒ½æœ‰å½±å“ã€‚</p>
                    </div>
                </div>
                <p>æ’åºæ“ä½œç”¨äºå¯¹Streamä¸­çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œæ”¯æŒè‡ªç„¶æ’åºå’Œè‡ªå®šä¹‰æ’åºã€‚</p>
                <img src="images/10-stream-sorted.png" alt="sorted() æ“ä½œ" style="width: 100%; height: auto;">

                <h3>ğŸ“Š sorted() - åŸºç¡€æ’åº</h3>
                <pre><code class="language-java">// ä¼ ç»Ÿå†™æ³• - ä¿®æ”¹åŸé›†åˆ
List&lt;Student&gt; students = new ArrayList&lt;&gt;(originalStudents);
Collections.sort(students);

// æˆ–è€…ä½¿ç”¨Comparator
students.sort(Comparator.comparing(Student::getScore));

// Streamå†™æ³• - ä¸ä¿®æ”¹åŸé›†åˆ
List&lt;Student&gt; sortedStudents = students.stream()
    .sorted()  // è‡ªç„¶æ’åºï¼ˆéœ€è¦å®ç°Comparableï¼‰
    .collect(Collectors.toList());

// ä½¿ç”¨Comparatoræ’åº
List&lt;Student&gt; sortedByScore = students.stream()
    .sorted(Comparator.comparing(Student::getScore))
    .collect(Collectors.toList());

// é™åºæ’åº
List&lt;Student&gt; sortedByScoreDesc = students.stream()
    .sorted(Comparator.comparing(Student::getScore).reversed())
    .collect(Collectors.toList());</code></pre>

                <h3>ğŸ¯ å¤æ‚æ’åºè§„åˆ™ï¼š</h3>
                <pre><code class="language-java">// å¤šçº§æ’åºï¼šå…ˆæŒ‰å¹´é¾„ï¼Œå†æŒ‰æˆç»©ï¼Œæœ€åæŒ‰å§“å
List&lt;Student&gt; multiSort = students.stream()
    .sorted(Comparator
        .comparing(Student::getAge)           // ä¸€çº§æ’åºï¼šå¹´é¾„
        .thenComparing(Student::getScore)     // äºŒçº§æ’åºï¼šæˆç»©
        .thenComparing(Student::getName))      // ä¸‰çº§æ’åºï¼šå§“å
    .collect(Collectors.toList());

// è‡ªå®šä¹‰æ’åºè§„åˆ™
List&lt;Student&gt; customSort = students.stream()
    .sorted((s1, s2) -> {
        // è‡ªå®šä¹‰å¤æ‚æ’åºé€»è¾‘
        int scoreCompare = Double.compare(s2.getScore(), s1.getScore());  // æˆç»©é™åº
        if (scoreCompare != 0) return scoreCompare;
        return s1.getName().compareTo(s2.getName());  // å§“åå‡åº
    })
    .collect(Collectors.toList());</code></pre>

                <h3>âš¡ æ’åºæ€§èƒ½è€ƒè™‘ï¼š</h3>
                <pre><code class="language-java">// æ’åºåä½¿ç”¨limit()è·å–å‰Nå - æ€§èƒ½ä¼˜åŒ–
List&lt;Student&gt; top3Students = students.stream()
    .sorted(Comparator.comparing(Student::getScore).reversed())
    .limit(3)  // åªå–å‰3åï¼Œå‡å°‘æ’åºå¼€é”€
    .collect(Collectors.toList());

// æ³¨æ„ï¼šåœ¨å¹¶è¡ŒStreamä¸­ä½¿ç”¨sorted()å¯èƒ½å½±å“æ€§èƒ½
List&lt;Student&gt; sortedResult = students.parallelStream()
    .sorted(Comparator.comparing(Student::getScore))
    .collect(Collectors.toList());  // å¹¶è¡Œæ’åºå¼€é”€è¾ƒå¤§</code></pre>

                <h3>ğŸ’¡ å®é™…åº”ç”¨åœºæ™¯ï¼š</h3>
                <ul>
                    <li><strong>æ’è¡Œæ¦œ</strong>ï¼šæŒ‰æˆç»©ã€åˆ†æ•°ç­‰æ’åº</li>
                    <li><strong>æ•°æ®å±•ç¤º</strong>ï¼šæŒ‰æ—¶é—´ã€å­—æ¯é¡ºåºå±•ç¤º</li>
                    <li><strong>ä¼˜å…ˆçº§å¤„ç†</strong>ï¼šæŒ‰é‡è¦æ€§ã€ç´§æ€¥ç¨‹åº¦æ’åº</li>
                    <li><strong>æ•°æ®åˆ†æ</strong>ï¼šæœ‰åºçš„æ•°æ®å¤„ç†</li>
                </ul>
            </div>
        </section>


        <!-- Slide 13: Extraction Operations -->
        <!-- Slide: limit() Operation -->
        <section class="slide">
            <div class="slide-content">
                <h2>æå–:limit()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">Stream&lt;T&gt; limit(long maxSize)</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">long</span> <span class="param-name">maxSize</span> - è¦æå–çš„æœ€å¤§å…ƒç´ æ•°é‡ï¼Œä¸èƒ½ä¸ºè´Ÿæ•°</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">Stream&lt;T&gt;</span> - æˆªå–åçš„æ–°Streamï¼Œæœ€å¤šåŒ…å«maxSizeä¸ªå…ƒç´ </p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">limitæ˜¯ä¸­é—´æ“ä½œï¼Œæ˜¯çŸ­è·¯æ“ä½œã€‚é€šå¸¸ç”¨äºåˆ†é¡µå¤„ç†ã€è·å–å‰Nä¸ªå…ƒç´ ã€é™åˆ¶å¤„ç†æ•°æ®é‡ç­‰åœºæ™¯ã€‚åœ¨å¹¶è¡ŒStreamä¸­ï¼Œlimitçš„è¡Œä¸ºå¯èƒ½ä¸ä¿è¯é¡ºåºã€‚</p>
                    </div>
                </div>
                <p><code>limit(n)</code> ç”¨äºæˆªå– Stream ä¸­çš„å‰ n ä¸ªå…ƒç´ ã€‚</p>
                <img src="images/10-stream-limit.png" alt="limit() æ“ä½œ" style="width: 100%; height: auto;">

                <h3>âœ‚ï¸ limit() - æˆªå–å‰ N ä¸ª</h3>
                <pre><code class="language-java">// ä¼ ç»Ÿå†™æ³• - éœ€è¦ç´¢å¼•æ§åˆ¶
List&lt;Student&gt; first5Students = new ArrayList&lt;&gt;();
for (int i = 0; i < Math.min(5, students.size()); i++) {
    first5Students.add(students.get(i));
}

// Streamå†™æ³• - ç®€æ´
List&lt;Student&gt; first5Students = students.stream()
    .limit(5)  // åªå–å‰5ä¸ªå…ƒç´ 
    .collect(Collectors.toList());</code></pre>
                
                <div class="tip-box">
                     <strong>ğŸ’¡ åœºæ™¯ï¼š</strong> è·å– Top N æ•°æ®ã€æ•°æ®é‡‡æ ·ã€é¿å…å¤„ç†è¿‡å¤šæ•°æ®ã€‚
                </div>
            </div>
        </section>

        <!-- Slide: skip() Operation -->
        <section class="slide">
            <div class="slide-content">
                <h2>æå–:skip()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">Stream&lt;T&gt; skip(long n)</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">long</span> <span class="param-name">n</span> - è¦è·³è¿‡çš„å…ƒç´ æ•°é‡ï¼Œä¸èƒ½ä¸ºè´Ÿæ•°</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">Stream&lt;T&gt;</span> - è·³è¿‡åå‰©ä½™å…ƒç´ çš„æ–°Stream</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">skipæ˜¯ä¸­é—´æ“ä½œï¼Œå¸¸ä¸limit()é…åˆå®ç°åˆ†é¡µåŠŸèƒ½ã€‚é€‚ç”¨äºè·³è¿‡å‰Nä¸ªå…ƒç´ ã€å®ç°åç§»é‡ç­‰åœºæ™¯ã€‚å¦‚æœnå¤§äºStreamé•¿åº¦ï¼Œè¿”å›ç©ºStreamã€‚</p>
                    </div>
                </div>
                <p><code>skip(n)</code> ç”¨äºè·³è¿‡ Stream ä¸­çš„å‰ n ä¸ªå…ƒç´ ï¼Œè¿”å›å‰©ä¸‹çš„å…ƒç´ ã€‚</p>
                <img src="images/10-stream-skip.png" alt="skip() æ“ä½œ" style="width: 100%; height: auto;">

                <h3>â­ï¸ skip() - è·³è¿‡å‰ N ä¸ª</h3>
                <pre><code class="language-java">// è·å–é™¤äº†å‰ 5 åä¹‹å¤–çš„å­¦ç”Ÿ
List&lt;Student&gt; restStudents = students.stream()
    .skip(5)      // è·³è¿‡å‰5ä¸ª
    .collect(Collectors.toList());

// åˆ†é¡µæ“ä½œï¼šç»“åˆ skip + limit
int pageSize = 10;
int pageNumber = 2;  // ç¬¬2é¡µ
List&lt;Student&gt; pageData = students.stream()
    .skip((pageNumber - 1) * pageSize)  // è·³è¿‡å‰é¢çš„å…ƒç´ 
    .limit(pageSize)                     // å–å½“å‰é¡µçš„å…ƒç´ 
    .collect(Collectors.toList());</code></pre>

                <div class="tip-box">
                     <strong>ğŸ’¡ åœºæ™¯ï¼š</strong> åˆ†é¡µæŸ¥è¯¢ã€å¿½ç•¥è¡¨å¤´/é¦–è¡Œæ•°æ®ã€‚
                </div>
            </div>
        </section>

        <!-- Slide: findFirst() Operation -->
        <section class="slide">
            <div class="slide-content">
                <h2>[T] æå–:findFirst()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">Optional&lt;T&gt; findFirst()</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">æ— å‚æ•°</span> - è¿”å›Streamä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ </li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">Optional&lt;T&gt;</span> - åŒ…å«ç¬¬ä¸€ä¸ªå…ƒç´ çš„Optionalï¼Œå¦‚æœStreamä¸ºç©ºåˆ™è¿”å›Optional.empty()</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">findFirstæ˜¯ç»ˆç«¯æ“ä½œå’ŒçŸ­è·¯æ“ä½œã€‚åœ¨å¹¶è¡ŒStreamä¸­æ€»æ˜¯è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆæŒ‰é¡ºåºï¼‰ï¼Œå…·æœ‰ç¡®å®šæ€§ã€‚å¸¸ç”¨äºæŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</p>
                    </div>
                </div>
                <p><code>findFirst()</code> è¿”å› Stream ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆåŒ…è£…åœ¨ Optional ä¸­ï¼‰ã€‚</p>
                <img src="images/10-stream-findFirst.png" alt="findFirst() æ“ä½œ" style="width: 100%; height: auto;">

                <h3>ğŸ¥‡ findFirst() - æŸ¥æ‰¾ç¬¬ä¸€ä¸ª</h3>
                <pre><code class="language-java">// ä¼ ç»Ÿå†™æ³• - éœ€è¦å¾ªç¯å’Œ break
Student firstAdult = null;
for (Student student : students) {
    if (student.getAge() >= 18) {
        firstAdult = student;
        break;
    }
}

// Streamå†™æ³• - ä¼˜é›…ä¸”è¯­ä¹‰æ¸…æ™°
Optional&lt;Student&gt; firstAdult = students.stream()
    .filter(student -> student.getAge() >= 18)
    .findFirst();

// å¤„ç†ç»“æœ
String name = firstAdult
    .map(Student::getName)
    .orElse("æœªæ‰¾åˆ°æˆå¹´å­¦ç”Ÿ");</code></pre>

                <div class="tip-box">
                     <strong>ğŸ’¡ æ³¨æ„ï¼š</strong> åœ¨æœ‰åºæµä¸­ï¼ˆå¦‚ Listï¼‰ï¼Œå®ƒæ€»æ˜¯è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ ï¼›åœ¨æ— åºæµä¸­ï¼ˆå¦‚ HashSetï¼‰ï¼Œç»“æœå¯èƒ½ä¸ç¡®å®šã€‚
                </div>
            </div>
        </section>

        <!-- Slide: findAny() Operation -->
        <section class="slide">
            <div class="slide-content">
                <h2>[T] æå–:findAny()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">Optional&lt;T&gt; findAny()</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">æ— å‚æ•°</span> - è¿”å›Streamä¸­çš„ä»»æ„ä¸€ä¸ªå…ƒç´ </li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">Optional&lt;T&gt;</span> - åŒ…å«ä»»æ„ä¸€ä¸ªå…ƒç´ çš„Optionalï¼Œå¦‚æœStreamä¸ºç©ºåˆ™è¿”å›Optional.empty()</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">findAnyæ˜¯ç»ˆç«¯æ“ä½œå’ŒçŸ­è·¯æ“ä½œã€‚åœ¨å¹¶è¡ŒStreamä¸­æ€§èƒ½å¯èƒ½æ›´å¥½ï¼Œä½†ä¸ä¿è¯è¿”å›å“ªä¸ªå…ƒç´ ã€‚å½“ä¸å…³å¿ƒå…·ä½“è¿”å›å“ªä¸ªå…ƒç´ ï¼Œåªéœ€è¦ä»»æ„ä¸€ä¸ªæ—¶ä½¿ç”¨ã€‚</p>
                    </div>
                </div>
                <p><code>findAny()</code> è¿”å› Stream ä¸­çš„ä»»æ„ä¸€ä¸ªå…ƒç´ ï¼ˆåŒ…è£…åœ¨ Optional ä¸­ï¼‰ã€‚</p>
                <img src="images/10-stream-findAny.png" alt="findAny() æ“ä½œ" style="width: 100%; height: auto;">
                <h3>ğŸ² findAny() - æŸ¥æ‰¾ä»»æ„ä¸€ä¸ª</h3>
                <pre><code class="language-java">// findAny() - åœ¨å¹¶è¡Œ Stream (parallelStream) ä¸­æ€§èƒ½æ›´å¥½
// å› ä¸ºå®ƒä¸éœ€è¦ç­‰å¾…"ç¬¬ä¸€ä¸ª"å…ƒç´ ï¼Œåªè¦æœ‰çº¿ç¨‹æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„å°±è¿”å›
Optional&lt;Student&gt; anyAdult = students.parallelStream()
    .filter(student -> student.getAge() >= 18)
    .findAny();

// é…åˆçŸ­è·¯æ“ä½œ anyMatch (è¿”å› boolean)
boolean hasHighScorer = students.stream()
    .anyMatch(student -> student.getScore() > 95);</code></pre>

                <div class="tip-box">
                     <strong>ğŸ’¡ åŒºåˆ«ï¼š</strong> 
                     <ul>
                         <li><code>findFirst()</code>ï¼šè¿½æ±‚é¡ºåºç¡®å®šæ€§ï¼Œé€‚åˆæœ‰åºæµã€‚</li>
                         <li><code>findAny()</code>ï¼šè¿½æ±‚æ€§èƒ½ï¼Œé€‚åˆå¹¶è¡Œæµ (Parallel Stream)ï¼Œä¸å…³å¿ƒå…·ä½“æ˜¯å“ªä¸€ä¸ªã€‚</li>
                     </ul>
                </div>
            </div>
        </section>

        <!-- Slide: anyMatch/allMatch/noneMatch Operations -->
        <section class="slide">
            <div class="slide-content">
                <h2>[T] åŒ¹é…:anyMatch/allMatch/noneMatch()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">boolean anyMatch(Predicate&lt;? super T&gt; predicate)
boolean allMatch(Predicate&lt;? super T&gt; predicate)
boolean noneMatch(Predicate&lt;? super T&gt; predicate)</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">Predicate&lt;? super T&gt;</span> <span class="param-name">predicate</span> - æ–­è¨€æ¡ä»¶ï¼Œç”¨äºåˆ¤æ–­å…ƒç´ æ˜¯å¦æ»¡è¶³æ¡ä»¶</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">boolean</span> - åŒ¹é…ç»“æœï¼šanyMatch(å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„å…ƒç´ )ã€allMatch(æ‰€æœ‰å…ƒç´ éƒ½æ»¡è¶³æ¡ä»¶)ã€noneMatch(æ²¡æœ‰å…ƒç´ æ»¡è¶³æ¡ä»¶)</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">è¿™äº›éƒ½æ˜¯ç»ˆç«¯æ“ä½œå’ŒçŸ­è·¯æ“ä½œã€‚anyMatchæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å°±è¿”å›trueï¼›allMatché‡åˆ°ç¬¬ä¸€ä¸ªä¸æ»¡è¶³çš„å°±è¿”å›falseï¼›noneMatché‡åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³çš„å°±è¿”å›falseã€‚é€‚åˆç”¨äºéªŒè¯å’Œæ£€æŸ¥åœºæ™¯ã€‚</p>
                    </div>
                </div>
                <p>åŒ¹é…æ“ä½œç”¨äºæ£€æŸ¥Streamä¸­çš„å…ƒç´ æ˜¯å¦æ»¡è¶³æŒ‡å®šæ¡ä»¶ï¼Œè¿”å›å¸ƒå°”å€¼ï¼Œæ˜¯é‡è¦çš„ç»ˆç«¯æ“ä½œã€‚</p>

                <h3>ğŸ” anyMatch() - å­˜åœ¨åŒ¹é…å…ƒç´ </h3>
                <pre><code class="language-java">// ä¼ ç»Ÿå†™æ³• - éœ€è¦å¾ªç¯å’Œæ ‡å¿—ä½
boolean hasAdult = false;
for (Student student : students) {
    if (student.getAge() >= 18) {
        hasAdult = true;
        break;  // æ‰¾åˆ°ä¸€ä¸ªå°±å¤Ÿäº†
    }
}

// Streamå†™æ³• - ç®€æ´çš„çŸ­è·¯æ“ä½œ
boolean hasAdult = students.stream()
    .anyMatch(student -> student.getAge() >= 18);

// æ›´å¤šanyMatchåº”ç”¨
boolean hasComputerMajor = students.stream()
    .anyMatch(s -> "è®¡ç®—æœºç§‘å­¦".equals(s.getMajor()));

boolean hasHighScore = students.stream()
    .anyMatch(s -> s.getScore() > 95);</code></pre>

                <h3>âœ… allMatch() - å…¨éƒ¨åŒ¹é…</h3>
                <pre><code class="language-java">// ä¼ ç»Ÿå†™æ³• - éœ€è¦æ£€æŸ¥æ¯ä¸ªå…ƒç´ 
boolean allPassed = true;
for (Student student : students) {
    if (student.getScore() < 60) {
        allPassed = false;
        break;  // å‘ç°ä¸€ä¸ªä¸æ»¡è¶³çš„å°±åœæ­¢
    }
}

// Streamå†™æ³• - ä¼˜é›…çš„éªŒè¯
boolean allPassed = students.stream()
    .allMatch(student -> student.getScore() >= 60);

// æ›´å¤šallMatchåº”ç”¨
boolean allHaveValidEmail = students.stream()
    .allMatch(s -> s.getEmail() != null && s.getEmail().contains("@"));

boolean allAdults = students.stream()
    .allMatch(s -> s.getAge() >= 18);</code></pre>

                <h3>âŒ noneMatch() - å…¨éƒ¨ä¸åŒ¹é…</h3>
                <pre><code class="language-java">// ä¼ ç»Ÿå†™æ³• - æ£€æŸ¥æ˜¯å¦æ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„å…ƒç´ 
boolean noneFailed = true;
for (Student student : students) {
    if (student.getScore() < 60) {
        noneFailed = false;
        break;
    }
}

// Streamå†™æ³• - ç›´è§‚çš„è¡¨è¾¾
boolean noneFailed = students.stream()
    .noneMatch(student -> student.getScore() < 60);

// æ›´å¤šnoneMatchåº”ç”¨
boolean noneUnderAge = students.stream()
    .noneMatch(s -> s.getAge() < 16);

boolean noneHaveInvalidName = students.stream()
    .noneMatch(s -> s.getName() == null || s.getName().trim().isEmpty());</code></pre>

                <h3>ğŸ”„ åŒ¹é…æ“ä½œçš„ç»„åˆä½¿ç”¨</h3>
                <pre><code class="language-java">// åœºæ™¯ï¼šæ•°æ®éªŒè¯
public boolean validateStudentData(List&lt;Student&gt; students) {
    // æ£€æŸ¥æ˜¯å¦æœ‰å­¦ç”Ÿæ•°æ®
    if (students.isEmpty()) {
        return false;
    }

    // æ£€æŸ¥åŸºæœ¬è¦æ±‚
    boolean hasStudents = students.stream().anyMatch(Objects::nonNull);
    boolean allHaveNames = students.stream().allMatch(s -> s != null && s.getName() != null);
    boolean noneHaveNegativeAge = students.stream().noneMatch(s -> s != null && s.getAge() < 0);

    return hasStudents && allHaveNames && noneHaveNegativeAge;
}

// åœºæ™¯ï¼šæƒé™æ£€æŸ¥
public boolean canUserAccessSpecialContent(User user) {
    return user != null && (
        user.getRoles().stream().anyMatch(role -> "ADMIN".equals(role)) ||
        (user.getRoles().stream().allMatch(role -> role.startsWith("VIP_")) &&
         user.getRoles().stream().noneMatch(role -> "BANNED".equals(role)))
    );
}</code></pre>

                <h3>âš¡ æ€§èƒ½ç‰¹ç‚¹ï¼šçŸ­è·¯æ“ä½œ</h3>
                <pre><code class="language-java">// åŒ¹é…æ“ä½œéƒ½æ˜¯çŸ­è·¯çš„ï¼Œæ‰¾åˆ°ç»“æœç«‹å³è¿”å›
// anyMatch: æ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…çš„å°±è¿”å›true
boolean result1 = students.stream()
    .anyMatch(s -> {
        System.out.println("æ£€æŸ¥: " + s.getName());
        return s.getScore() > 95;
    });
// åªä¼šè¾“å‡ºåˆ°æ‰¾åˆ°ç¬¬ä¸€ä¸ª95åˆ†ä»¥ä¸Šçš„å­¦ç”Ÿ

// allMatch: æ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸åŒ¹é…çš„å°±è¿”å›false
boolean result2 = students.stream()
    .allMatch(s -> {
        System.out.println("æ£€æŸ¥: " + s.getName());
        return s.getScore() >= 60;
    });
// åªä¼šè¾“å‡ºåˆ°æ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸åŠæ ¼çš„å­¦ç”Ÿ

// noneMatch: æ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…çš„å°±è¿”å›false
boolean result3 = students.stream()
    .noneMatch(s -> {
        System.out.println("æ£€æŸ¥: " + s.getName());
        return s.getAge() < 16;
    });
// åªä¼šè¾“å‡ºåˆ°æ‰¾åˆ°ç¬¬ä¸€ä¸ªæœªæ»¡16å²çš„å­¦ç”Ÿ</code></pre>

                <div class="tip-box">
                    <strong>ğŸ’¡ ä½¿ç”¨å»ºè®®ï¼š</strong>
                    <ul>
                        <li><strong>anyMatch</strong>ï¼šæ£€æŸ¥"æ˜¯å¦å­˜åœ¨"ï¼Œé…åˆå¹¶è¡Œæµæ€§èƒ½æ›´å¥½</li>
                        <li><strong>allMatch</strong>ï¼šæ£€æŸ¥"å…¨éƒ¨æ»¡è¶³"ï¼Œé€‚åˆæ•°æ®éªŒè¯</li>
                        <li><strong>noneMatch</strong>ï¼šæ£€æŸ¥"å…¨éƒ¨ä¸æ»¡è¶³"ï¼Œæ¯” !anyMatch æ›´ç›´è§‚</li>
                        <li><strong>çŸ­è·¯ç‰¹æ€§</strong>ï¼šä¸éœ€è¦å¤„ç†æ‰€æœ‰å…ƒç´ ï¼Œæ€§èƒ½é«˜æ•ˆ</li>
                    </ul>
                </div>

                <h3>ğŸ¯ å®é™…åº”ç”¨åœºæ™¯</h3>
                <pre><code class="language-java">// æ•°æ®è´¨é‡æ£€æŸ¥
public boolean isDataValid(List&lt;Transaction&gt; transactions) {
    return transactions.stream()
        .allMatch(t -> t.getId() != null &&
                      t.getAmount() > 0 &&
                      t.getTimestamp() != null);
}

// ä¸šåŠ¡è§„åˆ™éªŒè¯
public boolean canApproveLoan(Application app) {
    return app.getCreditScore() > 650 &&
           app.getIncome() > 50000 &&
           app.getDebts().stream().noneMatch(Debt::isOverdue);
}

// é…ç½®æ£€æŸ¥
public boolean isConfigValid(Map&lt;String, String&gt; config) {
    List&lt;String&gt; requiredKeys = List.of("host", "port", "username", "password");
    return requiredKeys.stream().allMatch(config::containsKey) &&
           config.values().stream().noneMatch(String::isEmpty);
}</code></pre>

                <p class="conclusion"><strong>åŒ¹é…æ“ä½œæä¾›äº†ç®€æ´é«˜æ•ˆçš„æ¡ä»¶æ£€æŸ¥æ–¹å¼ï¼ŒçŸ­è·¯ç‰¹æ€§è®©å®ƒä»¬åœ¨å¤§æ•°æ®é‡å¤„ç†æ—¶æ€§èƒ½ä¼˜å¼‚ï¼</strong></p>
            </div>
        </section>


        <!-- Slide 15: Statistical Operations -->
        <!-- Slide: count() Operation -->
        <section class="slide">
            <div class="slide-content">
                <h2>[T] ç»Ÿè®¡:count()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">long count()</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">æ— å‚æ•°</span> - è¿”å›Streamä¸­çš„å…ƒç´ æ•°é‡</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">long</span> - Streamä¸­çš„å…ƒç´ æ€»æ•°ï¼Œå¦‚æœStreamä¸ºç©ºåˆ™è¿”å›0</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">countæ˜¯ç»ˆç«¯æ“ä½œï¼Œä¼šéå†æ•´ä¸ªStreamæ¥è®¡ç®—å…ƒç´ æ•°é‡ã€‚å¯¹äºå¤§å‹Streamæˆ–æ— é™Streamï¼Œå¯èƒ½éœ€è¦é…åˆlimit()ç­‰çŸ­è·¯æ“ä½œä½¿ç”¨ã€‚åœ¨å¹¶è¡ŒStreamä¸­æ€§èƒ½æ›´å¥½ã€‚</p>
                    </div>
                </div>
                <p><code>count()</code> æ˜¯ä¸€ä¸ªç»ˆç»“æ“ä½œï¼Œç”¨äºè¿”å› Stream ä¸­çš„å…ƒç´ æ€»æ•°ã€‚</p>
                <img src="images/10-stream-count.png" alt="count() æ“ä½œ" style="width: 100%; height: auto;">

                <h3>ğŸ”¢ count() - è®¡æ•°æ“ä½œ</h3>
                <pre><code class="language-java">// ä¼ ç»Ÿå†™æ³• - éœ€è¦è®¡æ•°å™¨
int adultCount = 0;
for (Student student : students) {
    if (student.getAge() >= 18) {
        adultCount++;
    }
}

// Streamå†™æ³• - ç®€æ´
long adultCount = students.stream()
    .filter(student -> student.getAge() >= 18)
    .count();

// åˆ†ç»„ç»Ÿè®¡ï¼šé…åˆ Collectors.counting()
Map&lt;String, Long&gt; countByGender = students.stream()
    .collect(Collectors.groupingBy(
        Student::getGender,
        Collectors.counting()
    ));</code></pre>

                <div class="tip-box">
                    <strong>ğŸ’¡ æ³¨æ„ï¼š</strong> <code>count()</code> è¿”å›çš„æ˜¯ <code>long</code> ç±»å‹ï¼Œä¸æ˜¯ <code>int</code>ã€‚
                </div>
            </div>
        </section>

        <!-- Slide: min() Operation -->
        <section class="slide">
            <div class="slide-content">
                <h2>[T] ç»Ÿè®¡:min() & max()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">Optional&lt;T&gt; min(Comparator&lt;? super T&gt; comparator)
Optional&lt;T&gt; max(Comparator&lt;? super T&gt; comparator)</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">Comparator&lt;? super T&gt;</span> <span class="param-name">comparator</span> - æ¯”è¾ƒå™¨ï¼Œç”¨äºå®šä¹‰å…ƒç´ çš„æ¯”è¾ƒè§„åˆ™</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">Optional&lt;T&gt;</span> - åŒ…å«æœ€å°/æœ€å¤§å€¼çš„Optionalï¼Œå¦‚æœStreamä¸ºç©ºåˆ™è¿”å›Optional.empty()</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">min/maxæ˜¯ç»ˆç«¯æ“ä½œï¼Œéœ€è¦æä¾›æ¯”è¾ƒå™¨ã€‚å¯¹äºæ•°å€¼ç±»å‹ï¼Œå»ºè®®ä½¿ç”¨ä¸“é—¨çš„æ•°å€¼Streamæ“ä½œã€‚å¦‚æœå…ƒç´ å·²ç»å®ç°Comparableæ¥å£ï¼Œå¯ä»¥ä½¿ç”¨Comparator.naturalOrder()ã€‚</p>
                    </div>
                </div>
                <p><code>min()</code> å’Œ <code>max()</code> æ ¹æ®æŒ‡å®šçš„æ¯”è¾ƒå™¨ï¼Œè¿”å› Stream ä¸­çš„æœ€å°å€¼æˆ–æœ€å¤§å€¼ï¼ˆåŒ…è£…åœ¨ Optional ä¸­ï¼‰ã€‚</p>
                <img src="images/10-stream-min.png" alt="min() æ“ä½œ" style="width: 100%; height: auto;">

                <h3>ğŸ“‰ min() - æŸ¥æ‰¾æœ€å°å€¼</h3>
                <pre><code class="language-java">// æŸ¥æ‰¾å¹´é¾„æœ€å°çš„å­¦ç”Ÿ
Optional&lt;Student&gt; youngestStudent = students.stream()
    .min(Comparator.comparing(Student::getAge));

// è·å–æœ€å°å¹´é¾„æ•°å€¼ (IntStream)
// mapToInt å°† Stream<Student> è½¬æ¢ä¸º IntStream
int minAge = students.stream()
    .mapToInt(Student::getAge)
    .min()
    .orElse(0); // å¦‚æœæµä¸ºç©ºï¼Œè¿”å›é»˜è®¤å€¼ 0</code></pre>

                <div class="tip-box">
                    <strong>ğŸ’¡ æŠ€å·§ï¼š</strong> ä½¿ç”¨ <code>mapToInt</code>/<code>mapToDouble</code> ç­‰è½¬ä¸ºåŸºæœ¬ç±»å‹æµåï¼Œ<code>min()</code> ä¼šè¿”å› <code>OptionalInt</code> ç­‰ç‰¹åŒ–ç±»å‹ã€‚
                </div>
            </div>
        </section>

        <!-- Slide: max() Operation -->
        <section class="slide">
            <div class="slide-content">
                <h2>[T] ç»Ÿè®¡:max()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">Optional&lt;T&gt; max(Comparator&lt;? super T&gt; comparator)</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">Comparator&lt;? super T&gt;</span> <span class="param-name">comparator</span> - æ¯”è¾ƒå™¨ï¼Œç”¨äºå®šä¹‰å…ƒç´ çš„æ¯”è¾ƒè§„åˆ™</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">Optional&lt;T&gt;</span> - åŒ…å«æœ€å¤§å€¼çš„Optionalï¼Œå¦‚æœStreamä¸ºç©ºåˆ™è¿”å›Optional.empty()</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">maxæ˜¯ç»ˆç«¯æ“ä½œï¼Œéœ€è¦æä¾›æ¯”è¾ƒå™¨ã€‚å¯¹äºæ•°å€¼ç±»å‹ï¼Œå»ºè®®ä½¿ç”¨ä¸“é—¨çš„æ•°å€¼Streamæ“ä½œã€‚å¦‚æœå…ƒç´ å·²ç»å®ç°Comparableæ¥å£ï¼Œå¯ä»¥ä½¿ç”¨Comparator.naturalOrder()ã€‚</p>
                    </div>
                </div>
                <p><code>max()</code> æ ¹æ®æŒ‡å®šçš„æ¯”è¾ƒå™¨ï¼Œè¿”å› Stream ä¸­çš„æœ€å¤§å€¼ï¼ˆåŒ…è£…åœ¨ Optional ä¸­ï¼‰ã€‚</p>
                <img src="images/10-stream-max.png" alt="max() æ“ä½œ" style="width: 100%; height: auto;">

                <h3>ğŸ“ˆ max() - æŸ¥æ‰¾æœ€å¤§å€¼</h3>
                <pre><code class="language-java">// æŸ¥æ‰¾åˆ†æ•°æœ€é«˜çš„å­¦ç”Ÿ
Optional&lt;Student&gt; topStudent = students.stream()
    .max(Comparator.comparing(Student::getScore));

// å¤æ‚åœºæ™¯ï¼šæŸ¥æ‰¾"å¤§å››"å­¦ç”Ÿä¸­åˆ†æ•°æœ€é«˜çš„
Optional&lt;Student&gt; bestSenior = students.stream()
    .filter(s -> "Senior".equals(s.getGrade()))
    .max(Comparator.comparing(Student::getScore));</code></pre>
            </div>
        </section>

        <!-- Slide: sum() Operation -->
        <section class="slide">
            <div class="slide-content">
                <h2>[T] ç»Ÿè®¡:sum()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">int sum()           // IntStream
long sum()          // LongStream
double sum()        // DoubleStream</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">æ— å‚æ•°</span> - ä»…é€‚ç”¨äºæ•°å€¼Stream (IntStream, LongStream, DoubleStream)</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">int/long/double</span> - Streamä¸­æ‰€æœ‰å…ƒç´ çš„å’Œï¼Œç©ºStreamè¿”å›å¯¹åº”ç±»å‹çš„é»˜è®¤å€¼</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">sumæ˜¯ç»ˆç«¯æ“ä½œï¼Œä¸“ç”¨äºæ•°å€¼Streamã€‚éœ€è¦é€šè¿‡mapToInt()ã€mapToLong()ã€mapToDouble()å°†å¯¹è±¡Streamè½¬æ¢ä¸ºæ•°å€¼Streamã€‚å¯¹äºå¤§æ•°å€¼è®¡ç®—è¦æ³¨æ„æº¢å‡ºé—®é¢˜ã€‚</p>
                    </div>
                </div>
                <p><code>sum()</code> ç”¨äºå¯¹æ•°å€¼æµï¼ˆIntStream, LongStream, DoubleStreamï¼‰ä¸­çš„å…ƒç´ æ±‚å’Œã€‚</p>
                <img src="images/10-stream-sum.png" alt="sum() æ“ä½œ" style="width: 100%; height: auto;">

                <h3>â• sum() - æ±‚å’Œè®¡ç®—</h3>
                <pre><code class="language-java">// ä¼ ç»Ÿå†™æ³•
double totalScore = 0;
for (Student s : students) {
    totalScore += s.getScore();
}

// Streamå†™æ³•
// æ³¨æ„ï¼šsum() ä»…åœ¨åŸºæœ¬ç±»å‹æµ(IntStreamç­‰)ä¸­å¯ç”¨
double totalScore = students.stream()
    .mapToDouble(Student::getScore)
    .sum();

// å¤æ‚æ±‚å’Œï¼šè®¡ç®—æ‰€æœ‰å•†å“çš„æŠ˜åæ€»ä»·
double totalValue = products.stream()
    .mapToDouble(p -> p.getPrice() * p.getDiscount())
    .sum();</code></pre>

                <div class="tip-box">
                    <strong>âš ï¸ è­¦å‘Šï¼š</strong> æ™®é€š <code>Stream&lt;T&gt;</code> æ²¡æœ‰ <code>sum()</code> æ–¹æ³•ï¼Œå¿…é¡»å…ˆé€šè¿‡ <code>mapToInt/mapToLong/mapToDouble</code> è½¬æ¢ã€‚
                </div>
            </div>
        </section>

        <!-- Slide: average() Operation -->
        <section class="slide">
            <div class="slide-content">
                <h2>[T] ç»Ÿè®¡:average()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">OptionalDouble average()    // IntStream, LongStream
OptionalDouble average()    // DoubleStream</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">æ— å‚æ•°</span> - ä»…é€‚ç”¨äºæ•°å€¼Stream (IntStream, LongStream, DoubleStream)</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">OptionalDouble</span> - åŒ…å«å¹³å‡å€¼çš„OptionalDoubleï¼Œç©ºStreamè¿”å›OptionalDouble.empty()</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">averageæ˜¯ç»ˆç«¯æ“ä½œï¼Œä¸“ç”¨äºæ•°å€¼Streamã€‚è¿”å›OptionalDoubleé¿å…ç©ºStreamå¼‚å¸¸ã€‚å¯ä»¥é…åˆorElse()æä¾›é»˜è®¤å€¼ã€‚å¯¹äºDoubleStreamè¦æ³¨æ„NaNå’Œæ— ç©·å€¼çš„å¤„ç†ã€‚</p>
                    </div>
                </div>
                <p><code>average()</code> ç”¨äºè®¡ç®—æ•°å€¼æµçš„å¹³å‡å€¼ï¼Œç»“æœåŒ…è£…åœ¨ OptionalDouble ä¸­ã€‚</p>

                <h3>â— average() - è®¡ç®—å¹³å‡å€¼</h3>
                <pre><code class="language-java">// è®¡ç®—å¹³å‡åˆ†
double averageScore = students.stream()
    .mapToDouble(Student::getScore)
    .average()     // è¿”å› OptionalDouble
    .orElse(0.0);  // å¤„ç†ç©ºæµçš„æƒ…å†µ

// ç»¼åˆç»Ÿè®¡ä¿¡æ¯ (ä¸€æ¬¡æ€§è·å– count, sum, min, max, average)
IntSummaryStatistics stats = students.stream()
    .mapToInt(Student::getAge)
    .summaryStatistics();

System.out.println("å¹³å‡å¹´é¾„: " + stats.getAverage());
System.out.println("æœ€å¤§å¹´é¾„: " + stats.getMax());
System.out.println("æ€»äººæ•°: " + stats.getCount());</code></pre>

                <div class="tip-box">
                     <strong>ğŸ’¡ æ¨èï¼š</strong> å¦‚æœéœ€è¦åŒæ—¶è®¡ç®—æœ€å¤§ã€æœ€å°ã€å¹³å‡å€¼ï¼Œè¯·ä½¿ç”¨ <code>summaryStatistics()</code>ï¼Œåªéœ€éå†ä¸€æ¬¡æµï¼Œæ€§èƒ½æ›´ä¼˜ï¼
                </div>
            </div>
        </section>


        <!-- Slide 17: Reduction Operations -->
        <section class="slide">
            <div class="slide-content">
                <h2>[T] è§„çº¦:reduce()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">Optional&lt;T&gt; reduce(BinaryOperator&lt;T&gt; accumulator)
T reduce(T identity, BinaryOperator&lt;T&gt; accumulator)
&lt;U&gt; U reduce(U identity, BiFunction&lt;U, ? super T, U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">T</span> <span class="param-name">identity</span> - åˆå§‹å€¼ï¼Œç”¨äºç¬¬ä¸€æ¬¡ç´¯åŠ æ“ä½œ</li>
                            <li><span class="param-type">BinaryOperator&lt;T&gt;</span> <span class="param-name">accumulator</span> - ç´¯åŠ å™¨å‡½æ•°ï¼Œå®šä¹‰å¦‚ä½•ç»„åˆä¸¤ä¸ªå…ƒç´ </li>
                            <li><span class="param-type">BiFunction&lt;U, ? super T, U&gt;</span> <span class="param-name">accumulator</span> - è½¬æ¢ç´¯åŠ å™¨ï¼Œç”¨äºç±»å‹è½¬æ¢åœºæ™¯</li>
                            <li><span class="param-type">BinaryOperator&lt;U&gt;</span> <span class="param-name">combiner</span> - åˆå¹¶å™¨å‡½æ•°ï¼Œç”¨äºå¹¶è¡ŒStreamçš„ç»“æœåˆå¹¶</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">Optional&lt;T&gt;/T/U</span> - è§„çº¦ç»“æœï¼šæ— åˆå§‹å€¼æ—¶è¿”å›Optionalï¼Œæœ‰åˆå§‹å€¼æ—¶è¿”å›å…·ä½“ç±»å‹</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">reduceæ˜¯æœ€çµæ´»çš„ç»ˆç«¯æ“ä½œï¼Œå¯ç”¨äºæ±‚å’Œã€æ±‚ç§¯ã€å­—ç¬¦ä¸²æ‹¼æ¥ç­‰ä»»æ„èšåˆæ“ä½œã€‚æœ‰åˆå§‹å€¼çš„ç‰ˆæœ¬æ›´å®‰å…¨ã€‚åœ¨å¹¶è¡ŒStreamä¸­ï¼Œcombinerå‡½æ•°ç”¨äºåˆå¹¶å„çº¿ç¨‹çš„å±€éƒ¨ç»“æœã€‚</p>
                    </div>
                </div>
                <p>reduce() æ“ä½œç”¨äºå°†Streamä¸­çš„å…ƒç´ æŒ‰ç…§æŒ‡å®šçš„è§„åˆ™"è§„çº¦"æˆä¸€ä¸ªå€¼ï¼Œæ˜¯æœ€çµæ´»çš„èšåˆæ“ä½œã€‚</p>
                <img src="images/10-stream-reduce.png" alt="reduce() æ“ä½œ" style="width: 100%; height: auto;">

                <h3>ğŸ”„ åŸºç¡€reduce() - æ±‚å’Œç¤ºä¾‹</h3>
                <pre><code class="language-java">// ä¼ ç»Ÿå†™æ³• - æ˜¾å¼ç´¯åŠ 
double totalScore = 0;
for (Student student : students) {
    totalScore += student.getScore();
}

// Streamå†™æ³• - reduce()è§„çº¦
Optional&lt;Double&gt; totalScore = students.stream()
    .map(Student::getScore)
    .reduce((score1, score2) -> score1 + score2);

// å¸¦åˆå§‹å€¼çš„reduce() - é¿å…Optional
double totalScoreWithInit = students.stream()
    .map(Student::getScore)
    .reduce(0.0, Double::sum);

// ä½¿ç”¨æ–¹æ³•å¼•ç”¨æ›´ç®€æ´
double totalScoreMethodRef = students.stream()
    .map(Student::getScore)
    .reduce(0.0, Double::sum);</code></pre>

                <h3>âš™ï¸ è‡ªå®šä¹‰è§„çº¦é€»è¾‘</h3>
                <pre><code class="language-java">// æ‰¾å‡ºæœ€é«˜åˆ†çš„å­¦ç”Ÿ
Optional&lt;Student&gt; topStudent = students.stream()
    .reduce((s1, s2) -> s1.getScore() > s2.getScore() ? s1 : s2);

// å­—ç¬¦ä¸²æ‹¼æ¥ - ä¼ ç»Ÿæ–¹å¼
String allNames1 = students.stream()
    .map(Student::getName)
    .reduce("", (name1, name2) -> name1 + ", " + name2);

// å­—ç¬¦ä¸²æ‹¼æ¥ - æ›´ä¼˜é›…çš„æ–¹å¼
String allNames2 = students.stream()
    .map(Student::getName)
    .collect(Collectors.joining(", "));

// å¤æ‚å¯¹è±¡è§„çº¦ - è®¡ç®—åŠ æƒå¹³å‡
WeightedAverageResult weightedAvg = students.stream()
    .reduce(
        new WeightedAverageResult(0.0, 0.0),  // åˆå§‹å€¼
        (result, student) -> new WeightedAverageResult(
            result.totalScore + student.getScore() * student.getCredit(),
            result.totalCredit + student.getCredit()
        ),
        (result1, result2) -> new WeightedAverageResult(
            result1.totalScore + result2.totalScore,
            result1.totalCredit + result2.totalCredit
        )
    );</code></pre>

                <h3>ğŸ¯ reduce() vs collect() çš„é€‰æ‹©</h3>
                <pre><code class="language-java">// reduce() - è¿”å›å•ä¸€å€¼ï¼Œé€‚åˆèšåˆæ“ä½œ
Integer maxValue = numbers.stream()
    .reduce(Integer::max)
    .orElse(0);

// collect() - è¿”å›é›†åˆï¼Œé€‚åˆæ”¶é›†æ“ä½œ
List&lt;Integer&gt; positiveNumbers = numbers.stream()
    .filter(n -> n > 0)
    .collect(Collectors.toList());

// reduce() - è‡ªå®šä¹‰èšåˆé€»è¾‘
String concatenated = words.stream()
    .reduce("", String::concat);

// collect() - æ ‡å‡†æ”¶é›†æ“ä½œ
List&lt;String&gt; wordList = words.stream()
    .collect(Collectors.toList());</code></pre>

                <h3>âš¡ æ€§èƒ½è€ƒè™‘ï¼š</h3>
                <ul>
                    <li><strong>å¹¶è¡Œå®‰å…¨</strong>ï¼šreduce()éœ€è¦æ»¡è¶³ç»“åˆå¾‹æ‰èƒ½å®‰å…¨å¹¶è¡Œæ‰§è¡Œ</li>
                    <li><strong>åˆå§‹å€¼é€‰æ‹©</strong>ï¼šå¸¦åˆå§‹å€¼çš„reduce()å¯ä»¥é¿å…Optionalå¤„ç†</li>
                    <li><strong>èº«ä»½å…ƒç´ </strong>ï¼šåˆå§‹å€¼åº”è¯¥æ˜¯æ“ä½œçš„èº«ä»½å…ƒç´ ï¼ˆå¦‚åŠ æ³•çš„0ã€ä¹˜æ³•çš„1ï¼‰</li>
                    <li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šå¯¹äºç®€å•èšåˆï¼Œä¼˜å…ˆä½¿ç”¨ä¸“é—¨çš„ç»Ÿè®¡æ–¹æ³•ï¼ˆsumã€countç­‰ï¼‰</li>
                </ul>

                <p class="conclusion"><strong>reduce() æ˜¯Streamä¸­æœ€å¼ºå¤§çš„èšåˆæ“ä½œï¼Œå¯ä»¥å®ç°ä»»ä½•è‡ªå®šä¹‰çš„èšåˆé€»è¾‘ï¼</strong></p>
            </div>
        </section>



        <!-- Slide 19: Collection Operations -->
        <section class="slide">
            <div class="slide-content">
                <h2>[T] æ”¶é›†:collect()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">&lt;R, A&gt; R collect(Collector&lt;? super T, A, R&gt; collector)
&lt;R&gt; R collect(Supplier&lt;R&gt; supplier, BiConsumer&lt;R, ? super T&gt; accumulator, BiConsumer&lt;R, R&gt; combiner)</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">Collector&lt;? super T, A, R&gt;</span> <span class="param-name">collector</span> - æ”¶é›†å™¨ï¼Œå®šä¹‰å¦‚ä½•æ”¶é›†å…ƒç´ åˆ°ç»“æœå®¹å™¨ä¸­</li>
                            <li><span class="param-type">Supplier&lt;R&gt;</span> <span class="param-name">supplier</span> - ç»“æœå®¹å™¨çš„å·¥å‚æ–¹æ³•</li>
                            <li><span class="param-type">BiConsumer&lt;R, ? super T&gt;</span> <span class="param-name">accumulator</span> - ç´¯åŠ å™¨ï¼Œå®šä¹‰å¦‚ä½•å°†å…ƒç´ æ·»åŠ åˆ°å®¹å™¨ä¸­</li>
                            <li><span class="param-type">BiConsumer&lt;R, R&gt;</span> <span class="param-name">combiner</span> - åˆå¹¶å™¨ï¼Œç”¨äºå¹¶è¡ŒStreamæ—¶åˆå¹¶ä¸¤ä¸ªå®¹å™¨</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">R</span> - æ”¶é›†ç»“æœï¼Œå¯ä»¥æ˜¯Listã€Setã€Mapæˆ–ä»»æ„è‡ªå®šä¹‰ç±»å‹</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">collectæ˜¯æœ€çµæ´»çš„ç»ˆç«¯æ“ä½œï¼ŒCollectorsç±»æä¾›äº†ä¸°å¯Œçš„é¢„å®šä¹‰æ”¶é›†å™¨ã€‚å¸¸ç”¨åœºæ™¯ï¼štoList()ã€toSet()ã€toMap()ã€groupingBy()ã€partitioningBy()ç­‰ã€‚è‡ªå®šä¹‰æ”¶é›†å™¨å¯ä»¥å®ç°å¤æ‚çš„æ•°æ®è½¬æ¢éœ€æ±‚ã€‚</p>
                    </div>
                </div>
                <p>collect() æ˜¯Streamçš„ç»ˆç«¯æ“ä½œï¼Œç”¨äºå°†Streamä¸­çš„å…ƒç´ æ”¶é›†åˆ°å®¹å™¨ä¸­ï¼Œæ˜¯æœ€çµæ´»çš„ç»“æœæ”¶é›†æ–¹å¼ã€‚</p>
                <img src="images/10-stream-collect.png" alt="collect() æ“ä½œ" style="width: 100%; height: auto;">

                <h3>ğŸ“¦ åŸºç¡€æ”¶é›†æ“ä½œ</h3>
                <pre><code class="language-java">// æ”¶é›†åˆ°List
List&lt;Student&gt; studentList = students.stream()
    .filter(s -> s.getAge() >= 18)
    .collect(Collectors.toList());

// æ”¶é›†åˆ°Setï¼ˆè‡ªåŠ¨å»é‡ï¼‰
Set&lt;String&gt; uniqueNames = students.stream()
    .map(Student::getName)
    .collect(Collectors.toSet());

// æ”¶é›†åˆ°å…·ä½“é›†åˆç±»å‹
ArrayList&lt;Student&gt; arrayList = students.stream()
    .filter(s -> s.getScore() > 80)
    .collect(Collectors.toCollection(ArrayList::new));

// æ”¶é›†åˆ°Map - ç®€å•æ˜ å°„
Map&lt;Integer, Student&gt; studentMap = students.stream()
    .collect(Collectors.toMap(
        Student::getId,      // key mapper
        student -> student   // value mapper
    ));

// æ”¶é›†åˆ°Map - å¤„ç†é‡å¤é”®
Map&lt;String, Student&gt; nameToStudent = students.stream()
    .collect(Collectors.toMap(
        Student::getName,           // key mapper
        student -> student,         // value mapper
        (existing, replacement) -> existing  // åˆå¹¶å‡½æ•°ï¼šä¿ç•™ç°æœ‰å€¼
    ));</code></pre>

                <h3>ğŸ“Š åˆ†ç»„æ“ä½œ - groupingBy()</h3>
                <pre><code class="language-java">// æŒ‰ä¸“ä¸šåˆ†ç»„
Map&lt;String, List&lt;Student&gt;&gt; studentsByMajor = students.stream()
    .collect(Collectors.groupingBy(Student::getMajor));

// åˆ†ç»„å¹¶ç»Ÿè®¡æ¯ç»„æ•°é‡
Map&lt;String, Long&gt; countByMajor = students.stream()
    .collect(Collectors.groupingBy(
        Student::getMajor,
        Collectors.counting()
    ));

// åˆ†ç»„å¹¶è®¡ç®—å¹³å‡æˆç»©
Map&lt;String, Double&gt; avgScoreByMajor = students.stream()
    .collect(Collectors.groupingBy(
        Student::getMajor,
        Collectors.averagingDouble(Student::getScore)
    ));

// å¤šçº§åˆ†ç»„
Map&lt;String, Map&lt;String, List&lt;Student&gt;&gt;&gt; multiLevelGroup = students.stream()
    .collect(Collectors.groupingBy(
        Student::getMajor,                    // ä¸€çº§åˆ†ç»„ï¼šä¸“ä¸š
        Collectors.groupingBy(student -> {   // äºŒçº§åˆ†ç»„ï¼šå¹´é¾„æ®µ
            int age = student.getAge();
            if (age < 18) return "æœªæˆå¹´";
            else if (age < 25) return "é’å¹´";
            else return "æˆå¹´";
        })
    ));</code></pre>

                <h3>âœ‚ï¸ åˆ†åŒºæ“ä½œ - partitioningBy()</h3>
                <pre><code class="language-java">// æŒ‰æ˜¯å¦æˆå¹´åˆ†åŒºï¼ˆåªè¿”å›true/falseä¸¤ä¸ªç»„ï¼‰
Map&lt;Boolean, List&lt;Student&gt;&gt; byAdult = students.stream()
    .collect(Collectors.partitioningBy(
        student -> student.getAge() >= 18
    ));

// åˆ†åŒºå¹¶è¿›è¡Œè¿›ä¸€æ­¥æ”¶é›†
Map&lt;Boolean, String&gt; namesByAdult = students.stream()
    .collect(Collectors.partitioningBy(
        student -> student.getAge() >= 18,
        Collectors.mapping(
            Student::getName,
            Collectors.joining(", ")
        )
    ));</code></pre>

                <h3>ğŸ¯ é«˜çº§æ”¶é›†æ“ä½œ</h3>
                <pre><code class="language-java">// æ”¶é›†ç»Ÿè®¡ä¿¡æ¯
IntSummaryStatistics ageStats = students.stream()
    .collect(Collectors.summarizingInt(Student::getAge));

// æŒ‰æ¡ä»¶æ”¶é›†ï¼ˆç±»ä¼¼SQLçš„CASE WHENï¼‰
Map&lt;String, List&lt;Student&gt;&gt; scoreCategories = students.stream()
    .collect(Collectors.groupingBy(student -> {
        double score = student.getScore();
        if (score >= 90) return "ä¼˜ç§€";
        else if (score >= 80) return "è‰¯å¥½";
        else if (score >= 70) return "ä¸­ç­‰";
        else if (score >= 60) return "åŠæ ¼";
        else return "ä¸åŠæ ¼";
    }));

// è‡ªå®šä¹‰æ”¶é›†å™¨
String result = students.stream()
    .collect(CustomCollector.toCustomString());</code></pre>

                <h3>ğŸ’¡ å®é™…åº”ç”¨åœºæ™¯ï¼š</h3>
                <ul>
                    <li><strong>æ•°æ®æŠ¥è¡¨</strong>ï¼šåˆ†ç»„ç»Ÿè®¡ã€æ±‡æ€»è®¡ç®—</li>
                    <li><strong>æ•°æ®è½¬æ¢</strong>ï¼šListåˆ°Mapã€Setç­‰å®¹å™¨è½¬æ¢</li>
                    <li><strong>æ•°æ®åˆ†æ</strong>ï¼šæŒ‰å¤šç»´åº¦åˆ†ç±»ç»Ÿè®¡</li>
                    <li><strong>ç»“æœå°è£…</strong>ï¼šå°†Streamç»“æœè½¬æ¢ä¸ºä¸šåŠ¡å¯¹è±¡</li>
                </ul>
            </div>
        </section>

        <!-- Slide: toArray() Operation -->
        <section class="slide">
            <div class="slide-content">
                <h2>[T] æ•°ç»„è½¬æ¢:toArray()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">Object[] toArray()
&lt;A&gt; A[] toArray(IntFunction&lt;A[]&gt; generator)</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">IntFunction&lt;A[]&gt;</span> <span class="param-name">generator</span> - æ•°ç»„å·¥å‚å‡½æ•°ï¼Œæ ¹æ®æ•°ç»„é•¿åº¦åˆ›å»ºç›®æ ‡ç±»å‹çš„æ•°ç»„</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">Object[] / A[]</span> - åŒ…å«Streamæ‰€æœ‰å…ƒç´ çš„æ•°ç»„</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">toArrayæ˜¯ç»ˆç«¯æ“ä½œã€‚æ— å‚ç‰ˆæœ¬è¿”å›Object[]ï¼Œéœ€è¦å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼›æœ‰å‚ç‰ˆæœ¬å¯è¿”å›æŒ‡å®šç±»å‹çš„æ•°ç»„ï¼Œæ›´å®‰å…¨ã€‚é€‚ç”¨äºéœ€è¦ä¸æ•°ç»„APIäº¤äº’ã€æ€§èƒ½ä¼˜åŒ–ç­‰åœºæ™¯ã€‚</p>
                    </div>
                </div>
                <p><code>toArray()</code> æ˜¯ä¸€ä¸ªç»ˆç«¯æ“ä½œï¼Œç”¨äºå°†Streamè½¬æ¢ä¸ºæ•°ç»„ã€‚è¿™åœ¨éœ€è¦ä¸ä½¿ç”¨æ•°ç»„çš„è€ä»£ç é›†æˆæ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚</p>

                <h3>ğŸ”„ åŸºç¡€toArray() - è½¬æ¢ä¸ºObjectæ•°ç»„</h3>
                <pre><code class="language-java">// ä¼ ç»Ÿå†™æ³• - éœ€è¦æ‰‹åŠ¨åˆ›å»ºæ•°ç»„
List&lt;Student&gt; students = getStudents();
Student[] array = new Student[students.size()];
for (int i = 0; i < students.size(); i++) {
    array[i] = students.get(i);
}

// Streamå†™æ³• - ç®€æ´è½¬æ¢
Object[] objectArray = students.stream()
    .toArray();  // è¿”å› Object[]

// æ³¨æ„ï¼šç›´æ¥è°ƒç”¨toArray()è¿”å›çš„æ˜¯Object[]ç±»å‹
Object[] names = students.stream()
    .map(Student::getName)
    .toArray();
// ç»“æœï¼šObject[] containing String objects</code></pre>

                <h3>ğŸ¯ æŒ‡å®šç±»å‹æ•°ç»„ - toArray(IntFunction)</h3>
                <pre><code class="language-java">// è½¬æ¢ä¸ºæŒ‡å®šç±»å‹çš„æ•°ç»„
Student[] studentArray = students.stream()
    .toArray(Student[]::new);

// ä¼ ç»Ÿæ–¹å¼éœ€è¦é¢å¤–è½¬æ¢
// Object[] objArray = students.stream().toArray();
// Student[] studentArray = Arrays.copyOf(objArray, objArray.length, Student[].class);

// å­—ç¬¦ä¸²æ•°ç»„ç¤ºä¾‹
String[] nameArray = students.stream()
    .map(Student::getName)
    .toArray(String[]::new);

// åŸºæœ¬ç±»å‹æ•°ç»„éœ€è¦é€šè¿‡åŸºæœ¬ç±»å‹Stream
int[] ageArray = students.stream()
    .mapToInt(Student::getAge)
    .toArray();  // IntStream.toArray() è¿”å› int[]

double[] scoreArray = students.stream()
    .mapToDouble(Student::getScore)
    .toArray();  // DoubleStream.toArray() è¿”å› double[]</code></pre>

                <h3>ğŸ’¡ å®é™…åº”ç”¨åœºæ™¯</h3>
                <pre><code class="language-java">// åœºæ™¯1ï¼šä¸æ•°ç»„APIé›†æˆ
// æŸäº›è€APIåªæ¥å—æ•°ç»„å‚æ•°
Arrays.sort(students.stream()
    .filter(Student::isActive)
    .toArray(Student[]::new));

// åœºæ™¯2ï¼šå¯å˜å‚æ•°æ–¹æ³•è°ƒç”¨
public void processStudents(Student... students) {
    // å¤„ç†å­¦ç”Ÿæ•°ç»„
}

// è°ƒç”¨æ–¹æ³•
processStudents(students.stream()
    .filter(s -> s.getScore() >= 80)
    .toArray(Student[]::new));

// åœºæ™¯3ï¼šåå°„è°ƒç”¨
Method method = clazz.getMethod("setStudents", Student[].class);
method.invoke(obj, students.stream()
    .toArray(Student[]::new));</code></pre>

                <h3>âš¡ æ€§èƒ½è€ƒè™‘</h3>
                <pre><code class="language-java">// æ€§èƒ½å¯¹æ¯”ï¼štoArray vs ArrayList.toArray
List&lt;Student&gt; students = getLargeStudentList();

// æ–¹å¼1ï¼šå…ˆcollectå†toArray
long start1 = System.currentTimeMillis();
Student[] array1 = students.stream()
    .filter(Student::isActive)
    .collect(Collectors.toList())
    .toArray(new Student[0]);
long time1 = System.currentTimeMillis() - start1;

// æ–¹å¼2ï¼šç›´æ¥toArray
long start2 = System.currentTimeMillis();
Student[] array2 = students.stream()
    .filter(Student::isActive)
    .toArray(Student[]::new);
long time2 = System.currentTimeMillis() - start2;

// æ–¹å¼3ï¼štoArray(é•¿åº¦ä¸º0çš„æ•°ç»„) - JVMä¼˜åŒ–
Student[] array3 = students.stream()
    .filter(Student::isActive)
    .toArray(Student[]::new);  // æ¨èï¼šJVMä¼šä¼˜åŒ–æ•°ç»„å¤§å°

// æ–¹å¼4ï¼štoArray(é¢„åˆ†é…å¤§å°) - é€‚ç”¨äºçŸ¥é“ç¡®åˆ‡å¤§å°
List&lt;Student&gt; filtered = students.stream()
    .filter(Student::isActive)
    .collect(Collectors.toList());
Student[] array4 = filtered.toArray(new Student[filtered.size()]);</code></pre>

                <h3>ğŸ”§ é«˜çº§ç”¨æ³•</h3>
                <pre><code class="language-java">// å¤æ‚æ•°ç»„è½¬æ¢
// åœºæ™¯ï¼šå°†å­¦ç”Ÿè½¬æ¢ä¸ºå­¦ç”ŸDTOæ•°ç»„
StudentDTO[] dtoArray = students.stream()
    .map(student -> {
        StudentDTO dto = new StudentDTO();
        dto.setName(student.getName());
        dto.setAge(student.getAge());
        dto.setScore(student.getScore());
        return dto;
    })
    .toArray(StudentDTO[]::new);

// å¤šç»´æ•°ç»„åˆ›å»º
// åˆ›å»ºå­¦ç”Ÿå§“åå’Œæˆç»©çš„äºŒç»´æ•°ç»„
String[][] nameScorePairs = students.stream()
    .map(student -> new String[]{
        student.getName(),
        String.valueOf(student.getScore())
    })
    .toArray(String[][]::new);

// æ•°ç»„ä¸æµçš„ç›¸äº’è½¬æ¢
public static &lt;T&gt; Stream&lt;T&gt; arrayToStream(T[] array) {
    return Arrays.stream(array);
}

public static &lt;T&gt; T[] streamToArray(Stream&lt;T&gt; stream, Class&lt;T&gt; clazz) {
    return stream.toArray(size -> (T[]) Array.newInstance(clazz, size));
}</code></pre>

                <h3>âš ï¸ æ³¨æ„äº‹é¡¹å’Œæœ€ä½³å®è·µ</h3>
                <pre><code class="language-java">// âœ… æ¨èï¼šä½¿ç”¨æ–¹æ³•å¼•ç”¨æŒ‡å®šæ•°ç»„ç±»å‹
String[] names = nameList.stream()
    .toArray(String[]::new);

// âŒ é¿å…ï¼šç›´æ¥ä½¿ç”¨toArray()åå¼ºåˆ¶è½¬æ¢
Object[] objects = nameList.stream().toArray();
String[] names2 = (String[]) objects;  // å¯èƒ½æŠ›å‡ºClassCastException

// âœ… æ¨èï¼šåŸºæœ¬ç±»å‹ä½¿ç”¨ä¸“é—¨çš„æ–¹æ³•
int[] ages = students.stream()
    .mapToInt(Student::getAge)
    .toArray();

// âœ… æ¨èï¼šå·²çŸ¥å¤§å°æ—¶å¯ä»¥ä¼˜åŒ–
List&lt;Student&gt; filtered = students.stream()
    .filter(Student::isActive)
    .collect(Collectors.toList());
Student[] array = filtered.toArray(new Student[filtered.size()]);

// ğŸ’¡ å°æŠ€å·§ï¼šç©ºæ•°ç»„çš„å¤„ç†
Student[] array = students.stream()
    .filter(Student::isActive)
    .toArray(Student[]::new);
// å¦‚æœæ²¡æœ‰å…ƒç´ ï¼Œä¼šè¿”å›é•¿åº¦ä¸º0çš„æ•°ç»„ï¼Œä¸ä¼šè¿”å›null</code></pre>

                <div class="tip-box">
                    <strong>ğŸ’¡ ä½¿ç”¨å»ºè®®ï¼š</strong>
                    <ul>
                        <li><strong>ç±»å‹å®‰å…¨</strong>ï¼šä½¿ç”¨ <code>toArray(T[]::new)</code> è€Œéå¼ºåˆ¶è½¬æ¢</li>
                        <li><strong>åŸºæœ¬ç±»å‹</strong>ï¼šä½¿ç”¨ <code>mapToInt</code> ç­‰æ–¹æ³•è½¬æ¢ä¸ºåŸºæœ¬ç±»å‹æµ</li>
                        <li><strong>æ€§èƒ½</strong>ï¼šç›´æ¥è°ƒç”¨ <code>toArray()</code> æ¯”å…ˆcollectå†è½¬æ¢æ›´é«˜æ•ˆ</li>
                        <li><strong>ç©ºæ•°ç»„</strong>ï¼š<code>toArray()</code> æ°¸è¿œè¿”å›æ•°ç»„ï¼ˆå¯èƒ½æ˜¯ç©ºæ•°ç»„ï¼‰ï¼Œä»ä¸è¿”å›null</li>
                    </ul>
                </div>

                <p class="conclusion"><strong>toArray() æä¾›äº†Streamåˆ°æ•°ç»„çš„æ— ç¼è½¬æ¢ï¼Œæ˜¯è¿æ¥å‡½æ•°å¼ç¼–ç¨‹å’Œä¼ ç»Ÿæ•°ç»„ç¼–ç¨‹çš„æ¡¥æ¢ï¼</strong></p>
            </div>
        </section>


        <!-- Slide: Combination Operations -->
        <section class="slide">
            <div class="slide-content">
                <h2>ç»„åˆ:concat()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">static &lt;T&gt; Stream&lt;T&gt; concat(Stream&lt;? extends T&gt; a, Stream&lt;? extends T&gt; b)</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">Stream&lt;? extends T&gt;</span> <span class="param-name">a</span> - ç¬¬ä¸€ä¸ªè¦åˆå¹¶çš„Stream</li>
                            <li><span class="param-type">Stream&lt;? extends T&gt;</span> <span class="param-name">b</span> - ç¬¬äºŒä¸ªè¦åˆå¹¶çš„Stream</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">Stream&lt;T&gt;</span> - åŒ…å«ä¸¤ä¸ªStreamæ‰€æœ‰å…ƒç´ çš„æ–°Streamï¼Œä¿æŒåŸå§‹é¡ºåº</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">concatæ˜¯é™æ€æ–¹æ³•ï¼Œç”¨äºæ‡’è¿æ¥ä¸¤ä¸ªStreamã€‚è¿æ¥åçš„Streamä¼šåŒ…å«æ‰€æœ‰å…ƒç´ ï¼Œå…ˆå¤„ç†ç¬¬ä¸€ä¸ªStreamçš„æ‰€æœ‰å…ƒç´ ï¼Œå†å¤„ç†ç¬¬äºŒä¸ªStreamã€‚å¯¹äºå¤§å‹Streamï¼Œå¯èƒ½å½±å“æ€§èƒ½ã€‚</p>
                    </div>
                </div>
                <p>Streamçš„ç»„åˆæ“ä½œå¯ä»¥å°†å¤šä¸ªæµåˆå¹¶ä¸ºä¸€ä¸ªæµï¼Œæ–¹ä¾¿ç»Ÿä¸€å¤„ç†ã€‚</p>
                <img src="images/10-stream-concat.png" alt="concat() æ“ä½œ" style="width: 100%; height: auto;">
                <h3>ğŸ”— concat() - æµåˆå¹¶æ“ä½œ</h3>
                <pre><code class="language-java">// ä¼ ç»Ÿå†™æ³• - éœ€è¦æ‰‹åŠ¨åˆå¹¶é›†åˆ
List&lt;Student&gt; allStudents = new ArrayList&lt;&gt;(undergraduates);
allStudents.addAll(graduateStudents);
allStudents.addAll(exchangeStudents);

// Streamå†™æ³• - æµåˆå¹¶
Stream&lt;Student&gt; allStudentStream = Stream.concat(
    Stream.concat(undergraduates.stream(), graduateStudents.stream()),
    exchangeStudents.stream()
);

// å¤šä¸ªæµåˆå¹¶
Stream&lt;Student&gt; mergedStream = Stream.of(
        undergraduates.stream(),
        graduateStudents.stream(),
        exchangeStudents.stream()
    )
    .flatMap(Function.identity());  // æ‰å¹³åŒ–åˆå¹¶

// åˆå¹¶åè¿›è¡Œç»Ÿä¸€å¤„ç†
List&lt;String&gt; allStudentNames = Stream.concat(
    undergraduates.stream(),
    graduateStudents.stream()
)
.filter(student -> student.isActive())  // ç»Ÿä¸€ç­›é€‰
.map(Student::getName)               // ç»Ÿä¸€æ˜ å°„
.collect(Collectors.toList());        // ç»Ÿä¸€æ”¶é›†</code></pre>

                <div class="tip-box">
                    <strong>ğŸ’¡ æç¤ºï¼š</strong> <code>Stream.concat</code> æ˜¯æƒ°æ€§æ±‚å€¼çš„ï¼Œåªæœ‰åœ¨ç»ˆç«¯æ“ä½œæ‰§è¡Œæ—¶æ‰ä¼šçœŸæ­£åˆå¹¶ã€‚
                </div>
            </div>
        </section>

        <!-- Slide: Parallel Operations -->
        <section class="slide">
            <div class="slide-content">
                <h2>å¹¶è¡Œæ“ä½œ:parallel()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">Stream&lt;T&gt; parallel()
Stream&lt;T&gt; sequential()
boolean isParallel()</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">æ— å‚æ•°</span> - parallel()è½¬æ¢ä¸ºå¹¶è¡ŒStreamï¼Œsequential()è½¬æ¢å›é¡ºåºStreamï¼ŒisParallel()æ£€æŸ¥æ˜¯å¦å¹¶è¡Œ</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">Stream&lt;T&gt;/boolean</span> - parallel/sequentialè¿”å›æ–°çš„Streamï¼ŒisParallelè¿”å›å½“å‰å¹¶è¡ŒçŠ¶æ€</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">parallel()é€‚åˆCPUå¯†é›†å‹æ“ä½œå’Œå¤§æ•°æ®é›†ã€‚è¦æ±‚æ•°æ®æºå¯åˆ†å‰²ã€æ“ä½œæ— çŠ¶æ€ã€æ— ä¾èµ–ã€‚å¹¶è¡Œæ“ä½œå¯èƒ½æ”¹å˜å…ƒç´ å¤„ç†é¡ºåºï¼Œå¯èƒ½å½±å“æ’åºå’Œæœ‰åºæ€§ã€‚</p>
                    </div>
                </div>
                <p>Stream API æä¾›äº†æå…¶ç®€å•çš„å¹¶è¡Œå¤„ç†èƒ½åŠ›ï¼Œå……åˆ†åˆ©ç”¨å¤šæ ¸ CPU æå‡æ€§èƒ½ã€‚</p>
                <img src="images/10-stream-parallel.png" alt="parallel() æ“ä½œ" style="width: 100%; height: auto;">

                <h3>parallel() - å¹¶è¡Œå¤„ç†</h3>
                <p>é»˜è®¤å¹¶è¡Œè·¯æ•° ï¼šé€šå¸¸ç­‰äº <code>Runtime.getRuntime().availableProcessors() - 1</code></p>
                <p>ä¾‹å¦‚ï¼Œåœ¨8æ ¸å¿ƒCPUä¸Šï¼Œé»˜è®¤å¹¶è¡Œè·¯æ•°ä¸º7ã€‚</p>
                <pre><code class="language-java">// ä¸²è¡Œå¤„ç†ï¼ˆé»˜è®¤ï¼‰
List&lt;Student&gt; result1 = students.stream()
    .filter(s -> s.getAge() >= 18)
    .collect(Collectors.toList());

// å¹¶è¡Œå¤„ç† - ä¸€è¡Œä»£ç å®ç°
List&lt;Student&gt; result2 = students.parallelStream()  // ç›´æ¥åˆ›å»ºå¹¶è¡Œæµ
    .filter(s -> s.getAge() >= 18)
    .collect(Collectors.toList());

// æˆ–è€…ä½¿ç”¨parallel()æ–¹æ³•è½¬æ¢
List&lt;Student&gt; result3 = students.stream()
    .parallel()  // è½¬æ¢ä¸ºå¹¶è¡Œæµ
    .filter(s -> s.getAge() >= 18)
    .collect(Collectors.toList());

// ä¸²è¡Œå’Œå¹¶è¡Œæ··åˆä½¿ç”¨
students.stream()
    .filter(s -> s.getMajor().equals("è®¡ç®—æœºç§‘å­¦"))  // ä¸²è¡Œï¼šç®€å•ç­›é€‰
    .parallel()                                      // å¹¶è¡Œï¼šå¤æ‚è®¡ç®—
    .map(this::calculateComplexScore)                // å¹¶è¡Œè®¡ç®—
    .sequential()                                    // ä¸²è¡Œï¼šæœ‰åºæ”¶é›†
    .sorted(Comparator.comparing(Student::getScore))
    .collect(Collectors.toList());</code></pre>

                <h3>ğŸš€ å¹¶è¡Œå¤„ç†æ€§èƒ½ä¼˜åŒ–</h3>
                <pre><code class="language-java">// æ€§èƒ½æµ‹è¯•ç¤ºä¾‹
List&lt;Integer&gt; largeList = IntStream.range(0, 1_000_000)
    .boxed()
    .collect(Collectors.toList());

// ä¸²è¡Œå¤„ç†æ—¶é—´
long start = System.currentTimeMillis();
long sum1 = largeList.stream()
    .mapToLong(Integer::longValue)
    .filter(n -> n % 2 == 0)
    .sum();
long serialTime = System.currentTimeMillis() - start;

// å¹¶è¡Œå¤„ç†æ—¶é—´
start = System.currentTimeMillis();
long sum2 = largeList.parallelStream()
    .mapToLong(Integer::longValue)
    .filter(n -> n % 2 == 0)
    .sum();
long parallelTime = System.currentTimeMillis() - start;

System.out.println("ä¸²è¡Œæ—¶é—´: " + serialTime + "ms");
System.out.println("å¹¶è¡Œæ—¶é—´: " + parallelTime + "ms");
System.out.println("åŠ é€Ÿæ¯”: " + (double) serialTime / parallelTime);</code></pre>

                <h3>âš ï¸ å¹¶è¡Œå¤„ç†æ³¨æ„äº‹é¡¹ï¼š</h3>
                <pre><code class="language-java">// é€‚åˆå¹¶è¡Œå¤„ç†çš„åœºæ™¯
List&lt;ComplexData&gt; result = largeDataSet.parallelStream()
    .filter(data -> data.isValid())           // æ— çŠ¶æ€è¿‡æ»¤
    .map(this::expensiveComputation)        // CPUå¯†é›†å‹æ“ä½œ
    .collect(Collectors.toList());

// ä¸é€‚åˆå¹¶è¡Œå¤„ç†çš„åœºæ™¯
List&lt;Integer&gt; result2 = smallList.stream()     // æ•°æ®é‡å°
    .sorted()                               // é¡ºåºæ•æ„Ÿæ“ä½œ
    .limit(5)                               // çŸ­è·¯æ“ä½œ
    .collect(Collectors.toList());

// çº¿ç¨‹å®‰å…¨é—®é¢˜ç¤ºä¾‹
List&lt;StringBuilder&gt; unsafeResult = students.parallelStream()
    .collect(ArrayList::new,                 // è¿™é‡Œæœ‰çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼
             (list, student) -> list.add(new StringBuilder(student.getName())),
             List::addAll);

// æ­£ç¡®çš„çº¿ç¨‹å®‰å…¨å†™æ³•
List&lt;String&gt; safeResult = students.parallelStream()
    .map(Student::getName)
    .collect(Collectors.toList());  // ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„æ”¶é›†å™¨</code></pre>

                <h3>ğŸ’¡ æœ€ä½³å®è·µå»ºè®®ï¼š</h3>
                <ul>
                    <li><strong>æ•°æ®é‡åˆ¤æ–­</strong>ï¼šé€šå¸¸è¶…è¿‡10000ä¸ªå…ƒç´ æ‰è€ƒè™‘å¹¶è¡Œ</li>
                    <li><strong>æ“ä½œç±»å‹</strong>ï¼šCPUå¯†é›†å‹æ“ä½œé€‚åˆå¹¶è¡Œï¼ŒIOå¯†é›†å‹ä¸é€‚åˆ</li>
                    <li><strong>æ— çŠ¶æ€æ“ä½œ</strong>ï¼šç¡®ä¿æ“ä½œå‡½æ•°æ˜¯æ— çŠ¶æ€çš„</li>
                    <li><strong>æ€§èƒ½æµ‹è¯•</strong>ï¼šå®é™…æµ‹è¯•å¹¶è¡Œæ˜¯å¦å¸¦æ¥æ€§èƒ½æå‡</li>
                    <li><strong>é¿å…è¿‡åº¦å¹¶è¡Œ</strong>ï¼šåµŒå¥—å¹¶è¡Œæµä¼šé™ä½æ€§èƒ½</li>
                </ul>
            </div>
        </section>

        <!-- Slide: unordered() Operation -->
        <section class="slide">
            <div class="slide-content">
                <h2>å¹¶è¡Œä¼˜åŒ–:unordered()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">Stream&lt;T&gt; unordered()</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">æ— å‚æ•°</span> - ç§»é™¤Streamçš„æœ‰åºçº¦æŸï¼Œå…è®¸å¹¶è¡Œå¤„ç†æ—¶ä¸ä¿æŒåŸå§‹é¡ºåº</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">Stream&lt;T&gt;</span> - æ— åºçš„æ–°Streamï¼Œåœ¨å¹¶è¡Œå¤„ç†ä¸­å¯èƒ½æå‡æ€§èƒ½</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">unordered()æ˜¯ä¸­é—´æ“ä½œï¼Œä¸»è¦ç”¨äºå¹¶è¡ŒStreamçš„æ€§èƒ½ä¼˜åŒ–ã€‚å½“ç»“æœé¡ºåºä¸é‡è¦æ—¶ä½¿ç”¨ï¼Œå¯ä»¥å‡å°‘åŒæ­¥å¼€é”€ã€‚å¯¹äºdistinct()ã€groupingBy()ç­‰æ“ä½œï¼Œæœ‰åºçº¦æŸå¯èƒ½å¸¦æ¥æ€§èƒ½æŸå¤±ã€‚</p>
                    </div>
                </div>
                <p><code>unordered()</code> æ˜¯ä¸€ä¸ªä¸­é—´æ“ä½œï¼Œç”¨äºç§»é™¤Streamçš„æœ‰åºçº¦æŸï¼Œåœ¨å¹¶è¡Œå¤„ç†ä¸­å¯ä»¥æ˜¾è‘—æå‡æ€§èƒ½ã€‚</p>

                <h3>ğŸš€ unordered() - ç§»é™¤æœ‰åºçº¦æŸ</h3>
                <pre><code class="language-java">// æœ‰åºæµ - å¹¶è¡Œå¤„ç†æ—¶éœ€è¦ç»´æŠ¤é¡ºåº
List&lt;Student&gt; result1 = students.parallelStream()
    .filter(s -> s.getAge() >= 18)
    .collect(Collectors.toList());
// ç»“æœä¿æŒåŸå§‹é¡ºåºï¼Œä½†å¹¶è¡Œæ•ˆç‡è¾ƒä½

// æ— åºæµ - å¹¶è¡Œå¤„ç†æ—¶ä¸éœ€è¦ç»´æŠ¤é¡ºåº
List&lt;Student&gt; result2 = students.parallelStream()
    .unordered()  // ç§»é™¤é¡ºåºçº¦æŸ
    .filter(s -> s.getAge() >= 18)
    .collect(Collectors.toList());
// ç»“æœé¡ºåºå¯èƒ½ä¸åŒï¼Œä½†å¹¶è¡Œæ•ˆç‡æ›´é«˜</code></pre>

                <h3>âš¡ æ€§èƒ½å¯¹æ¯”ç¤ºä¾‹</h3>
                <pre><code class="language-java">// æ€§èƒ½æµ‹è¯•ï¼šæœ‰åº vs æ— åºå¹¶è¡Œæµ
List&lt;Integer&gt; largeList = IntStream.range(0, 1_000_000)
    .boxed()
    .collect(Collectors.toList());

// æœ‰åºå¹¶è¡Œå¤„ç†
long start1 = System.currentTimeMillis();
long sum1 = largeList.parallelStream()
    .filter(n -> n % 2 == 0)
    .mapToLong(n -> n * n)
    .sum();
long orderedTime = System.currentTimeMillis() - start1;

// æ— åºå¹¶è¡Œå¤„ç†
long start2 = System.currentTimeMillis();
long sum2 = largeList.parallelStream()
    .unordered()  // ç§»é™¤é¡ºåºçº¦æŸ
    .filter(n -> n % 2 == 0)
    .mapToLong(n -> n * n)
    .sum();
long unorderedTime = System.currentTimeMillis() - start2;

System.out.println("æœ‰åºå¹¶è¡Œ: " + orderedTime + "ms");
System.out.println("æ— åºå¹¶è¡Œ: " + unorderedTime + "ms");
System.out.println("æ€§èƒ½æå‡: " + (double) orderedTime / unorderedTime + "x");
// é€šå¸¸æ— åºå¹¶è¡Œä¼šå¿« 20-50%</code></pre>

                <h3>ğŸ’¡ ä½•æ—¶ä½¿ç”¨ unordered()</h3>
                <pre><code class="language-java">// âœ… é€‚åˆä½¿ç”¨ unordered çš„åœºæ™¯
List&lt;Student&gt; highScoreStudents = students.parallelStream()
    .unordered()  // ä¸å…³å¿ƒé¡ºåº
    .filter(s -> s.getScore() > 90)
    .collect(Collectors.toList());

// âœ… åç»­æœ‰æ’åºæ“ä½œï¼Œå¯ä»¥æå‰ä½¿ç”¨ unordered
List&lt;Student&gt; topStudents = students.parallelStream()
    .unordered()  // ç§»é™¤åŸå§‹é¡ºåºçº¦æŸ
    .filter(s -> s.getAge() >= 18)
    .sorted(Comparator.comparing(Student::getScore))  // é‡æ–°æ’åº
    .limit(10)
    .collect(Collectors.toList());

// âœ… èšåˆæ“ä½œï¼Œé¡ºåºä¸é‡è¦
double averageScore = students.parallelStream()
    .unordered()
    .filter(Student::isActive)
    .mapToDouble(Student::getScore)
    .average()
    .orElse(0.0);

// âŒ éœ€è¦ä¿æŒåŸå§‹é¡ºåºæ—¶ä¸è¦ä½¿ç”¨
List&lt;String&gt; orderedNames = students.stream()  // ä½¿ç”¨ä¸²è¡Œæµ
    .filter(s -> s.getAge() >= 18)
    .map(Student::getName)
    .collect(Collectors.toList());</code></pre>

                <h3>ğŸ¯ unordered() ä¸å…¶ä»–æ“ä½œçš„é…åˆ</h3>
                <pre><code class="language-java">// 1. unordered + distinct() - æ— åºå»é‡æ›´å¿«
Set&lt;String&gt; uniqueNames = students.parallelStream()
    .unordered()
    .map(Student::getName)
    .distinct()
    .collect(Collectors.toSet());

// 2. unordered + groupBy() - åˆ†ç»„æ“ä½œä¸å…³å¿ƒé¡ºåº
Map&lt;String, List&lt;Student&gt;&gt; byMajor = students.parallelStream()
    .unordered()
    .collect(Collectors.groupingBy(Student::getMajor));

// 3. unordered + limit() - éé¡ºåºæ•æ„Ÿçš„æˆªå–
List&lt;Student&gt; sample = students.parallelStream()
    .unordered()
    .filter(Student::isActive)
    .limit(100)  // ä»»æ„100ä¸ªæ´»è·ƒå­¦ç”Ÿ
    .collect(Collectors.toList());

// 4. unordered + findAny() - è‡ªç„¶é…åˆ
Optional&lt;Student&gt; anyAdult = students.parallelStream()
    .unordered()  // findAny æœ¬èº«å°±ä¸ä¿è¯é¡ºåº
    .filter(s -> s.getAge() >= 18)
    .findAny();</code></pre>

                <h3>ğŸ“Š ä¸åŒæ•°æ®æºçš„å½±å“</h3>
                <pre><code class="language-java">// List - æœ‰åºé›†åˆï¼Œunordered æ•ˆæœæ˜æ˜¾
List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5);
list.parallelStream()
    .unordered()  // ç§»é™¤ List çš„é¡ºåºçº¦æŸ
    .map(n -> n * 2)
    .collect(Collectors.toList());

// Set - æ— åºé›†åˆï¼Œunordered æ²¡æœ‰é¢å¤–æ•ˆæœ
Set&lt;Integer&gt; set = new HashSet&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5));
set.parallelStream()
    .unordered()  // Set æœ¬æ¥å°±æ˜¯æ— åºçš„ï¼Œæ— é¢å¤–æ•ˆæœ
    .map(n -> n * 2)
    .collect(Collectors.toList());

// æ•°ç»„ - æœ‰åºï¼Œunordered æœ‰æ•ˆæœ
String[] array = {"a", "b", "c", "d", "e"};
Arrays.stream(array)
    .parallel()
    .unordered()  // ç§»é™¤æ•°ç»„çš„é¡ºåºçº¦æŸ
    .map(String::toUpperCase)
    .collect(Collectors.toList());</code></pre>

                <h3>ğŸ”§ å®é™…ä¼˜åŒ–æ¡ˆä¾‹</h3>
                <pre><code class="language-java">// æ¡ˆä¾‹1ï¼šå¤§æ•°æ®è¿‡æ»¤ä¼˜åŒ–
public List&lt;Transaction&gt; filterValidTransactions(List&lt;Transaction&gt; transactions) {
    return transactions.parallelStream()
        .unordered()  // é¡ºåºä¸é‡è¦ï¼Œæ€§èƒ½ä¼˜å…ˆ
        .filter(t -> t.getAmount() > 0)
        .filter(t -> t.getTimestamp() != null)
        .filter(t -> t.isValid())
        .collect(Collectors.toList());
}

// æ¡ˆä¾‹2ï¼šç»Ÿè®¡è®¡ç®—ä¼˜åŒ–
public Statistics calculateOrderStatistics(List&lt;Order&gt; orders) {
    return orders.parallelStream()
        .unordered()  // ç»Ÿè®¡è®¡ç®—ä¸éœ€è¦é¡ºåº
        .filter(Order::isCompleted)
        .collect(Collectors.collectingAndThen(
            Collectors.toList(),
            list -> {
                double sum = list.stream().mapToDouble(Order::getAmount).sum();
                double avg = sum / list.size();
                double max = list.stream().mapToDouble(Order::getAmount).max().orElse(0);
                return new Statistics(list.size(), sum, avg, max);
            }
        ));
}

// æ¡ˆä¾‹3ï¼šæ•°æ®è½¬æ¢ä¼˜åŒ–
public List&lt;ProductDTO&gt; convertProducts(List&lt;Product&gt; products) {
    return products.parallelStream()
        .unordered()  // è½¬æ¢åçš„é¡ºåºä¸é‡è¦
        .filter(Product::isActive)
        .map(product -> {
            ProductDTO dto = new ProductDTO();
            dto.setId(product.getId());
            dto.setName(product.getName());
            dto.setPrice(product.getPrice());
            return dto;
        })
        .collect(Collectors.toList());
}</code></pre>

                <div class="tip-box">
                    <strong>ğŸ’¡ æœ€ä½³å®è·µï¼š</strong>
                    <ul>
                        <li><strong>æ€§èƒ½ä¼˜å…ˆ</strong>ï¼šå½“é¡ºåºä¸é‡è¦æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨ <code>unordered()</code></li>
                        <li><strong>å¤§æ•°æ®é‡</strong>ï¼šæ•°æ®é‡è¶Šå¤§ï¼Œ<code>unordered()</code> çš„æ€§èƒ½æå‡è¶Šæ˜æ˜¾</li>
                        <li><strong>å¤æ‚æ“ä½œ</strong>ï¼šå¯¹äºå¤æ‚çš„ä¸­é—´æ“ä½œï¼Œ<code>unordered()</code> æ•ˆæœæ›´å¥½</li>
                        <li><strong>æå‰è°ƒç”¨</strong>ï¼šåœ¨å¹¶è¡Œæµå¼€å§‹å¤„å°½æ—©è°ƒç”¨ <code>unordered()</code></li>
                    </ul>
                </div>

                <h3>âš ï¸ æ³¨æ„äº‹é¡¹</h3>
                <pre><code class="language-java">// æ³¨æ„1ï¼šunordered çš„å½±å“æ˜¯æŒä¹…çš„
Stream&lt;Integer&gt; stream = list.stream()
    .unordered()  // ä¸€æ—¦è®¾ç½®ä¸ºæ— åºï¼Œåç»­æ“ä½œéƒ½ä¸ä¿è¯é¡ºåº
    .filter(n -> n > 5)
    .map(n -> n * 2);
// stream æ˜¯æ— åºçš„

// æ³¨æ„2ï¼šæŸäº›æ“ä½œä¼šé‡æ–°å¼•å…¥é¡ºåº
List&lt;Integer&gt; result = list.parallelStream()
    .unordered()
    .filter(n -> n > 5)
    .sorted()  // sorted() ä¼šé‡æ–°å»ºç«‹é¡ºåº
    .collect(Collectors.toList());

// æ³¨æ„3ï¼šlimit() åœ¨æœ‰åºå’Œæ— åºæµä¸­çš„è¡Œä¸ºä¸åŒ
List&lt;Integer&gt; orderedSample = list.parallelStream()
    .limit(10)  // å–å‰10ä¸ªå…ƒç´ ï¼Œä¿æŒé¡ºåº
    .collect(Collectors.toList());

List&lt;Integer&gt; unorderedSample = list.parallelStream()
    .unordered()
    .limit(10)  // ä»»æ„10ä¸ªå…ƒç´ ï¼Œé¡ºåºä¸ç¡®å®š
    .collect(Collectors.toList());</code></pre>

                <p class="conclusion"><strong>unordered() æ˜¯å¹¶è¡Œæµçš„é‡è¦ä¼˜åŒ–æ‰‹æ®µï¼Œåœ¨ä¸ä¾èµ–é¡ºåºçš„åœºæ™¯ä¸‹èƒ½æ˜¾è‘—æå‡æ€§èƒ½ï¼</strong></p>
            </div>
        </section>

        <!-- Slide: forEachOrdered() Operation -->
        <section class="slide">
            <div class="slide-content">
                <h2>[T] æœ‰åºéå†:forEachOrdered()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">void forEachOrdered(Consumer&lt;? super T&gt; action)</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">Consumer&lt;? super T&gt;</span> <span class="param-name">action</span> - å¯¹Streamä¸­æ¯ä¸ªå…ƒç´ æ‰§è¡Œçš„æ“ä½œ</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">void</span> - æ— è¿”å›å€¼ï¼Œè¿™æ˜¯ä¸€ä¸ªç»ˆç«¯æ“ä½œ</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">forEachOrderedæ˜¯ç»ˆç«¯æ“ä½œï¼Œåœ¨å¹¶è¡ŒStreamä¸­ä¿æŒé‡åˆ°é¡ºåºã€‚æ¯”forEach()æœ‰æ›´å¤šåŒæ­¥å¼€é”€ï¼Œåªåœ¨éœ€è¦ä¿è¯é¡ºåºæ—¶ä½¿ç”¨ã€‚é€‚ç”¨äºéœ€è¦ç»´æŒåŸå§‹é¡ºåºçš„å¹¶è¡Œå¤„ç†åœºæ™¯ã€‚</p>
                    </div>
                </div>
                <p><code>forEachOrdered()</code> æ˜¯ä¸€ä¸ªç»ˆç«¯æ“ä½œï¼Œç”¨äºæŒ‰é¡ºåºéå†Streamä¸­çš„å…ƒç´ ã€‚åœ¨å¹¶è¡Œæµä¸­ï¼Œå®ƒèƒ½ä¿æŒåŸå§‹é¡ºåºã€‚</p>

                <h3>ğŸ“‹ forEachOrdered() - ä¿è¯é¡ºåºéå†</h3>
                <pre><code class="language-java">// ä¸²è¡Œæµä¸­ï¼šforEach å’Œ forEachOrdered æ•ˆæœç›¸åŒ
List&lt;String&gt; names = Arrays.asList("å¼ ä¸‰", "æå››", "ç‹äº”", "èµµå…­");

System.out.println("ä½¿ç”¨ forEach (ä¸²è¡Œæµ):");
names.stream()
    .forEach(name -> System.out.println(name + " "));
// è¾“å‡ºï¼šå¼ ä¸‰ æå›› ç‹äº” èµµå…­

System.out.println("\nä½¿ç”¨ forEachOrdered (ä¸²è¡Œæµ):");
names.stream()
    .forEachOrdered(name -> System.out.println(name + " "));
// è¾“å‡ºï¼šå¼ ä¸‰ æå›› ç‹äº” èµµå…­</code></pre>

                <h3>ğŸ”„ å¹¶è¡Œæµä¸­çš„åŒºåˆ«</h3>
                <pre><code class="language-java">// å¹¶è¡Œæµä¸­ï¼šforEach é¡ºåºä¸ç¡®å®š
System.out.println("ä½¿ç”¨ forEach (å¹¶è¡Œæµ):");
names.parallelStream()
    .forEach(name -> System.out.println(name + " "));
// å¯èƒ½è¾“å‡ºï¼šæå›› å¼ ä¸‰ èµµå…­ ç‹äº” (é¡ºåºä¸ä¿è¯)

// å¹¶è¡Œæµä¸­ï¼šforEachOrdered ä¿è¯é¡ºåº
System.out.println("\nä½¿ç”¨ forEachOrdered (å¹¶è¡Œæµ):");
names.parallelStream()
    .forEachOrdered(name -> System.out.println(name + " "));
// è¾“å‡ºï¼šå¼ ä¸‰ æå›› ç‹äº” èµµå…­ (ä¿è¯åŸå§‹é¡ºåº)</code></pre>

                <h3>ğŸ’¡ å®é™…åº”ç”¨åœºæ™¯</h3>
                <pre><code class="language-java">// åœºæ™¯1ï¼šä¿æŒæ–‡ä»¶å¤„ç†é¡ºåº
List&lt;File&gt; files = getFilesInOrder();  // æŒ‰æ—¶é—´æ’åºçš„æ–‡ä»¶åˆ—è¡¨
files.parallelStream()
    .forEachOrdered(file -> {
        // å¹¶è¡Œå¤„ç†ä½†ä¿æŒè¾“å‡ºé¡ºåº
        String content = processFile(file);
        System.out.println(file.getName() + ": " + content);
    });

// åœºæ™¯2ï¼šæœ‰åºæŠ¥è¡¨ç”Ÿæˆ
List&lt;SalesRecord&gt; records = getSalesRecords();  // å·²æŒ‰æ—¥æœŸæ’åº
records.parallelStream()
    .forEachOrdered(record -> {
        // å¹¶è¡Œè®¡ç®—ä½†æŒ‰æ—¥æœŸé¡ºåºç”ŸæˆæŠ¥è¡¨
        ReportData data = calculateReportData(record);
        addToReport(data);
    });

// åœºæ™¯3ï¼šæ‰¹é‡æ•°æ®åº“æ’å…¥ï¼ˆä¿æŒé¡ºåºï¼‰
List&lt;User&gt; users = getUsersInPriorityOrder();
users.parallelStream()
    .forEachOrdered(user -> {
        // å¹¶è¡ŒéªŒè¯ä½†æŒ‰ä¼˜å…ˆçº§é¡ºåºæ’å…¥
        if (validateUser(user)) {
            insertUser(user);
        }
    });</code></pre>

                <h3>âš ï¸ æ€§èƒ½è€ƒè™‘</h3>
                <pre><code class="language-java">// æ€§èƒ½å¯¹æ¯”æµ‹è¯•
List&lt;Integer&gt; largeList = IntStream.range(0, 1_000_000)
    .boxed()
    .collect(Collectors.toList());

// ä¸²è¡Œ forEach
long start1 = System.currentTimeMillis();
largeList.stream()
    .forEach(i -> heavyOperation(i));
long time1 = System.currentTimeMillis() - start1;

// å¹¶è¡Œ forEach (ä¸ä¿è¯é¡ºåº)
long start2 = System.currentTimeMillis();
largeList.parallelStream()
    .forEach(i -> heavyOperation(i));
long time2 = System.currentTimeMillis() - start2;

// å¹¶è¡Œ forEachOrdered (ä¿è¯é¡ºåº)
long start3 = System.currentTimeMillis();
largeList.parallelStream()
    .forEachOrdered(i -> heavyOperation(i));
long time3 = System.currentTimeMillis() - start3;

System.out.println("ä¸²è¡Œ forEach: " + time1 + "ms");
System.out.println("å¹¶è¡Œ forEach: " + time2 + "ms");
System.out.println("å¹¶è¡Œ forEachOrdered: " + time3 + "ms");
// ç»“æœï¼šå¹¶è¡Œ forEach æœ€å¿«ï¼ŒforEachOrdered ç¨æ…¢ä½†ä»æ¯”ä¸²è¡Œå¿«</code></pre>

                <h3>ğŸ¯ ä½•æ—¶ä½¿ç”¨ forEachOrdered</h3>
                <pre><code class="language-java">// âœ… ä½¿ç”¨ forEachOrdered çš„åœºæ™¯
List&lt;Order&gt; orders = getOrdersByDate();  // æŒ‰æ—¥æœŸæ’åº
orders.parallelStream()
    .forEachOrdered(order -> {
        // éœ€è¦ä¿æŒæ—¥æœŸé¡ºåºçš„å¤„ç†
        processOrderInSequence(order);
    });

// âŒ ä¸éœ€è¦é¡ºåºæ—¶ä½¿ç”¨ forEach
List&lt;Product&gt; products = getAllProducts();
products.parallelStream()
    .forEach(product -> {
        // ä¸éœ€è¦é¡ºåºçš„ç‹¬ç«‹æ“ä½œ
        updateProductCache(product);
    });

// âœ… ä¸²è¡Œæµä¸­ä½¿ç”¨ forEach (æ€§èƒ½æ›´å¥½)
List&lt;Student&gt; students = getStudents();
students.stream()
    .forEach(student -> {
        // ä¸²è¡Œæµä¸­ forEach å’Œ forEachOrdered æ•ˆæœç›¸åŒ
        printStudentInfo(student);
    });</code></pre>

                <div class="tip-box">
                    <strong>ğŸ’¡ æœ€ä½³å®è·µï¼š</strong>
                    <ul>
                        <li><strong>ä¸²è¡Œæµ</strong>ï¼šä½¿ç”¨ <code>forEach()</code>ï¼Œæ€§èƒ½æ›´å¥½</li>
                        <li><strong>å¹¶è¡Œæµ + éœ€è¦é¡ºåº</strong>ï¼šä½¿ç”¨ <code>forEachOrdered()</code></li>
                        <li><strong>å¹¶è¡Œæµ + ä¸éœ€è¦é¡ºåº</strong>ï¼šä½¿ç”¨ <code>forEach()</code>ï¼Œæ€§èƒ½æœ€ä½³</li>
                        <li><strong>æ•°æ®åº“æ“ä½œ</strong>ï¼šå¦‚æœæœ‰é¡ºåºä¾èµ–ï¼Œä½¿ç”¨ <code>forEachOrdered()</code></li>
                    </ul>
                </div>

                <h3>ğŸ”„ ä¸å…¶ä»–æ“ä½œçš„åŒºåˆ«</h3>
                <pre><code class="language-java">// forEach vs forEachOrdered vs iterator
List&lt;String&gt; data = Arrays.asList("A", "B", "C");

// 1. forEach - ç»ˆç«¯æ“ä½œï¼Œç®€æ´
data.forEach(System.out::println);

// 2. forEachOrdered - ç»ˆç«¯æ“ä½œï¼Œä¿è¯é¡ºåº
data.parallelStream().forEachOrdered(System.out::println);

// 3. iterator - ä¸­é—´æ“ä½œï¼Œéœ€è¦æ‰‹åŠ¨éå†
Iterator&lt;String&gt; it = data.iterator();
while (it.hasNext()) {
    System.out.println(it.next());
}

// 4. Streamè½¬Liståå†éå†
List&lt;String&gt; result = data.stream()
    .filter(s -> s.length() > 0)
    .collect(Collectors.toList());
result.forEach(System.out::println);</code></pre>

                <p class="conclusion"><strong>forEachOrdered() åœ¨å¹¶è¡Œå¤„ç†ä¸­ä¿æŒé¡ºåºï¼Œé€‚åˆéœ€è¦æœ‰åºè¾“å‡ºçš„åœºæ™¯ï¼Œä½†ä¼šç‰ºç‰²ä¸€äº›æ€§èƒ½ï¼</strong></p>
            </div>
        </section>

        <!-- Slide: onClose() Operation -->
        <section class="slide">
            <div class="slide-content">
                <h2>èµ„æºç®¡ç†:onClose()</h2>
                <div class="api-specification">
                    <h4>ğŸ“‹ æ–¹æ³•ç­¾å</h4>
                    <div class="method-signature">
                        <code class="language-java">Stream&lt;T&gt; onClose(Runnable closeHandler)</code>
                    </div>
                    <div class="parameters-list">
                        <h5>å‚æ•°è¯´æ˜ï¼š</h5>
                        <ul class="params">
                            <li><span class="param-type">Runnable</span> <span class="param-name">closeHandler</span> - Streamå…³é—­æ—¶æ‰§è¡Œçš„å›è°ƒå¤„ç†å™¨</li>
                        </ul>
                        <h5>è¿”å›å€¼ï¼š</h5>
                        <p class="return-type"><span class="type">Stream&lt;T&gt;</span> - å¸¦æœ‰èµ„æºç®¡ç†çš„æ–°Stream</p>
                        <h5>ğŸ’¡ ä½¿ç”¨æç¤ºï¼š</h5>
                        <p class="usage-tip">onCloseæ˜¯ä¸­é—´æ“ä½œï¼Œç”¨äºèµ„æºç®¡ç†ã€‚å½“Streamè°ƒç”¨close()æˆ–è‡ªåŠ¨å…³é—­æ—¶ï¼Œæ³¨å†Œçš„å›è°ƒä¼šè¢«æ‰§è¡Œã€‚é€‚ç”¨äºæ–‡ä»¶æµã€æ•°æ®åº“è¿æ¥ç­‰éœ€è¦æ˜¾å¼å…³é—­çš„èµ„æºï¼Œæ”¯æŒé“¾å¼æ³¨å†Œå¤šä¸ªå›è°ƒã€‚</p>
                    </div>
                </div>
                <p><code>onClose()</code> æ˜¯ä¸€ä¸ªä¸­é—´æ“ä½œï¼Œç”¨äºæ³¨å†ŒStreamå…³é—­æ—¶çš„å›è°ƒå¤„ç†å™¨ã€‚ä¸»è¦ç”¨äºéœ€è¦èµ„æºç®¡ç†çš„åœºæ™¯ï¼Œç‰¹åˆ«æ˜¯æ–‡ä»¶æµç­‰IOæ“ä½œã€‚</p>

                <h3>ğŸ”§ onClose() - æ³¨å†Œå…³é—­å›è°ƒ</h3>
                <pre><code class="language-java">// ä¼ ç»Ÿèµ„æºç®¡ç† - éœ€è¦ try-with-resources
try (Stream&lt;String&gt; lines = Files.lines(path)) {
    lines.forEach(System.out::println);
} catch (IOException e) {
    e.printStackTrace();
}

// Stream with onClose - è‡ªå®šä¹‰å…³é—­å¤„ç†
Stream&lt;String&gt; lines = Files.lines(path)
    .onClose(() -> System.out.println("æ–‡ä»¶æµå·²å…³é—­"));

try {
    lines.forEach(System.out::println);
} finally {
    lines.close();  // ä¼šè§¦å‘ onClose å›è°ƒ
}</code></pre>

                <h3>ğŸ“ æ–‡ä»¶æµä¸­çš„åº”ç”¨</h3>
                <pre><code class="language-java">// å¤„ç†æ—¥å¿—æ–‡ä»¶ç¤ºä¾‹
public void processLogFile(Path logFile) throws IOException {
    try (Stream&lt;String&gt; lines = Files.lines(logFile)
            .onClose(() -> {
                System.out.println("æ—¥å¿—æ–‡ä»¶å¤„ç†å®Œæˆ: " + logFile);
                updateProcessingStatus(logFile, "COMPLETED");
            })) {

        List&lt;LogEntry&gt; errors = lines
            .filter(line -> line.contains("ERROR"))
            .map(this::parseLogEntry)
            .collect(Collectors.toList());

        System.out.println("å‘ç° " + errors.size() + " ä¸ªé”™è¯¯");
    }
    // è‡ªåŠ¨è°ƒç”¨ close()ï¼Œè§¦å‘ onClose å›è°ƒ
}

// å¤šä¸ªæ–‡ä»¶æ‰¹é‡å¤„ç†
public void processMultipleFiles(List&lt;Path&gt; files) {
    files.forEach(file -> {
        try {
            Stream&lt;String&gt; stream = Files.lines(file)
                .onClose(() -> {
                    System.out.println("å¤„ç†å®Œæˆ: " + file.getFileName());
                    archiveFile(file);  // å½’æ¡£å·²å¤„ç†æ–‡ä»¶
                });

            stream
                .filter(line -> !line.startsWith("#"))
                .forEach(this::processLine);

        } catch (IOException e) {
            System.err.println("å¤„ç†æ–‡ä»¶å¤±è´¥: " + file);
        }
    });
}</code></pre>

                <h3>ğŸ”— é“¾å¼ onClose å¤„ç†å™¨</h3>
                <pre><code class="language-java">// å¯ä»¥é“¾å¼æ·»åŠ å¤šä¸ª onClose å¤„ç†å™¨
Stream&lt;String&gt; lines = Files.lines(path)
    .onClose(() -> System.out.println("ç¬¬ä¸€ä¸ªå…³é—­å¤„ç†å™¨"))
    .onClose(() -> System.out.println("ç¬¬äºŒä¸ªå…³é—­å¤„ç†å™¨"))
    .onClose(() -> {
        // æ¸…ç†ä¸´æ—¶æ–‡ä»¶
        cleanupTempFiles();
        System.out.println("ä¸´æ—¶æ–‡ä»¶å·²æ¸…ç†");
    });

// å…³é—­æ—¶çš„æ‰§è¡Œé¡ºåºä¸æ³¨å†Œé¡ºåºç›¸å
try {
    lines.forEach(System.out::println);
} finally {
    lines.close();
}
// è¾“å‡º:
// ä¸´æ—¶æ–‡ä»¶å·²æ¸…ç†
// ç¬¬äºŒä¸ªå…³é—­å¤„ç†å™¨
// ç¬¬ä¸€ä¸ªå…³é—­å¤„ç†å™¨</code></pre>

                <h3>ğŸ’¾ æ•°æ®åº“è¿æ¥ç®¡ç†</h3>
                <pre><code class="language-java">// æ•°æ®åº“æŸ¥è¯¢çš„StreamåŒ…è£…
public Stream&lt;Product&gt; getProductsStream(String category) {
    Connection conn = getConnection();
    PreparedStatement stmt = null;
    ResultSet rs = null;

    try {
        stmt = conn.prepareStatement("SELECT * FROM products WHERE category = ?");
        stmt.setString(1, category);
        rs = stmt.executeQuery();

        return StreamSupport.stream(
            new Spliterators.AbstractSpliterator&lt;Product&gt;(Long.MAX_VALUE, 0) {
                @Override
                public boolean tryAdvance(Consumer&lt;? super Product&gt; action) {
                    try {
                        if (rs.next()) {
                            action.accept(mapRowToProduct(rs));
                            return true;
                        }
                        return false;
                    } catch (SQLException e) {
                        throw new RuntimeException(e);
                    }
                }
            }, false)
        .onClose(() -> {
            // ç¡®ä¿èµ„æºè¢«æ­£ç¡®å…³é—­
            try {
                if (rs != null) rs.close();
                if (stmt != null) stmt.close();
                if (conn != null) conn.close();
                System.out.println("æ•°æ®åº“èµ„æºå·²é‡Šæ”¾");
            } catch (SQLException e) {
                System.err.println("å…³é—­æ•°æ®åº“èµ„æºæ—¶å‡ºé”™: " + e.getMessage());
            }
        });

    } catch (SQLException e) {
        // å¦‚æœåˆ›å»ºStreamå¤±è´¥ï¼Œéœ€è¦æ‰‹åŠ¨å…³é—­èµ„æº
        closeQuietly(rs, stmt, conn);
        throw new RuntimeException(e);
    }
}

// ä½¿ç”¨ç¤ºä¾‹
public void processElectronicsProducts() {
    try (Stream&lt;Product&gt; products = getProductsStream("Electronics")) {
        products
            .filter(p -> p.getPrice() > 1000)
            .forEach(p -> System.out.println(p.getName() + ": $" + p.getPrice()));
    }
    // è‡ªåŠ¨å…³é—­æ•°æ®åº“è¿æ¥
}</code></pre>

                <h3>ğŸ”„ è‡ªå®šä¹‰èµ„æºç®¡ç†</h3>
                <pre><code class="language-java">// ç½‘ç»œè¿æ¥çš„èµ„æºç®¡ç†
public Stream&lt;String&gt; fetchUrlsStream(List&lt;String&gt; urls) {
    HttpClient client = HttpClient.newHttpClient();

    return urls.stream()
        .map(url -> {
            try {
                HttpResponse&lt;String&gt; response = client.send(
                    HttpRequest.newBuilder(URI.create(url)).build(),
                    HttpResponse.BodyHandlers.ofString()
                );
                return response.body();
            } catch (Exception e) {
                return "Error fetching " + url + ": " + e.getMessage();
            }
        })
        .onClose(() -> {
            // å…³é—­HTTPå®¢æˆ·ç«¯ï¼ˆå¦‚æœéœ€è¦ï¼‰
            System.out.println("HTTPè¯·æ±‚å®Œæˆ");
        });
}

// ä¸´æ—¶æ–‡ä»¶ç®¡ç†
public Stream&lt;String&gt; processTempFiles() {
    List&lt;Path&gt; tempFiles = new ArrayList&lt;&gt;();

    try {
        // åˆ›å»ºä¸´æ—¶æ–‡ä»¶
        for (int i = 0; i < 5; i++) {
            Path tempFile = Files.createTempFile("process", ".txt");
            tempFiles.add(tempFile);
            Files.write(tempFile, ("Content " + i).getBytes());
        }

        return tempFiles.stream()
            .map(path -> {
                try {
                    return Files.readString(path);
                } catch (IOException e) {
                    return "Error reading file: " + e.getMessage();
                }
            })
            .onClose(() -> {
                // æ¸…ç†æ‰€æœ‰ä¸´æ—¶æ–‡ä»¶
                tempFiles.forEach(path -> {
                    try {
                        Files.deleteIfExists(path);
                        System.out.println("ä¸´æ—¶æ–‡ä»¶å·²åˆ é™¤: " + path);
                    } catch (IOException e) {
                        System.err.println("åˆ é™¤ä¸´æ—¶æ–‡ä»¶å¤±è´¥: " + path);
                    }
                });
            });

    } catch (IOException e) {
        // å¦‚æœåˆ›å»ºå¤±è´¥ï¼Œæ¸…ç†å·²åˆ›å»ºçš„æ–‡ä»¶
        tempFiles.forEach(path -> {
            try {
                Files.deleteIfExists(path);
            } catch (IOException ignored) {}
        });
        throw new RuntimeException(e);
    }
}</code></pre>

                <h3>âš¡ æ€§èƒ½å’Œå†…å­˜ç®¡ç†</h3>
                <pre><code class="language-java">// å¤§æ–‡ä»¶å¤„ç†çš„å†…å­˜ç®¡ç†
public Stream&lt;String&gt; processLargeFile(Path filePath) {
    return Files.lines(filePath, StandardCharsets.UTF_8)
        .onClose(() -> {
            // é€šçŸ¥åƒåœ¾å›æ”¶
            System.gc();
            System.out.println("å¤„ç†å¤§æ–‡ä»¶å®Œæˆï¼Œå»ºè®®è¿›è¡Œåƒåœ¾å›æ”¶");
        });
}

// æ‰¹é‡å¤„ç†æ—¶çš„èµ„æºæ± ç®¡ç†
private final ExecutorService executor = Executors.newFixedThreadPool(10);

public Stream&lt;Future&lt;String&gt;&gt; parallelProcess(List&lt;Task&gt; tasks) {
    return tasks.stream()
        .map(task -> executor.submit(() -> processTask(task)))
        .onClose(() -> {
            // æ‰€æœ‰ä»»åŠ¡å®Œæˆåå…³é—­çº¿ç¨‹æ± 
            executor.shutdown();
            try {
                if (!executor.awaitTermination(60, TimeUnit.SECONDS)) {
                    executor.shutdownNow();
                }
                System.out.println("çº¿ç¨‹æ± å·²å…³é—­");
            } catch (InterruptedException e) {
                executor.shutdownNow();
                Thread.currentThread().interrupt();
            }
        });
}</code></pre>

                <h3>âš ï¸ æ³¨æ„äº‹é¡¹å’Œæœ€ä½³å®è·µ</h3>
                <pre><code class="language-java">// âœ… æ¨èï¼šä½¿ç”¨ try-with-resources
try (Stream&lt;String&gt; lines = Files.lines(path)
        .onClose(() -> cleanup())) {
    lines.forEach(System.out::println);
}
// è‡ªåŠ¨è°ƒç”¨ close()ï¼Œç¡®ä¿å›è°ƒæ‰§è¡Œ

// âœ… æ¨èï¼šåœ¨ finally ä¸­å…³é—­
Stream&lt;String&gt; stream = Files.lines(path).onClose(() -> cleanup());
try {
    stream.forEach(System.out::println);
} finally {
    stream.close();  // ç¡®ä¿å›è°ƒæ‰§è¡Œ
}

// âŒ é¿å…ï¼šå¿˜è®°å…³é—­Stream
Stream&lt;String&gt; stream = Files.lines(path).onClose(() -> cleanup());
stream.forEach(System.out::println);
// å¦‚æœæ²¡æœ‰æ˜¾å¼è°ƒç”¨ close()ï¼ŒonClose å›è°ƒä¸ä¼šæ‰§è¡Œ

// âœ… æ¨èï¼šå¼‚å¸¸å¤„ç†
Stream&lt;String&gt; stream = Files.lines(path)
    .onClose(() -> {
        try {
            cleanup();
        } catch (Exception e) {
            // è®°å½•é”™è¯¯ä½†ä¸æŠ›å‡ºå¼‚å¸¸
            System.err.println("æ¸…ç†å¤±è´¥: " + e.getMessage());
        }
    });</code></pre>

                <div class="tip-box">
                    <strong>ğŸ’¡ é‡è¦æç¤ºï¼š</strong>
                    <ul>
                        <li><strong>å¿…é¡»æ‰‹åŠ¨å…³é—­</strong>ï¼š<code>onClose()</code> å›è°ƒåªæœ‰åœ¨è°ƒç”¨ <code>close()</code> æ–¹æ³•æ—¶æ‰ä¼šæ‰§è¡Œ</li>
                        <li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šå›è°ƒä¸­çš„å¼‚å¸¸ä¼šè¢«é™é»˜å¿½ç•¥æˆ–è®°å½•åˆ°æ§åˆ¶å°</li>
                        <li><strong>æ‰§è¡Œé¡ºåº</strong>ï¼šå¤šä¸ª <code>onClose()</code> å¤„ç†å™¨æŒ‰æ³¨å†Œçš„ç›¸åé¡ºåºæ‰§è¡Œ</li>
                        <li><strong>ä¸»è¦ç”¨äº</strong>ï¼šæ–‡ä»¶æµã€æ•°æ®åº“è¿æ¥ã€ç½‘ç»œè¿æ¥ç­‰éœ€è¦æ˜¾å¼å…³é—­çš„èµ„æº</li>
                    </ul>
                </div>

                <p class="conclusion"><strong>onClose() æä¾›äº†ä¼˜é›…çš„èµ„æºç®¡ç†æœºåˆ¶ï¼Œç‰¹åˆ«é€‚åˆå¤„ç†éœ€è¦æ˜¾å¼å…³é—­çš„èµ„æºï¼Œå¦‚æ–‡ä»¶æµå’Œæ•°æ®åº“è¿æ¥ï¼</strong></p>
            </div>
        </section>



        <!-- Slide 23: Comprehensive Practical Example -->
        <section class="slide">
            <div class="slide-content">
                <h2>ç»¼åˆå®æˆ˜æ¡ˆä¾‹ - å­¦ç”Ÿæˆç»©åˆ†æç³»ç»Ÿ</h2>
                <p>ç»“åˆå¤šä¸ªStreamæ“ä½œï¼Œå®ç°å¤æ‚çš„ä¸šåŠ¡é€»è¾‘å¤„ç†ã€‚</p>

                <h3>ğŸ“‹ ä¸šåŠ¡åœºæ™¯ï¼šå­¦ç”Ÿæˆç»©å¤šç»´åº¦åˆ†æ</h3>
                <pre><code class="language-java">// è¾“å…¥æ•°æ®ï¼šList&lt;Student&gt; students = getAllStudents();

// ç»¼åˆåˆ†æéœ€æ±‚ï¼š
// 1. ç­›é€‰æ´»è·ƒå­¦ç”Ÿ
// 2. æŒ‰ä¸“ä¸šåˆ†ç»„
// 3. è®¡ç®—æ¯ä¸ªä¸“ä¸šçš„ç»Ÿè®¡ä¿¡æ¯
// 4. æ‰¾å‡ºå„ä¸“ä¸šçš„ä¼˜ç§€å­¦ç”Ÿ
// 5. ç”Ÿæˆç»¼åˆæŠ¥å‘Š</code></pre>

                <h3>ğŸ”§ ç»¼åˆè§£å†³æ–¹æ¡ˆï¼š</h3>
                <pre><code class="language-java">public class StudentAnalysisReport {
    public void generateComprehensiveReport(List&lt;Student&gt; students) {
        // 1. ç­›é€‰æ´»è·ƒå­¦ç”Ÿå¹¶æŒ‰ä¸“ä¸šåˆ†ç»„
        Map&lt;String, List&lt;Student&gt;&gt; activeByMajor = students.stream()
            .filter(Student::isActive)                    // ç­›é€‰æ“ä½œ
            .collect(Collectors.groupingBy(Student::getMajor));  // åˆ†ç»„æ“ä½œ

        // 2. è®¡ç®—å„ä¸“ä¸šç»Ÿè®¡ä¿¡æ¯
        Map&lt;String, MajorStatistics&gt; statisticsMap = activeByMajor.entrySet()
            .stream()
            .collect(Collectors.toMap(
                Map.Entry::getKey,
                entry -> calculateMajorStatistics(entry.getValue())
            ));

        // 3. æ‰¾å‡ºå„ä¸“ä¸šå‰3åä¼˜ç§€å­¦ç”Ÿ
        Map&lt;String, List&lt;Student&gt;&gt; topStudentsByMajor = activeByMajor.entrySet()
            .stream()
            .collect(Collectors.toMap(
                Map.Entry::getKey,
                entry -> entry.getValue().stream()
                    .sorted(Comparator.comparing(Student::getScore).reversed())
                    .limit(3)
                    .collect(Collectors.toList())
            ));

        // 4. ç”Ÿæˆæ’åå‰10çš„å…¨æ ¡ä¼˜ç§€å­¦ç”Ÿ
        List&lt;Student&gt; top10Overall = students.stream()
            .filter(Student::isActive)
            .sorted(Comparator
                .comparing(Student::getScore).reversed()
                .thenComparing(Student::getName))
            .limit(10)
            .collect(Collectors.toList());

        // 5. æŒ‰å¹´é¾„æ®µåˆ†ææˆç»©åˆ†å¸ƒ
        Map&lt;String, Double&gt; averageScoreByAgeGroup = students.stream()
            .filter(Student::isActive)
            .collect(Collectors.groupingBy(
                student -> {
                    int age = student.getAge();
                    if (age < 18) return "18å²ä»¥ä¸‹";
                    else if (age < 22) return "18-21å²";
                    else if (age < 25) return "22-24å²";
                    else return "25å²ä»¥ä¸Š";
                },
                Collectors.averagingDouble(Student::getScore)
            ));

        // 6. è¾“å‡ºç»¼åˆæŠ¥å‘Š
        printComprehensiveReport(statisticsMap, topStudentsByMajor,
                              top10Overall, averageScoreByAgeGroup);
    }

    private MajorStatistics calculateMajorStatistics(List&lt;Student&gt; majorStudents) {
        IntSummaryStatistics ageStats = majorStudents.stream()
            .mapToInt(Student::getAge)
            .summaryStatistics();

        DoubleSummaryStatistics scoreStats = majorStudents.stream()
            .mapToDouble(Student::getScore)
            .summaryStatistics();

        long highScoreCount = majorStudents.stream()
            .mapToLong(s -> s.getScore() >= 90 ? 1 : 0)
            .sum();

        return new MajorStatistics(
            majorStudents.size(),
            ageStats.getAverage(),
            scoreStats.getAverage(),
            scoreStats.getMax(),
            highScoreCount
        );
    }
}</code></pre>

                <h3>ğŸ“Š å¤æ‚æ•°æ®è½¬æ¢ç¤ºä¾‹ï¼š</h3>
                <pre><code class="language-java">// å­¦ç”Ÿè¯¾ç¨‹æˆç»©è½¬æ¢å’Œç»Ÿè®¡
public List&lt;StudentCourseSummary&gt; generateCourseSummary(List&lt;Student&gt; students) {
    return students.stream()
        .filter(Student::isActive)                                    // ç­›é€‰æ´»è·ƒå­¦ç”Ÿ
        .flatMap(student -> student.getCourses().stream()               // æ‰å¹³åŒ–è¯¾ç¨‹åˆ—è¡¨
            .map(course -> new StudentCourseInfo(student, course)))     // ç»„åˆå­¦ç”Ÿå’Œè¯¾ç¨‹ä¿¡æ¯
        .collect(Collectors.groupingBy(                                // æŒ‰è¯¾ç¨‹åˆ†ç»„
            StudentCourseInfo::getCourseId,
            Collectors.collectingAndThen(
                Collectors.toList(),
                courseInfos -> {
                    double averageScore = courseInfos.stream()
                        .mapToDouble(StudentCourseInfo::getScore)
                        .average()
                        .orElse(0.0);

                    long passCount = courseInfos.stream()
                        .mapToLong(info -> info.getScore() >= 60 ? 1 : 0)
                        .sum();

                    return new StudentCourseSummary(
                        courseInfos.get(0).getCourseName(),
                        courseInfos.size(),
                        averageScore,
                        (double) passCount / courseInfos.size() * 100
                    );
                }
            )
        ))
        .values()
        .stream()
        .sorted(Comparator.comparing(StudentCourseSummary::getAverageScore).reversed())
        .collect(Collectors.toList());
}</code></pre>

                <h3>âš¡ æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼š</h3>
                <pre><code class="language-java">// å¤§æ•°æ®é‡å¤„ç†ä¼˜åŒ–
public void processLargeDataSet(List&lt;LargeData&gt; largeDataSet) {
    // å¹¶è¡Œå¤„ç† + çŸ­è·¯æ“ä½œä¼˜åŒ–
    List&lt;LargeData&gt; result = largeDataSet.parallelStream()
        .filter(this::quickFilter)              // å¿«é€Ÿç­›é€‰
        .filter(this::complexFilter)             // å¤æ‚ç­›é€‰
        .map(this::expensiveTransformation)     // CPUå¯†é›†å‹è½¬æ¢
        .distinct()                            // å»é‡
        .sorted(Comparator.comparing(LargeData::getPriority))
        .limit(1000)                          // çŸ­è·¯æ“ä½œï¼Œé¿å…å¤„ç†å¤šä½™æ•°æ®
        .collect(Collectors.toList());

    // æ‰¹é‡å¤„ç†ä¼˜åŒ–
    int batchSize = 1000;
    List&lt;List&lt;LargeData&gt;&gt; batches = IntStream.range(0, (largeDataSet.size() + batchSize - 1) / batchSize)
        .mapToObj(i -> largeDataSet.subList(i * batchSize, Math.min((i + 1) * batchSize, largeDataSet.size())))
        .collect(Collectors.toList());

    batches.parallelStream()
        .forEach(this::processBatch);
}</code></pre>

                <p class="conclusion"><strong>Stream APIçš„å¼ºå¤§ä¹‹å¤„åœ¨äºå¯ä»¥çµæ´»ç»„åˆå„ç§æ“ä½œï¼Œå®ç°å¤æ‚çš„æ•°æ®å¤„ç†é€»è¾‘ï¼</strong></p>
            </div>
        </section>



        <!-- Slide 25: Best Practices and Performance Tips -->
        <section class="slide">
            <div class="slide-content">
                <h2>æœ€ä½³å®è·µä¸æ€§èƒ½ä¼˜åŒ–</h2>
                <p>æŒæ¡Stream APIçš„ä½¿ç”¨æŠ€å·§ï¼Œè®©ä½ çš„ä»£ç æ—¢ä¼˜é›…åˆé«˜æ•ˆï¼</p>

                <h3>âœ… ä½¿ç”¨åœºæ™¯åˆ¤æ–­</h3>
                <pre><code class="language-java">// é€‚åˆä½¿ç”¨Streamçš„åœºæ™¯
public void goodStreamUsage() {
    // 1. å¤æ‚æ•°æ®è½¬æ¢
    List&lt;StudentDTO&gt; dtos = students.stream()
        .filter(Student::isActive)
        .map(this::convertToDTO)
        .sorted(Comparator.comparing(StudentDTO::getScore))
        .collect(Collectors.toList());

    // 2. æ•°æ®èšåˆç»Ÿè®¡
    Map&lt;String, Long&gt; countByMajor = students.stream()
        .collect(Collectors.groupingBy(Student::getMajor, Collectors.counting()));

    // 3. å¤§æ•°æ®é‡å¤„ç†
    List&lt;Result&gt; results = largeDataSet.parallelStream()
        .filter(this::heavyFilter)
        .map(this::heavyComputation)
        .collect(Collectors.toList());
}

// ä¸é€‚åˆä½¿ç”¨Streamçš„åœºæ™¯
public void avoidStreamOveruse() {
    // 1. ç®€å•éå† - ä¼ ç»Ÿforæ›´æ¸…æ™°
    for (Student student : students) {
        System.out.println(student.getName());
    }
    // è€Œä¸æ˜¯ï¼šstudents.stream().forEach(s -> System.out.println(s.getName()));

    // 2. éœ€è¦ç´¢å¼•çš„æ“ä½œ
    for (int i = 0; i < students.size(); i++) {
        Student student = students.get(i);
        System.out.println("åºå·" + i + ": " + student.getName());
    }

    // 3. éœ€è¦ä¿®æ”¹åŸé›†åˆçš„æ“ä½œ
    List&lt;Student&gt; copy = new ArrayList&lt;&gt;(students);
    copy.removeIf(s -> !s.isActive());  // ç›´æ¥ä¿®æ”¹ï¼Œæ›´é«˜æ•ˆ
}</code></pre>

                <h3>ğŸš€ æ€§èƒ½ä¼˜åŒ–æŠ€å·§</h3>
                <pre><code class="language-java">// 1. ä½¿ç”¨åŸºæœ¬ç±»å‹Streamé¿å…è£…ç®±
IntStream ages = students.stream()
    .mapToInt(Student::getAge);  // é¿å…Integerè£…ç®±

DoubleStream scores = students.stream()
    .mapToDouble(Student::getScore);  // é¿å…Doubleè£…ç®±

// 2. åˆç†ä½¿ç”¨çŸ­è·¯æ“ä½œ
List&lt;Student&gt; topStudents = students.stream()
    .sorted(Comparator.comparing(Student::getScore).reversed())
    .limit(10)  // åªå¤„ç†éœ€è¦çš„æ•°é‡ï¼Œå‡å°‘æ’åºå¼€é”€
    .collect(Collectors.toList());

// 3. é¿å…å¤šæ¬¡æ”¶é›†
// ä¸æ¨èï¼šå¤šæ¬¡collect
List&lt;Student&gt; filtered = students.stream()
    .filter(s -> s.getAge() >= 18)
    .collect(Collectors.toList());
List&lt;String&gt; names = filtered.stream()
    .map(Student::getName)
    .collect(Collectors.toList());

// æ¨èï¼šä¸€æ¬¡é“¾å¼è°ƒç”¨
List&lt;String&gt; namesOptimized = students.stream()
    .filter(s -> s.getAge() >= 18)
    .map(Student::getName)
    .collect(Collectors.toList());

// 4. é¢„ç¼–è¯‘Comparator
private static final Comparator&lt;Student&gt; SCORE_COMPARATOR =
    Comparator.comparing(Student::getScore);

List&lt;Student&gt; sorted = students.stream()
    .sorted(SCORE_COMPARATOR)
    .collect(Collectors.toList());</code></pre>

                <h3>ğŸ”§ è°ƒè¯•æŠ€å·§</h3>
                <pre><code class="language-java">// ä½¿ç”¨peek()è¿›è¡Œè°ƒè¯•
List&lt;Student&gt; result = students.stream()
    .filter(s -> s.getAge() >= 18)
    .peek(s -> System.out.println("è¿‡æ»¤å: " + s.getName()))  // è°ƒè¯•ç‚¹1
    .map(Student::getName)
    .peek(name -> System.out.println("æ˜ å°„å: " + name))    // è°ƒè¯•ç‚¹2
    .filter(name -> name.length() > 2)
    .collect(Collectors.toList());

// è‡ªå®šä¹‰è°ƒè¯•æ”¶é›†å™¨
public class DebuggingCollector&lt;T&gt; implements Collector&lt;T, ?, List&lt;T&gt;&gt; {
    private final String prefix;

    @Override
    public Supplier&lt;List&lt;T&gt;&gt; supplier() {
        System.out.println(prefix + " - å¼€å§‹æ”¶é›†");
        return ArrayList::new;
    }

    @Override
    public BiConsumer&lt;List&lt;T&gt;, T&gt; accumulator() {
        return (list, item) -> {
            System.out.println(prefix + " - æ·»åŠ å…ƒç´ : " + item);
            list.add(item);
        };
    }

    // ... å…¶ä»–æ–¹æ³•
}</code></pre>

                <h3>âš ï¸ å¸¸è§é™·é˜±é¿å…</h3>
                <pre><code class="language-java">// 1. é¿å…ä¿®æ”¹Streamä¸­çš„å…ƒç´ 
// é”™è¯¯ï¼šå°è¯•ä¿®æ”¹Streamä¸­çš„å…ƒç´ 
List&lt;Student&gt; result = students.stream()
    .peek(student -> student.setScore(student.getScore() + 10))  // å‰¯ä½œç”¨ï¼
    .collect(Collectors.toList());

// æ­£ç¡®ï¼šåœ¨mapä¸­åˆ›å»ºæ–°å¯¹è±¡
List&lt;Student&gt; result = students.stream()
    .map(student -> {
        Student newStudent = new Student(student);
        newStudent.setScore(student.getScore() + 10);
        return newStudent;
    })
    .collect(Collectors.toList());

// 2. é¿å…é‡å¤æ“ä½œ
// é”™è¯¯ï¼šé‡å¤è®¡ç®—
students.stream().mapToInt(Student::getScore).sum();
students.stream().mapToInt(Student::getScore).average();

// æ­£ç¡®ï¼šä¸€æ¬¡æ€§è®¡ç®—
IntSummaryStatistics stats = students.stream()
    .mapToInt(Student::getScore)
    .summaryStatistics();
double sum = stats.getSum();
double average = stats.getAverage();

// 3. æ³¨æ„å¹¶è¡ŒStreamçš„çº¿ç¨‹å®‰å…¨
// é”™è¯¯ï¼šéçº¿ç¨‹å®‰å…¨çš„æ“ä½œ
List&lt;StringBuilder&gt; result = students.parallelStream()
    .collect(ArrayList::new,
             (list, student) -> list.add(new StringBuilder(student.getName())),
             List::addAll);

// æ­£ç¡®ï¼šä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„æ–¹å¼
List&lt;String&gt; result = students.parallelStream()
    .map(Student::getName)
    .collect(Collectors.toList());</code></pre>

                <p class="conclusion"><strong>Stream API æ˜¯å¼ºå¤§çš„å·¥å…·ï¼Œä½†è¦ç†æ€§ä½¿ç”¨ï¼<br>
                        ç®€å•æ“ä½œç”¨ä¼ ç»Ÿæ–¹å¼ï¼Œå¤æ‚å¤„ç†ç”¨Streamä¼˜é›…è§£å†³ï¼Œæ€§èƒ½ä¼˜åŒ–è¦å…·ä½“åˆ†æï¼</strong></p>
            </div>
        </section>

        <!-- UI Elements -->
        <div class="progress-bar-container">
            <div id="progress-bar"></div>
        </div>
        <div class="controls">
            <button id="prevBtn">ä¸Šä¸€é¡µ</button>
            <span id="slide-counter">1 / X</span>
            <button id="nextBtn">ä¸‹ä¸€é¡µ</button>
        </div>
    </main>

    <script src="../prism/prism.js"></script>
    <script src="../prism/prism-autoloader.min.js"></script>
    <script src="./js/ppt.js"></script>
    <script src="./js/nav.js"></script>
    <script src="./js/imgbed-replacer.js"></script>
    <script src="./js/stream-animation.js"></script>
</body>

</html>