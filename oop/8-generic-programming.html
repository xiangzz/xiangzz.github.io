<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ³›å‹ç¨‹åºè®¾è®¡</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/animation.css">
    <link rel="stylesheet" href="./css/hacker-cmd.css">
    <link rel="stylesheet" href="../prism/prism.css">
</head>

<body>

    <main id="presentation">
        <!-- Slide 1: Title -->
        <section class="slide title-slide active">
            <h1>æ³›å‹ç¨‹åºè®¾è®¡</h1>
            <p>Generic Programming - Deep Dive</p>
            <strong>æ·±å…¥ç†è§£æ³›å‹åŸç†ã€æŒæ¡ç±»å‹å®‰å…¨ç¼–ç¨‹å®è·µ</strong>
        </section>

        <!-- Quote Slide -->
        <section class="slide">
            <div class="slide-content" style="text-align: center;">
                <blockquote
                    style="font-size: 1.3em; font-style: italic; border-left: 4px solid var(--accent-color); padding-left: 20px;">
                    <p>æ³›å‹è®©æˆ‘ä»¬èƒ½å¤Ÿç¼–å†™ç±»å‹å®‰å…¨ä¸”å¯é‡ç”¨çš„ä»£ç ï¼Œæ˜¯Javaç¼–ç¨‹çš„é‡è¦åŸºçŸ³</p>
                    <cite style="display: block; text-align: right; margin-top: 20px;">â€” Effective Java</cite>
                </blockquote>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>å­¦ä¹ ç›®æ ‡</h2>
                <ul>
                    <li><strong>æ·±å…¥ç†è§£æ³›å‹åŸç†</strong>ï¼šæŒæ¡ç±»å‹å®‰å…¨æœºåˆ¶ã€ç±»å‹æ“¦é™¤åŸç†ä¸å®ç°æœºåˆ¶</li>
                    <li><strong>ç²¾é€šæ³›å‹è¯­æ³•</strong>ï¼šæ³›å‹ç±»ã€æ³›å‹æ–¹æ³•ã€æ³›å‹æ¥å£çš„é«˜çº§åº”ç”¨æŠ€å·§</li>
                    <li><strong>æŒæ¡æ³›å‹ç•Œé™</strong>ï¼šé€šé…ç¬¦ã€extends/superç•Œé™çš„çµæ´»è¿ç”¨</li>
                    <li><strong>å®è·µæ³›å‹è®¾è®¡</strongï¼šè‡ªå®šä¹‰æ³›å‹é›†åˆç±»ã€å·¥å…·ç±»çš„è®¾è®¡ä¸å®ç°</li>
                    <li><strong>æ³›å‹ä¸ç°ä»£Java</strong>ï¼šæ³›å‹ä¸Lambdaã€Stream APIçš„ç»“åˆä½¿ç”¨</li>
                </ul>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>ç±»å‹å®‰å…¨é—®é¢˜ï¼šä»Objectåˆ°æ³›å‹</h2>
                <p><strong>é—®é¢˜åœºæ™¯</strong>ï¼šè®¾è®¡å­¦ç”Ÿæˆç»©ç®¡ç†ç³»ç»Ÿï¼Œéœ€è¦æ”¯æŒä¸åŒç±»å‹çš„æˆç»©è¡¨ç¤º</p>

                <h3>ä¼ ç»ŸObjectæ–¹æ¡ˆçš„ç¼ºé™·</h3>
                <div class="code-block">
                    <pre><code class="language-java">public class Score {
    String name;
    String id;
    Object value;  //ä½¿ç”¨Objectå­˜å‚¨ä¸åŒç±»å‹

    public Score(String name, String id, Object value) {
        this.name = name;
        this.id = id;
        this.value = value;
    }

    // é—®é¢˜ï¼šç±»å‹ä¸å®‰å…¨ï¼Œè¿è¡Œæ—¶æ‰æš´éœ²é”™è¯¯
    public Integer getScore() {
        return (Integer) value;  //å¯èƒ½æŠ›å‡ºClassCastException
    }
}</code></pre>
                </div>

                <h3>Objectæ–¹æ¡ˆçš„æ ¸å¿ƒé—®é¢˜</h3>
                <ul>
                    <li><strong>ç¼–è¯‘æ—¶ç±»å‹å®‰å…¨ç¼ºå¤±</strong>ï¼šæ— æ³•åœ¨ç¼–è¯‘é˜¶æ®µå‘ç°ç±»å‹é”™è¯¯</li>
                    <li><strong>å¼ºåˆ¶ç±»å‹è½¬æ¢</strong>ï¼šéœ€è¦æ‰‹åŠ¨è½¬æ¢ï¼Œå¢åŠ ä»£ç å¤æ‚åº¦</li>
                    <li><strong>è¿è¡Œæ—¶å¼‚å¸¸é£é™©</strong>ï¼šClassCastExceptionéš¾ä»¥é¢„æµ‹</li>
                    <li><strong>ä»£ç å¯è¯»æ€§å·®</strong>ï¼šæ— æ³•ä»ç±»å‹æ¨æ–­å‡ºå®é™…ç”¨é€”</li>
                </ul>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ³›å‹çš„è§£å†³æ–¹æ¡ˆ</h2>
                <p><strong>æ³›å‹çš„æ ¸å¿ƒä»·å€¼</strong>ï¼šå°†ç±»å‹å®‰å…¨ä»è¿è¡Œæ—¶å‰ç§»åˆ°ç¼–è¯‘æ—¶</p>

                <div class="code-block">
                    <pre><code class="language-java">// æ³›å‹è§£å†³æ–¹æ¡ˆ
public class Score&lt;T&gt; {
    private final String name;
    private final String id;
    private final T value;   //ç±»å‹å‚æ•°T

    public Score(String name, String id, T value) {
        this.name = name;
        this.id = id;
        this.value = value;
    }

    public T getValue() {
        return value;  //æ— éœ€å¼ºåˆ¶è½¬æ¢ï¼Œç±»å‹å®‰å…¨
    }
}</code></pre>
                </div>

                <h3>æ³›å‹å¸¦æ¥çš„æ”¹è¿›</h3>
                <div class="code-block">
                    <pre><code class="language-java">// ç¼–è¯‘æ—¶ç±»å‹å®‰å…¨
Score&lt;String&gt; score1 = new Score&lt;&gt;("è®¡ç®—æœºç½‘ç»œ", "EP074512", "ä¼˜ç§€");
Score&lt;Integer&gt; score2 = new Score&lt;&gt;("æ•°æ®ç»“æ„", "EP074513", 95);

// ç±»å‹æ˜ç¡®ï¼ŒIDEæ™ºèƒ½æç¤º
String result1 = score1.getValue();  //è‡ªåŠ¨æ¨æ–­ä¸ºString
Integer result2 = score2.getValue(); //è‡ªåŠ¨æ¨æ–­ä¸ºInteger

// ç¼–è¯‘æ—¶é”™è¯¯æ£€æŸ¥
score1.setValue(100);  //ç¼–è¯‘é”™è¯¯ï¼šç±»å‹ä¸åŒ¹é…</code></pre>
                </div>

                <p class="conclusion">æ³›å‹é€šè¿‡ç±»å‹å‚æ•°å°†ç±»å‹å®‰å…¨ä»è¿è¡Œæ—¶å‰ç§»åˆ°ç¼–è¯‘æ—¶ï¼Œå®ç°äº†çœŸæ­£çš„ç±»å‹å®‰å…¨ç¼–ç¨‹ã€‚</p>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ³›å‹çš„ç±»å‹å‚æ•°ç³»ç»Ÿ</h2>
                <p><strong>ç±»å‹å‚æ•°å‘½åè§„èŒƒ</strong>ï¼šä½¿ç”¨æœ‰æ„ä¹‰çš„å•ä¸ªå¤§å†™å­—æ¯</p>

                <div class="code-block">
                    <pre><code class="language-java">// å¸¸ç”¨ç±»å‹å‚æ•°å‘½å
E - Element (é›†åˆä¸­çš„å…ƒç´ ç±»å‹)
K - Key (æ˜ å°„ä¸­çš„é”®ç±»å‹)
V - Value (æ˜ å°„ä¸­çš„å€¼ç±»å‹)
T - Type (é€šç”¨ç±»å‹å‚æ•°)
N - Number (æ•°å€¼ç±»å‹)
S, U, V - ç¬¬äºŒã€ä¸‰ã€å››ä¸ªç±»å‹å‚æ•°</code></pre>
                </div>

                <h3>å¤šä¸ªç±»å‹å‚æ•°çš„åº”ç”¨</h3>
                <div class="code-block">
                    <pre><code class="language-java">// æ³›å‹ç±»æ”¯æŒå¤šä¸ªç±»å‹å‚æ•°
public class Pair&lt;K, V&gt; {
    private final K key;
    private final V value;

    public Pair(K key, V value) {
        this.key = key;
        this.value = value;
    }

    public K getKey() { return key; }
    public V getValue() { return value; }
}

// å®é™…ä½¿ç”¨
Pair&lt;String, Integer&gt; student = new Pair&lt;&gt;("å¼ ä¸‰", 95);
Pair&lt;String, String&gt; course = new Pair&lt;&gt;("Java", "ä¼˜ç§€");</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ³›å‹çš„ä½¿ç”¨é™åˆ¶</h2>
                <p>ç”±äºç±»å‹æ“¦é™¤æœºåˆ¶ï¼Œæ³›å‹åœ¨ä½¿ç”¨æ—¶æœ‰ä¸€äº›é‡è¦é™åˆ¶</p>

                <h3>1. åŸºæœ¬ç±»å‹ä¸æ”¯æŒ</h3>
                <div class="code-block">
                    <pre><code class="language-java">// é”™è¯¯ï¼šä¸èƒ½ä½¿ç”¨åŸºæœ¬ç±»å‹
List&lt;int&gt; list = new ArrayList&lt;&gt;();  //ç¼–è¯‘é”™è¯¯

// æ­£ç¡®ï¼šä½¿ç”¨åŒ…è£…ç±»
List&lt;Integer&gt; list = new ArrayList&lt;&gt;();</code></pre>
                </div>

                <h3>2. é™æ€ä¸Šä¸‹æ–‡é™åˆ¶</h3>
                <div class="code-block">
                    <pre><code class="language-java">public class GenericClass&lt;T&gt; {
    // é”™è¯¯ï¼šé™æ€æ–¹æ³•ä¸èƒ½ä½¿ç”¨ç±»çš„ç±»å‹å‚æ•°
    public static void staticMethod(T param) { }  //ç¼–è¯‘é”™è¯¯

    // æ­£ç¡®ï¼šé™æ€æ–¹æ³•éœ€è¦å®šä¹‰è‡ªå·±çš„ç±»å‹å‚æ•°
    public static &lt;E&gt; void staticMethod(E param) { }
}</code></pre>
                </div>

                <h3>3. å…¶ä»–é‡è¦é™åˆ¶</h3>
                <ul>
                    <li><strong>ä¸èƒ½åˆ›å»ºæ³›å‹æ•°ç»„</strong>ï¼šT[] array = new T[10]; // ç¼–è¯‘é”™è¯¯</li>
                    <li><strong>ä¸èƒ½è¿›è¡Œæ³›å‹ç±»å‹åˆ¤æ–­</strong>ï¼šobj instanceof List&lt;String&gt; // ç¼–è¯‘é”™è¯¯</li>
                    <li><strong>ä¸èƒ½åˆ›å»ºæ³›å‹å®ä¾‹</strong>ï¼šT t = new T(); // ç¼–è¯‘é”™è¯¯</li>
                </ul>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ³›å‹é€šé…ç¬¦</h2>
                <p>ä½¿ç”¨?é€šé…ç¬¦å¯ä»¥æ¥å—ä»»æ„ç±»å‹çš„æ³›å‹å¯¹è±¡</p>
                <div class="code-block">
                    <pre><code class="language-java">public static void main(String[] args) {
    Test&lt;?&gt; test = new Test&lt;Integer&gt;();
    test = new Test&lt;String&gt;();
    Object o = test.value;    //é€šé…ç¬¦ç±»å‹ä¸ºObject
}</code></pre>
                </div>
                <p><strong>å¤šä¸ªç±»å‹å˜é‡</strong>ï¼šä½¿ç”¨é€—å·åˆ†éš”</p>
                <div class="code-block">
                    <pre><code class="language-java">public class Test&lt;A, B, C&gt; {
    public A a;
    public B b;
    public C c;
}

Test&lt;String, Integer, Character&gt; test = new Test&lt;&gt;();</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ³›å‹ä¸å¤šæ€</h2>
                <p>æ¥å£å’ŒæŠ½è±¡ç±»éƒ½æ”¯æŒæ³›å‹ï¼Œå­ç±»å¯ä»¥æ˜ç¡®ç±»å‹æˆ–ç»§ç»­ä½¿ç”¨æ³›å‹</p>
                <div class="code-block">
                    <pre><code class="language-java">public interface Study&lt;T&gt; {
    T test();
}

// æ˜ç¡®æ³›å‹ç±»å‹
static class A implements Study&lt;Integer&gt; {
    @Override
    public Integer test() {
        return null;
    }
}

// ç»§ç»­ä½¿ç”¨æ³›å‹
static class B&lt;T&gt; implements Study&lt;T&gt; {
    @Override
    public T test() {
        return null;
    }
}</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ³›å‹æ–¹æ³•</h2>
                <p>å½“æ–¹æ³•éœ€è¦æ¥å—çš„å‚æ•°ç±»å‹ä¸ç¡®å®šæ—¶ï¼Œå¯ä»¥å®šä¹‰æ³›å‹æ–¹æ³•</p>
                <div class="code-block">
                    <pre><code class="language-java">public class Main {
    public static void main(String[] args) {
        String str = test("Hello World!");
    }

    private static &lt;T&gt; T test(T t){
        // åœ¨è¿”å›å€¼ç±»å‹å‰æ·»åŠ &lt;&gt;å¹¶å¡«å†™æ³›å‹å˜é‡
        return t;
    }
}</code></pre>
                </div>
                <p><strong>å®é™…åº”ç”¨ç¤ºä¾‹</strong>ï¼š</p>
                <div class="code-block">
                    <pre><code class="language-java">private &lt;T&gt; void add(T[] arr, T t){
    arr[0] = t;
}</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ³›å‹æ–¹æ³•çš„åº”ç”¨</h2>
                <p>Javaå·¥å…·ç±»ä¸­å¤§é‡ä½¿ç”¨æ³›å‹æ–¹æ³•</p>
                <div class="code-block">
                    <pre><code class="language-java">// Arrays.sort()ä½¿ç”¨æ³›å‹æ¥å£
Integer[] arr = {1, 4, 5, 2, 6, 3, 0, 7, 9, 8};
Arrays.sort(arr, new Comparator&lt;Integer&gt;() {
    @Override
    public int compare(Integer o1, Integer o2) {
        return o2 - o1;    // é™åºæ’åº
    }
});

// ä½¿ç”¨Lambdaè¡¨è¾¾å¼ç®€åŒ–
Arrays.sort(arr, (o1, o2) -&gt; o2 - o1);</code></pre>
                </div>
                <div class="code-block">
                    <pre><code class="language-java">// æ•°ç»„å¤åˆ¶æ–¹æ³•
String[] arr = {"AAA", "BBB", "CCC"};
String[] newArr = Arrays.copyOf(arr, 3);  //æ³›å‹æ–¹æ³•</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ³›å‹ç•Œé™</h2>
                <p>å¯ä»¥é™åˆ¶æ³›å‹çš„ç±»å‹èŒƒå›´ï¼Œåªå…è®¸ç‰¹å®šç±»å‹æˆ–å…¶å­ç±»</p>
                <div class="code-block">
                    <pre><code class="language-java">public class Score&lt;T extends Number&gt; {
    // è®¾å®šç±»å‹å‚æ•°ä¸Šç•Œï¼Œå¿…é¡»æ˜¯Numberæˆ–æ˜¯Numberçš„å­ç±»
    private final String name;
    private final String id;
    private final T value;

    public Score(String name, String id, T value) {
        this.name = name;
        this.id = id;
        this.value = value;
    }
}</code></pre>
                </div>
                <p><strong>ä½¿ç”¨é™åˆ¶</strong>ï¼šå…·ä½“ç±»å‹åªèƒ½æ˜¯æŒ‡å®šä¸Šç•Œç±»å‹æˆ–å…¶å­ç±»</p>
                <div class="code-block">
                    <pre><code class="language-java">Score&lt;Integer&gt; score1 = new Score&lt;&gt;("æ•°æ®ç»“æ„", "EP074512", 95);  //æ­£ç¡®
Score&lt;String&gt; score2 = new Score&lt;&gt;("è®¡ç®—æœºç½‘ç»œ", "EP074513", "ä¼˜ç§€");  //ç¼–è¯‘é”™è¯¯</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ³›å‹ç•Œé™çš„é€šé…ç¬¦ä½¿ç”¨</h2>
                <p>é€šé…ç¬¦ä¹Ÿæ”¯æŒæ³›å‹ç•Œé™</p>
                <div class="code-block">
                    <pre><code class="language-java">// ä¸Šç•Œé€šé…ç¬¦
Score&lt;? extends Integer&gt; score = new Score&lt;&gt;("æ•°æ®ç»“æ„", "EP074512", 60);
Number o = score.getValue();   //ç±»å‹ä¸ºä¸Šç•ŒNumber

// ä¸‹ç•Œé€šé…ç¬¦ï¼ˆä»…é€‚ç”¨äºé€šé…ç¬¦ï¼‰
Score&lt;? super Number&gt; score2 = new Score&lt;&gt;("æ•°æ®ç»“æ„", "EP074512", 60);
Object obj = score2.getValue();   //ç±»å‹ä»ä¸ºObject</code></pre>
                </div>
                <p class="conclusion">é€šè¿‡è®¾å®šæ³›å‹ä¸Šé™ï¼Œå¯ä»¥æ›´çµæ´»åœ°æ§åˆ¶æ³›å‹çš„å…·ä½“ç±»å‹èŒƒå›´ã€‚</p>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>ç±»å‹æ“¦é™¤æ·±åº¦è§£æ</h2>
                <p><strong>ä»€ä¹ˆæ˜¯ç±»å‹æ“¦é™¤</strong>ï¼šJavaæ³›å‹æ˜¯ç¼–è¯‘æ—¶ç‰¹æ€§ï¼Œåœ¨è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯ä¼šè¢«æ“¦é™¤</p>

                <h3>ç±»å‹æ“¦é™¤çš„åŸºæœ¬è§„åˆ™</h3>
                <div class="code-block">
                    <pre><code class="language-java">// ç¼–è¯‘æ—¶ï¼šæ³›å‹ç‰ˆæœ¬
public class GenericContainer&lt;T&gt; {
    private T element;

    public void set(T element) { this.element = element; }
    public T get() { return element; }
}

// è¿è¡Œæ—¶ï¼šç±»å‹æ“¦é™¤å
public class GenericContainer {
    private Object element;

    public void set(Object element) { this.element = element; }
    public Object get() { return element; }
}</code></pre>
                </div>

                <h3>ç±»å‹æ“¦é™¤çš„ä¸¤ç§æƒ…å†µ</h3>
                <ul>
                    <li><strong>æ— ç•Œç±»å‹æ“¦é™¤</strong>ï¼š&lt;T&gt; â†’ Object</li>
                    <li><strong>æœ‰ç•Œç±»å‹æ“¦é™¤</strong>ï¼š&lt;T extends Number&gt; â†’ Number</li>
                </ul>

                <p class="conclusion">ç±»å‹æ“¦é™¤ä¿è¯äº†å‘åå…¼å®¹æ€§ï¼Œä½†åŒæ—¶ä¹Ÿå¸¦æ¥äº†ä¸€äº›é™åˆ¶ã€‚</p>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>ç±»å‹æ“¦é™¤çš„å½±å“ä¸æ¡¥æ¥æ–¹æ³•</h2>
                <h3>ç±»å‹æ“¦é™¤çš„æ ¸å¿ƒå½±å“</h3>
                <ul>
                    <li><strong>ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥</strong>ï¼šæ³›å‹ä»…åœ¨ç¼–è¯‘é˜¶æ®µè¿›è¡Œç±»å‹å®‰å…¨æ£€æŸ¥</li>
                    <li><strong>è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯ä¸¢å¤±</strong>ï¼šæ³›å‹ç±»å‹ä¿¡æ¯åœ¨è¿è¡Œæ—¶è¢«æ“¦é™¤</li>
                    <li><strong>è‡ªåŠ¨ç±»å‹è½¬æ¢</strong>ï¼šç¼–è¯‘å™¨è‡ªåŠ¨æ’å…¥å¼ºåˆ¶ç±»å‹è½¬æ¢</li>
                    <li><strong>æ¡¥æ¥æ–¹æ³•ç”Ÿæˆ</strong>ï¼šä¿æŒå¤šæ€çš„å…¼å®¹æ€§</li>
                </ul>

                <h3>æ¡¥æ¥æ–¹æ³•çš„ç”Ÿæˆ</h3>
                <div class="code-block">
                    <pre><code class="language-java">// æºä»£ç 
public class StringComparator implements Comparator&lt;String&gt; {
    @Override
    public int compare(String s1, String s2) {
        return s1.length() - s2.length();
    }
}

// ç¼–è¯‘åï¼šå®é™…ç”Ÿæˆä¸¤ä¸ªæ–¹æ³•
public class StringComparator implements Comparator {
    // åŸå§‹æ–¹æ³•
    public int compare(String s1, String s2) {
        return s1.length() - s2.length();
    }

    // æ¡¥æ¥æ–¹æ³•ï¼ˆç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆï¼‰
    public int compare(Object o1, Object o2) {
        return compare((String) o1, (String) o2);
    }
}</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ³›å‹ä¸åå°„çš„ç»“åˆ</h2>
                <p>è™½ç„¶ç±»å‹æ“¦é™¤ä¼šä¸¢å¤±æ³›å‹ä¿¡æ¯ï¼Œä½†Javaé€šè¿‡åå°„æœºåˆ¶ä¿ç•™éƒ¨åˆ†æ³›å‹å…ƒæ•°æ®</p>

                <h3>è·å–æ³›å‹ä¿¡æ¯</h3>
                <div class="code-block">
                    <pre><code class="language-java">public class GenericClass&lt;T&gt; {
    private List&lt;T&gt; items;
    private Map&lt;String, T&gt; cache;

    // é€šè¿‡åå°„è·å–å­—æ®µçš„æ³›å‹ç±»å‹ä¿¡æ¯
    public static void analyzeGenericFields() throws Exception {
        Field itemsField = GenericClass.class.getDeclaredField("items");
        Type itemsType = itemsField.getGenericType();

        if (itemsType instanceof ParameterizedType) {
            ParameterizedType pType = (ParameterizedType) itemsType;
            System.out.println("åŸå§‹ç±»å‹: " + pType.getRawType());
            System.out.println("ç±»å‹å‚æ•°: " + Arrays.toString(pType.getActualTypeArguments()));
        }
    }
}</code></pre>
                </div>

                <h3>åå°„æ“ä½œæ³›å‹</h3>
                <div class="code-block">
                    <pre><code class="language-java">// åˆ›å»ºæ³›å‹ç±»å‹çš„å®ä¾‹
public static &lt;T&gt; T createInstance(Class&lt;T&gt; clazz) throws Exception {
    return clazz.getDeclaredConstructor().newInstance();
}

// è·å–æ–¹æ³•çš„æ³›å‹è¿”å›ç±»å‹
Method method = GenericClass.class.getMethod("getItems");
Type returnType = method.getGenericReturnType();</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>å‡½æ•°å¼æ¥å£æ¦‚è¿°</h2>
                <p>JDK 1.8æ–°å¢çš„ä¸“é—¨ç”¨äºLambdaè¡¨è¾¾å¼çš„æ¥å£</p>
                <ul>
                    <li><strong>Supplier&lt;T&gt;</strong>ï¼šä¾›ç»™å‹å‡½æ•°å¼æ¥å£ï¼Œæä¾›å¯¹è±¡</li>
                    <li><strong>Consumer&lt;T&gt;</strong>ï¼šæ¶ˆè´¹å‹å‡½æ•°å¼æ¥å£ï¼Œæ¶ˆè´¹å¯¹è±¡</li>
                    <li><strong>Function&lt;T,R&gt;</strong>ï¼šå‡½æ•°å‹å‡½æ•°å¼æ¥å£ï¼Œè½¬æ¢å¯¹è±¡</li>
                    <li><strong>Predicate&lt;T&gt;</strong>ï¼šæ–­è¨€å‹å‡½æ•°å¼æ¥å£ï¼Œåˆ¤æ–­æ¡ä»¶</li>
                </ul>
                <p class="conclusion">è¿™äº›æ¥å£éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨Lambdaè¡¨è¾¾å¼ï¼Œæå¤§ç®€åŒ–ä»£ç ç¼–å†™ã€‚</p>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>Supplierä¾›ç»™å‹æ¥å£</h2>
                <p>ä¸“é—¨ç”¨äºä¾›ç»™ä½¿ç”¨çš„æ¥å£ï¼Œåªæœ‰ä¸€ä¸ªgetæ–¹æ³•</p>
                <div class="code-block">
                    <pre><code class="language-java">@FunctionalInterface
public interface Supplier&lt;T&gt; {
    T get();   //å®ç°æ­¤æ–¹æ³•ï¼Œå®ç°ä¾›ç»™åŠŸèƒ½
}</code></pre>
                </div>
                <div class="code-block">
                    <pre><code class="language-java">public class Student {
    public void hello(){
        System.out.println("æˆ‘æ˜¯å­¦ç”Ÿï¼");
    }
}

// ä¸“é—¨ä¾›ç»™Studentå¯¹è±¡çš„Supplier
private static final Supplier&lt;Student&gt; STUDENT_SUPPLIER = Student::new;
public static void main(String[] args) {
    Student student = STUDENT_SUPPLIER.get();
    student.hello();
}</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>Consumeræ¶ˆè´¹å‹æ¥å£</h2>
                <p>ä¸“é—¨ç”¨äºæ¶ˆè´¹æŸä¸ªå¯¹è±¡çš„æ¥å£</p>
                <div class="code-block">
                    <pre><code class="language-java">@FunctionalInterface
public interface Consumer&lt;T&gt; {
    void accept(T t);    //æ¶ˆè´¹æ–¹æ³•ï¼Œæ²¡æœ‰è¿”å›å€¼

    default Consumer&lt;T&gt; andThen(Consumer&lt;? super T&gt; after) {
        Objects.requireNonNull(after);
        return (T t) -&gt; { accept(t); after.accept(t); };
    }
}</code></pre>
                </div>
                <div class="code-block">
                    <pre><code class="language-java">// ä¸“é—¨æ¶ˆè´¹Studentå¯¹è±¡çš„Consumer
private static final Consumer&lt;Student&gt; STUDENT_CONSUMER =
    student -&gt; System.out.println(student + " çœŸå¥½åƒï¼");

public static void main(String[] args) {
    Student student = new Student();
    STUDENT_CONSUMER.accept(student);
}</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>Consumeré“¾å¼è°ƒç”¨</h2>
                <p>ä½¿ç”¨andThenæ–¹æ³•å®ç°è¿ç»­æ¶ˆè´¹</p>
                <div class="code-block">
                    <pre><code class="language-java">public static void main(String[] args) {
    Student student = new Student();
    STUDENT_CONSUMER
        .andThen(stu -&gt; System.out.println("æˆ‘æ˜¯åƒå®Œä¹‹åçš„æ“ä½œï¼"))
        .andThen(stu -&gt; System.out.println("å¥½äº†å¥½äº†ï¼Œåƒé¥±äº†ï¼"))
        .accept(student);   //æ‰§è¡Œé“¾å¼æ“ä½œ
}</code></pre>
                </div>
                <p class="conclusion">ä½¿ç”¨ç®€æ´çš„ä»£ç å°±å¯ä»¥å®ç°å¤æ‚çš„æ¶ˆè´¹é€»è¾‘é“¾ã€‚</p>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>Functionå‡½æ•°å‹æ¥å£</h2>
                <p>æ¶ˆè´¹ä¸€ä¸ªå¯¹è±¡ï¼Œä¾›ç»™ä¸€ä¸ªå¯¹è±¡ï¼ˆå‰ä¸¤ä¸ªçš„èåˆä½“ï¼‰</p>
                <div class="code-block">
                    <pre><code class="language-java">@FunctionalInterface
public interface Function&lt;T, R&gt; {
    R apply(T t);   //æ¥å—çš„å‚æ•°ç±»å‹ï¼Œè¿”å›çš„ç»“æœç±»å‹

    default &lt;V&gt; Function&lt;V, R&gt; compose(Function&lt;? super V, ? extends T&gt; before) { }
    default &lt;V&gt; Function&lt;T, V&gt; andThen(Function&lt;? super R, ? extends V&gt; after) { }
    static &lt;T&gt; Function&lt;T, T&gt; identity() { return t -&gt; t; }
}</code></pre>
                </div>
                <div class="code-block">
                    <pre><code class="language-java">// å°†intå‚æ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸²
private static final Function&lt;Integer, String&gt; INTEGER_STRING_FUNCTION =
    Object::toString;
public static void main(String[] args) {
    String str = INTEGER_STRING_FUNCTION.apply(10);
    System.out.println(str);
}</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>Functionç»„åˆæ“ä½œ</h2>
                <p>ä½¿ç”¨composeå’ŒandThenè¿›è¡Œå‡½æ•°ç»„åˆ</p>
                <div class="code-block">
                    <pre><code class="language-java">public static void main(String[] args) {
    // composeï¼šå°†æŒ‡å®šå‡½æ•°çš„ç»“æœä½œä¸ºå½“å‰å‡½æ•°çš„å®å‚
    String str = INTEGER_STRING_FUNCTION
        .compose((String s) -&gt; s.length())
        .apply("lbwnb");

    // andThenï¼šå°†å½“å‰å®ç°çš„è¿”å›å€¼è¿›è¡Œè¿›ä¸€æ­¥å¤„ç†
    Boolean result = INTEGER_STRING_FUNCTION
        .andThen(String::isEmpty)
        .apply(10);
}</code></pre>
                </div>
                <div class="code-block">
                    <pre><code class="language-java">// identityï¼šåŸæ ·è¿”å›
Function&lt;String, String&gt; function = Function.identity();
System.out.println(function.apply("ä¸ä¼šå§ä¸ä¼šå§ï¼Œä¸ä¼šæœ‰äººå¬åˆ°ç°åœ¨è¿˜æ˜¯æ‡µé€¼çš„å§"));</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>Predicateæ–­è¨€å‹æ¥å£</h2>
                <p>æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè¿›è¡Œè‡ªå®šä¹‰åˆ¤æ–­å¹¶è¿”å›booleanç»“æœ</p>
                <div class="code-block">
                    <pre><code class="language-java">@FunctionalInterface
public interface Predicate&lt;T&gt; {
    boolean test(T t);    //åˆ¤æ–­æ–¹æ³•

    default Predicate&lt;T&gt; and(Predicate&lt;? super T&gt; other) { }
    default Predicate&lt;T&gt; negate() { return (t) -&gt; !test(t); }
    default Predicate&lt;T&gt; or(Predicate&lt;? super T&gt; other) { }
    static &lt;T&gt; Predicate&lt;T&gt; isEqual(Object targetRef) { }
}</code></pre>
                </div>
                <div class="code-block">
                    <pre><code class="language-java">public class Student {
    public int score;
}

private static final Predicate&lt;Student&gt; STUDENT_PREDICATE =
    student -&gt; student.score &gt;= 60;

public static void main(String[] args) {
    Student student = new Student();
    student.score = 80;
    if(STUDENT_PREDICATE.test(student)) {
        System.out.println("åŠæ ¼äº†ï¼ŒçœŸä¸é”™ï¼Œä»Šæ™šå¥–åŠ±è‡ªå·±ä¸€æ¬¡");
    }
}</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>Predicateç»„åˆæ¡ä»¶</h2>
                <p>æ”¯æŒå¤šä¸ªæ¡ä»¶çš„ç»„åˆåˆ¤æ–­</p>
                <div class="code-block">
                    <pre><code class="language-java">public static void main(String[] args) {
    Student student = new Student();
    student.score = 80;

    // andæ“ä½œï¼šéœ€è¦åŒæ—¶æ»¡è¶³æ‰€æœ‰æ¡ä»¶
    boolean b1 = STUDENT_PREDICATE
        .and(stu -&gt; stu.score &gt; 90)
        .test(student);

    // negateæ“ä½œï¼šå–å
    boolean b2 = STUDENT_PREDICATE.negate().test(student);

    // oræ“ä½œï¼šæ»¡è¶³ä»»æ„ä¸€ä¸ªæ¡ä»¶
    boolean b3 = STUDENT_PREDICATE
        .or(stu -&gt; student.score &gt; 90)
        .test(student);
}</code></pre>
                </div>
                <div class="code-block">
                    <pre><code class="language-java">// isEqualï¼šåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰
Predicate&lt;String&gt; predicate = Predicate.isEqual("Hello World");
System.out.println(predicate.test("Hello World"));  //true</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>Optionalåˆ¤ç©ºåŒ…è£…</h2>
                <p>Java8æ–°å¢çš„åˆ¤ç©ºåŒ…è£…ç±»ï¼Œæœ‰æ•ˆå¤„ç†ç©ºæŒ‡é’ˆé—®é¢˜</p>
                <div class="code-block">
                    <pre><code class="language-java">// ä¼ ç»Ÿæ–¹å¼ï¼šå®¹æ˜“å‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸
private static void test(String str){
    if(!str.isEmpty()) {   //ä¼ å…¥nullæ—¶ç›´æ¥çˆ†ç‚¸
        System.out.println("å­—ç¬¦ä¸²é•¿åº¦ä¸ºï¼š"+str.length());
    }
}

// ä¼ ç»Ÿè§£å†³æ–¹æ¡ˆï¼šéœ€è¦æ‰‹åŠ¨åˆ¤ç©º
private static void test(String str){
    if(str == null) return;
    if(!str.isEmpty()) {
        System.out.println("å­—ç¬¦ä¸²é•¿åº¦ä¸ºï¼š"+str.length());
    }
}</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>Optionalä¼˜é›…å¤„ç†ç©ºå€¼</h2>
                <p>ä½¿ç”¨Optionalè®©ç©ºå€¼å¤„ç†æ›´åŠ ä¼˜é›…</p>
                <div class="code-block">
                    <pre><code class="language-java">private static void test(String str){
    Optional
        .ofNullable(str)   //å°†ä¼ å…¥çš„å¯¹è±¡åŒ…è£…è¿›Optionalä¸­
        .ifPresent(s -&gt; System.out.println("å­—ç¬¦ä¸²é•¿åº¦ä¸ºï¼š"+s.length()));
        // å¦‚æœä¸ä¸ºç©ºï¼Œåˆ™æ‰§è¡ŒConsumerå®ç°
}</code></pre>
                </div>
                <p><strong>Optionalçš„å¸¸ç”¨æ–¹æ³•</strong>ï¼š</p>
                <div class="code-block">
                    <pre><code class="language-java">// getæ–¹æ³•ï¼šè·å–è¢«åŒ…è£…çš„å¯¹è±¡ï¼ˆä¸ºç©ºä¼šæŠ›å‡ºå¼‚å¸¸ï¼‰
String s = Optional.ofNullable(str).get();

// orElseæ–¹æ³•ï¼šä¸ºç©ºæ—¶è¿”å›å¤‡é€‰æ–¹æ¡ˆ
String s = Optional.ofNullable(str).orElse("æˆ‘æ˜¯ä¸ºnullçš„æƒ…å†µå¤‡é€‰æ–¹æ¡ˆ");

// mapæ–¹æ³•ï¼šè½¬æ¢ä¸ºå¦ä¸€ç§ç±»å‹
Integer i = Optional.ofNullable(str)
    .map(String::length)
    .orElse(-1);</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ³›å‹å®æˆ˜åº”ç”¨ï¼šè‡ªå®šä¹‰é›†åˆæ¡†æ¶</h2>
                <p><strong>ç›®æ ‡</strong>ï¼šé€šè¿‡å®ç°è‡ªå®šä¹‰æ³›å‹é›†åˆç±»ï¼Œæ·±å…¥ç†è§£æ³›å‹çš„å®é™…åº”ç”¨</p>

                <h3>å®æˆ˜1ï¼šæ³›å‹åŠ¨æ€æ•°ç»„å®ç°</h3>
                <div class="code-block">
                    <pre><code class="language-java">public class GenericArrayList&lt;E&gt; {
    private static final int DEFAULT_CAPACITY = 10;
    private Object[] elements;
    private int size;

    public GenericArrayList() {
        this.elements = new Object[DEFAULT_CAPACITY];
        this.size = 0;
    }

    // æ³›å‹æ·»åŠ æ–¹æ³•
    public boolean add(E element) {
        ensureCapacity();
        elements[size++] = element;
        return true;
    }

    // æ³›å‹è·å–æ–¹æ³•
    @SuppressWarnings("unchecked")
    public E get(int index) {
        checkIndex(index);
        return (E) elements[index];
    }

    // æ³›å‹è®¾ç½®æ–¹æ³•
    @SuppressWarnings("unchecked")
    public E set(int index, E element) {
        checkIndex(index);
        E oldValue = (E) elements[index];
        elements[index] = element;
        return oldValue;
    }
}</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ³›å‹åŠ¨æ€æ•°ç»„ï¼šè¿›é˜¶åŠŸèƒ½</h2>
                <h3>å®ç°è¿­ä»£å™¨å’Œç±»å‹å®‰å…¨</h3>
                <div class="code-block">
                    <pre><code class="language-java">public class GenericArrayList&lt;E&gt; implements Iterable&lt;E&gt; {
    // ... å‰é¢çš„ä»£ç 

    // å®ç°Iterableæ¥å£
    @Override
    public Iterator&lt;E&gt; iterator() {
        return new GenericArrayListIterator();
    }

    // å†…éƒ¨è¿­ä»£å™¨ç±»
    private class GenericArrayListIterator implements Iterator&lt;E&gt; {
        private int currentIndex = 0;

        @Override
        public boolean hasNext() {
            return currentIndex &lt; size;
        }

        @Override
        @SuppressWarnings("unchecked")
        public E next() {
            if (!hasNext()) {
                throw new NoSuchElementException();
            }
            return (E) elements[currentIndex++];
        }
    }

    // æ³›å‹åˆ é™¤æ–¹æ³•
    @SuppressWarnings("unchecked")
    public E remove(int index) {
        checkIndex(index);
        E oldValue = (E) elements[index];

        int numMoved = size - index - 1;
        if (numMoved &gt; 0) {
            System.arraycopy(elements, index + 1, elements, index, numMoved);
        }

        elements[--size] = null; // æ¸…ç†å¼•ç”¨
        return oldValue;
    }
}</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ³›å‹å®æˆ˜åº”ç”¨ï¼šå·¥å…·ç±»è®¾è®¡</h2>
                <h3>å®æˆ˜2ï¼šæ³›å‹å·¥å…·ç±»</h3>
                <div class="code-block">
                    <pre><code class="language-java">public class GenericUtils {
    // æ³›å‹äº¤æ¢æ–¹æ³•
    public static &lt;T&gt; void swap(T[] array, int i, int j) {
        T temp = array[i];
        array[i] = array[j];
        array[j] = temp;
    }

    // æ³›å‹æŸ¥æ‰¾æœ€å¤§å€¼
    public static &lt;T extends Comparable&lt;T&gt;&gt; T findMax(T[] array) {
        if (array == null || array.length == 0) {
            return null;
        }

        T max = array[0];
        for (int i = 1; i &lt; array.length; i++) {
            if (array[i].compareTo(max) &gt; 0) {
                max = array[i];
            }
        }
        return max;
    }

    // æ³›å‹åè½¬æ•°ç»„
    public static &lt;T&gt; void reverse(T[] array) {
        int left = 0;
        int right = array.length - 1;
        while (left &lt; right) {
            swap(array, left, right);
            left++;
            right--;
        }
    }
}</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ³›å‹å®æˆ˜åº”ç”¨ï¼šè®¾è®¡æ¨¡å¼</h2>
                <h3>å®æˆ˜3ï¼šæ³›å‹å·¥å‚æ¨¡å¼</h3>
                <div class="code-block">
                    <pre><code class="language-java">// æ³›å‹å·¥å‚æ¥å£
public interface GenericFactory&lt;T&gt; {
    T create();
}

// å…·ä½“å·¥å‚å®ç°
public class StudentFactory implements GenericFactory&lt;Student&gt; {
    @Override
    public Student create() {
        return new Student();
    }
}

// æ³›å‹å·¥å‚ç®¡ç†å™¨
public class FactoryManager {
    private static final Map&lt;Class&lt;?&gt;, GenericFactory&lt;?&gt;&gt; factories = new HashMap&lt;&gt;();

    @SuppressWarnings("unchecked")
    public static &lt;T&gt; T createInstance(Class&lt;T&gt; type) {
        GenericFactory&lt;T&gt; factory = (GenericFactory&lt;T&gt;) factories.get(type);
        if (factory == null) {
            throw new IllegalArgumentException("No factory registered for " + type);
        }
        return factory.create();
    }

    public static &lt;T&gt; void registerFactory(Class&lt;T&gt; type, GenericFactory&lt;T&gt; factory) {
        factories.put(type, factory);
    }
}</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ³›å‹å®æˆ˜åº”ç”¨ï¼šBuilderæ¨¡å¼</h2>
                <h3>å®æˆ˜4ï¼šç±»å‹å®‰å…¨çš„Builder</h3>
                <div class="code-block">
                    <pre><code class="language-java">public class GenericBuilder&lt;T&gt; {
    private final Supplier&lt;T&gt; supplier;
    private final List&lt;Consumer&lt;T&gt;&gt; modifiers = new ArrayList&lt;&gt;();

    private GenericBuilder(Supplier&lt;T&gt; supplier) {
        this.supplier = supplier;
    }

    public static &lt;T&gt; GenericBuilder&lt;T&gt; of(Supplier&lt;T&gt; supplier) {
        return new GenericBuilder&lt;&gt;(supplier);
    }

    public &lt;P&gt; GenericBuilder&lt;T&gt; with(BiConsumer&lt;T, P&gt; consumer, P value) {
        Consumer&lt;T&gt; modifier = instance -&gt; consumer.accept(instance, value);
        modifiers.add(modifier);
        return this;
    }

    public T build() {
        T instance = supplier.get();
        modifiers.forEach(modifier -&gt; modifier.accept(instance));
        return instance;
    }
}

// ä½¿ç”¨ç¤ºä¾‹
Student student = GenericBuilder.of(Student::new)
    .with(Student::setName, "å¼ ä¸‰")
    .with(Student::setAge, 20)
    .with(Student::setScore, 95.5)
    .build();</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ³›å‹å®æˆ˜åº”ç”¨ï¼šç±»å‹å®‰å…¨çš„å®¹å™¨</h2>
                <h3>å®æˆ˜5ï¼šæ³›å‹ç¼“å­˜å®¹å™¨</h3>
                <div class="code-block">
                    <pre><code class="language-java">public class GenericCache&lt;K, V&gt; {
    private final Map&lt;K, V&gt; cache = new HashMap&lt;&gt;();
    private final Function&lt;K, V&gt; loader;
    private final int maxSize;

    public GenericCache(Function&lt;K, V&gt; loader, int maxSize) {
        this.loader = loader;
        this.maxSize = maxSize;
    }

    public V get(K key) {
        V value = cache.get(key);
        if (value == null) {
            value = loader.apply(key);
            if (cache.size() &gt;= maxSize) {
                // ç®€å•çš„LRUç­–ç•¥ï¼šç§»é™¤ç¬¬ä¸€ä¸ªå…ƒç´ 
                K firstKey = cache.keySet().iterator().next();
                cache.remove(firstKey);
            }
            cache.put(key, value);
        }
        return value;
    }

    public void put(K key, V value) {
        if (cache.size() &gt;= maxSize) {
            K firstKey = cache.keySet().iterator().next();
            cache.remove(firstKey);
        }
        cache.put(key, value);
    }
}</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ³›å‹å®æˆ˜åº”ç”¨ï¼šäº‹ä»¶å¤„ç†ç³»ç»Ÿ</h2>
                <h3>å®æˆ˜6ï¼šç±»å‹å®‰å…¨çš„äº‹ä»¶æ€»çº¿</h3>
                <div class="code-block">
                    <pre><code class="language-java">public class GenericEventBus {
    private final Map&lt;Class&lt;?&gt;, List&lt;Consumer&lt;?&gt;&gt;&gt; listeners = new ConcurrentHashMap&lt;&gt;();

    @SuppressWarnings("unchecked")
    public &lt;T&gt; void subscribe(Class&lt;T&gt; eventType, Consumer&lt;T&gt; listener) {
        listeners.computeIfAbsent(eventType, k -&gt; new ArrayList&lt;&gt;())
                  .add(listener);
    }

    @SuppressWarnings("unchecked")
    public &lt;T&gt; void publish(T event) {
        Class&lt;T eventType = (Class&lt;T&gt;) event.getClass();
        List&lt;Consumer&lt;?&gt;&gt; eventListeners = listeners.get(eventType);

        if (eventListeners != null) {
            eventListeners.forEach(listener -&gt;
                ((Consumer&lt;T&gt;) listener).accept(event));
        }
    }

    public &lt;T&gt; void unsubscribe(Class&lt;T&gt; eventType, Consumer&lt;T&gt; listener) {
        List&lt;Consumer&lt;?&gt;&gt; eventListeners = listeners.get(eventType);
        if (eventListeners != null) {
            eventListeners.remove(listener);
            if (eventListeners.isEmpty()) {
                listeners.remove(eventType);
            }
        }
    }
}</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ³›å‹å®æˆ˜ç»ƒä¹ ï¼šç±»å‹å®‰å…¨çš„JSONè§£æå™¨</h2>
                <p><strong>ç›®æ ‡</strong>ï¼šå®ç°ä¸€ä¸ªæ”¯æŒæ³›å‹çš„ç®€å•JSONè§£æå™¨ï¼Œå±•ç¤ºæ³›å‹åœ¨å®é™…é¡¹ç›®ä¸­çš„åº”ç”¨</p>

                <div class="code-block">
                    <pre><code class="language-java">// æ³›å‹JSONè§£æå™¨æ¥å£
public interface JsonParser&lt;T&gt; {
    T parse(String json);
    String toJson(T object);
}

// é€šç”¨JSONè§£æå™¨å®ç°
public class GenericJsonParser {

    @SuppressWarnings("unchecked")
    public static &lt;T&gt; T parse(String json, Class&lt;T&gt; clazz) {
        if (json == null || json.trim().isEmpty()) {
            return null;
        }

        // ç®€åŒ–å®ç°ï¼šä»…æ”¯æŒåŸºæœ¬ç±»å‹å’Œå­—ç¬¦ä¸²
        if (clazz == String.class) {
            return (T) json.replace("\"", "");
        } else if (clazz == Integer.class || clazz == int.class) {
            return (T) Integer.valueOf(json);
        } else if (clazz == Boolean.class || clazz == boolean.class) {
            return (T) Boolean.valueOf(json);
        } else {
            throw new IllegalArgumentException("Unsupported type: " + clazz);
        }
    }

    public static &lt;T&gt; String toJson(T object) {
        if (object == null) {
            return "null";
        } else if (object instanceof String) {
            return "\"" + object + "\"";
        } else {
            return object.toString();
        }
    }
}</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ³›å‹å®æˆ˜ç»ƒä¹ ï¼šç±»å‹å®‰å…¨çš„é…ç½®ç®¡ç†å™¨</h2>
                <p><strong>ç›®æ ‡</strong>ï¼šå®ç°ä¸€ä¸ªç±»å‹å®‰å…¨çš„é…ç½®ç®¡ç†å™¨ï¼Œé¿å…è¿è¡Œæ—¶ç±»å‹è½¬æ¢é”™è¯¯</p>

                <div class="code-block">
                    <pre><code class="language-java">public class GenericConfigManager {
    private final Map&lt;String, Object&gt; configurations = new HashMap&lt;&gt;();

    // ç±»å‹å®‰å…¨çš„é…ç½®è®¾ç½®
    public &lt;T&gt; void setConfig(String key, T value) {
        configurations.put(key, value);
    }

    // ç±»å‹å®‰å…¨çš„é…ç½®è·å–
    @SuppressWarnings("unchecked")
    public &lt;T&gt; T getConfig(String key, Class&lt;T&gt; type) {
        Object value = configurations.get(key);
        if (value == null) {
            return null;
        }

        if (!type.isInstance(value)) {
            throw new ClassCastException(
                String.format("Configuration '%s' is of type %s, but %s was requested",
                    key, value.getClass().getSimpleName(), type.getSimpleName()));
        }

        return (T) value;
    }

    // å¸¦é»˜è®¤å€¼çš„é…ç½®è·å–
    public &lt;T&gt; T getConfig(String key, Class&lt;T&gt; type, T defaultValue) {
        T value = getConfig(key, type);
        return value != null ? value : defaultValue;
    }

    // æ‰¹é‡é…ç½®åŠ è½½
    public void loadFromProperties(Properties properties) {
        properties.forEach((key, value) -&gt; {
            if (value instanceof String) {
                setConfig(key.toString(), value);
            } else {
                setConfig(key.toString(), value.toString());
            }
        });
    }
}</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ³›å‹å®æˆ˜ç»ƒä¹ ï¼šæ³›å‹ä»“å‚¨æ¨¡å¼</h2>
                <p><strong>ç›®æ ‡</strong>ï¼šå®ç°æ³›å‹ä»“å‚¨æ¨¡å¼ï¼Œå±•ç¤ºæ³›å‹åœ¨ä¼ä¸šçº§åº”ç”¨ä¸­çš„å®è·µ</p>

                <div class="code-block">
                    <pre><code class="language-java">// æ³›å‹ä»“å‚¨æ¥å£
public interface GenericRepository&lt;T, ID&gt; {
    T save(T entity);
    Optional&lt;T&gt; findById(ID id);
    List&lt;T&gt; findAll();
    void deleteById(ID id);
    boolean existsById(ID id);
}

// å†…å­˜å®ç°ç¤ºä¾‹
public class InMemoryRepository&lt;T, ID&gt; implements GenericRepository&lt;T, ID&gt; {
    private final Map&lt;ID, T&gt; storage = new ConcurrentHashMap&lt;&gt;();
    private final Function&lt;T, ID&gt; idExtractor;

    public InMemoryRepository(Function&lt;T, ID&gt; idExtractor) {
        this.idExtractor = idExtractor;
    }

    @Override
    public T save(T entity) {
        ID id = idExtractor.apply(entity);
        storage.put(id, entity);
        return entity;
    }

    @Override
    public Optional&lt;T&gt; findById(ID id) {
        return Optional.ofNullable(storage.get(id));
    }

    @Override
    public List&lt;T&gt; findAll() {
        return new ArrayList&lt;&gt;(storage.values());
    }

    @Override
    public void deleteById(ID id) {
        storage.remove(id);
    }

    @Override
    public boolean existsById(ID id) {
        return storage.containsKey(id);
    }
}</code></pre>
                </div>
            </div>
        </section>

        <section class="slide">
            <div class="slide-content">
                <h2>æ€»ç»“</h2>
                <div class="summary-points">
                    <h3>ğŸ¯ æ³›å‹æ ¸å¿ƒåŸç†</h3>
                    <ul>
                        <li><strong>ç±»å‹å®‰å…¨æœºåˆ¶</strong>ï¼šä»Objectåˆ°æ³›å‹ï¼Œå®ç°ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥</li>
                        <li><strong>ç±»å‹æ“¦é™¤åŸç†</strong>ï¼šæ·±å…¥ç†è§£æ³›å‹åœ¨ç¼–è¯‘åçš„å¤„ç†æœºåˆ¶</li>
                        <li><strong>æ¡¥æ¥æ–¹æ³•</strong>ï¼šä¿è¯æ³›å‹é‡å†™çš„æŠ€æœ¯å®ç°ä¸å¤šæ€å…¼å®¹æ€§</li>
                        <li><strong>åå°„ç»“åˆ</strong>ï¼šé€šè¿‡åå°„è·å–å’Œæ“ä½œæ³›å‹ç±»å‹ä¿¡æ¯</li>
                    </ul>

                    <h3>ğŸ”§ æ³›å‹è¯­æ³•ç²¾é€š</h3>
                    <ul>
                        <li><strong>æ³›å‹ç±»ä¸æ¥å£</strong>ï¼šç±»å‹å‚æ•°çš„å®šä¹‰ã€çº¦æŸä¸ç»§æ‰¿å…³ç³»</li>
                        <li><strong>æ³›å‹æ–¹æ³•</strong>ï¼šé™æ€æ–¹æ³•ä¸­çš„æ³›å‹åº”ç”¨ä¸ç±»å‹æ¨æ–­</li>
                        <li><strong>é€šé…ç¬¦æœºåˆ¶</strong>ï¼š?extendsä¸?superçš„çµæ´»è¿ç”¨åœºæ™¯</li>
                        <li><strong>æ³›å‹ç•Œé™</strong>ï¼šé€šè¿‡extendså’Œsuperçº¦æŸç±»å‹èŒƒå›´</li>
                    </ul>

                    <h3>ğŸš€ æ³›å‹å®æˆ˜åº”ç”¨</h3>
                    <ul>
                        <li><strong>è‡ªå®šä¹‰é›†åˆæ¡†æ¶</strong>ï¼šæ³›å‹åŠ¨æ€æ•°ç»„çš„å®Œæ•´å®ç°</li>
                        <li><strong>æ³›å‹å·¥å…·ç±»</strong>ï¼šç±»å‹å®‰å…¨çš„é€šç”¨å·¥å…·æ–¹æ³•è®¾è®¡</li>
                        <li><strong>è®¾è®¡æ¨¡å¼åº”ç”¨</strong>ï¼šæ³›å‹å·¥å‚ã€Builderæ¨¡å¼çš„æœ€ä½³å®è·µ</li>
                        <li><strong>ä¼ä¸šçº§åº”ç”¨</strong>ï¼šé…ç½®ç®¡ç†ã€äº‹ä»¶æ€»çº¿ã€ä»“å‚¨æ¨¡å¼ç­‰å®æˆ˜æ¡ˆä¾‹</li>
                    </ul>

                    <h3>ğŸŒŸ æ³›å‹ä¸ç°ä»£Java</h3>
                    <ul>
                        <li><strong>å‡½æ•°å¼ç¼–ç¨‹</strong>ï¼šæ³›å‹ä¸Lambdaã€Stream APIçš„å®Œç¾ç»“åˆ</li>
                        <li><strong>Optionalç±»</strong>ï¼šä¼˜é›…å¤„ç†ç©ºå€¼çš„æ³›å‹åŒ…è£…æ–¹æ¡ˆ</li>
                        <li><strong>ç±»å‹å®‰å…¨</strong>ï¼šåœ¨ç°ä»£Javaå¼€å‘ä¸­çš„ä¸å¯æ›¿ä»£ä½œç”¨</li>
                    </ul>
                </div>
                <p class="conclusion"><strong>æ³›å‹æ˜¯Javaç±»å‹ç³»ç»Ÿçš„åŸºçŸ³</strong>ï¼Œå®ƒä¸ä»…è§£å†³äº†ç±»å‹å®‰å…¨é—®é¢˜ï¼Œæ›´ä¸ºç°ä»£Javaå¼€å‘æä¾›äº†å¼ºå¤§çš„æŠ½è±¡èƒ½åŠ›ã€‚æŒæ¡æ³›å‹ï¼Œå°±æ˜¯æŒæ¡ç¼–å†™é«˜è´¨é‡ã€ç±»å‹å®‰å…¨ä»£ç çš„å…³é”®æŠ€èƒ½ã€‚</p>
            </div>
        </section>

        <div class="progress-bar-container">
            <div id="progress-bar"></div>
        </div>
        <div class="controls">
            <button id="prevBtn">ä¸Šä¸€é¡µ</button>
            <span id="slide-counter">1 / X</span>
            <button id="nextBtn">ä¸‹ä¸€é¡µ</button>
        </div>
    </main>

    <script src="./js/animation.js"></script>
    <script src="./js/ppt.js"></script>
    <script src="../prism/prism.js"></script>
    <script src="../prism/prism-autoloader.min.js"></script>
    <script src="./js/nav.js"></script>
</body>

</html>